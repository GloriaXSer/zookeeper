Testsuite: org.apache.zookeeper.SaslAuthTest
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 2.858 sec
------------- Standard Output ---------------
2018-06-28 17:39:26,900 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11221
2018-06-28 17:39:26,909 [myid:] - INFO  [main:ZKTestCase$1@59] - STARTING testAuth
2018-06-28 17:39:26,920 [myid:] - INFO  [main:ClientBase@489] - Initial fdcount is: 91
2018-06-28 17:39:27,172 [myid:] - INFO  [main:ClientBase@507] - STARTING server
2018-06-28 17:39:27,174 [myid:] - INFO  [main:ClientBase@428] - CREATING server instance 127.0.0.1:11221
2018-06-28 17:39:27,181 [myid:] - INFO  [main:ServerCnxnFactory@117] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2018-06-28 17:39:27,189 [myid:] - INFO  [main:Login@297] - Server successfully logged in.
2018-06-28 17:39:27,201 [myid:] - INFO  [main:NIOServerCnxnFactory@89] - binding to port 0.0.0.0/0.0.0.0:11221
2018-06-28 17:39:27,204 [myid:] - INFO  [main:ClientBase@403] - STARTING server instance 127.0.0.1:11221
2018-06-28 17:39:27,209 [myid:] - INFO  [main:Environment@100] - Server environment:zookeeper.version=3.4.13-2d71af4dbe22557fda74f9a9b4309b15a7487f03, built on 06/29/2018 00:39 GMT
2018-06-28 17:39:27,210 [myid:] - INFO  [main:Environment@100] - Server environment:host.name=10.0.0.10
2018-06-28 17:39:27,210 [myid:] - INFO  [main:Environment@100] - Server environment:java.version=1.8.0_172
2018-06-28 17:39:27,210 [myid:] - INFO  [main:Environment@100] - Server environment:java.vendor=Oracle Corporation
2018-06-28 17:39:27,210 [myid:] - INFO  [main:Environment@100] - Server environment:java.home=/Library/Java/JavaVirtualMachines/jdk1.8.0_172.jdk/Contents/Home/jre
2018-06-28 17:39:27,210 [myid:] - INFO  [main:Environment@100] - Server environment:java.class.path=/Users/hanm/Desktop/projects/git/apache/zookeeper/build/classes:/Users/hanm/Desktop/projects/git/apache/zookeeper/src/java/lib/ant-eclipse-1.0-jvm1.2.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/src/java/lib/ivy-2.4.0.jar:/usr/local/Cellar/ant/1.10.3/libexec/lib/ant.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/classes:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/antlr-2.7.7.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/antlr4-annotations-4.3.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/antlr4-runtime-4.3.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-core-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-core-api-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-core-avl-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-core-constants-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-core-shared-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-i18n-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptor-kerberos-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-admin-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-authn-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-authz-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-changelog-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-collective-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-event-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-exception-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-journal-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-normalization-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-operational-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-referral-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-schema-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-subtree-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-trigger-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-jdbm-partition-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-jdbm1-2.0.0-M2.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-kerberos-codec-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-ldif-partition-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-mavibot-partition-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-protocol-kerberos-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-protocol-ldap-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-protocol-shared-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-xdbm-partition-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-all-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-asn1-api-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-asn1-ber-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-i18n-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-ldap-client-api-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-ldap-codec-core-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-ldap-extras-aci-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-ldap-extras-codec-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-ldap-extras-codec-api-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-ldap-extras-sp-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-ldap-extras-trigger-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-ldap-extras-util-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-ldap-model-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-util-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/audience-annotations-0.5.0.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/bcprov-jdk15-140.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/checkstyle-6.1.1.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/commons-beanutils-core-1.8.3.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/commons-cli-1.2.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/commons-collections-3.2.2.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/commons-io-2.4.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/commons-lang-2.6.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/commons-logging-1.1.1.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/commons-pool-1.6.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/ehcache-core-2.4.4.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/guava-18.0.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/hamcrest-all-1.3.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/hamcrest-core-1.3.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/jline-0.9.94.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/junit-4.12.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/log4j-1.2.17.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/mavibot-1.0.0-M1.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/mina-core-2.0.7.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/mockito-all-1.8.5.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/netty-3.10.6.Final.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/org.abego.treelayout.core-1.0.1.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/slf4j-api-1.7.25.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/slf4j-log4j12-1.7.25.jar:/usr/local/Cellar/ant/1.10.3/libexec/lib/ant-launcher.jar:/usr/local/Cellar/ant/1.10.3/libexec/lib/ant-junit.jar:/usr/local/Cellar/ant/1.10.3/libexec/lib/ant-junit4.jar
2018-06-28 17:39:27,210 [myid:] - INFO  [main:Environment@100] - Server environment:java.library.path=/Users/hanm/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.
2018-06-28 17:39:27,211 [myid:] - INFO  [main:Environment@100] - Server environment:java.io.tmpdir=/var/folders/wv/j6wmf1nj5h7c36qz9b81kmfw0000gn/T/
2018-06-28 17:39:27,211 [myid:] - INFO  [main:Environment@100] - Server environment:java.compiler=<NA>
2018-06-28 17:39:27,212 [myid:] - INFO  [main:Environment@100] - Server environment:os.name=Mac OS X
2018-06-28 17:39:27,212 [myid:] - INFO  [main:Environment@100] - Server environment:os.arch=x86_64
2018-06-28 17:39:27,212 [myid:] - INFO  [main:Environment@100] - Server environment:os.version=10.13.5
2018-06-28 17:39:27,212 [myid:] - INFO  [main:Environment@100] - Server environment:user.name=hanm
2018-06-28 17:39:27,212 [myid:] - INFO  [main:Environment@100] - Server environment:user.home=/Users/hanm
2018-06-28 17:39:27,212 [myid:] - INFO  [main:Environment@100] - Server environment:user.dir=/Users/hanm/Desktop/projects/git/apache/zookeeper
2018-06-28 17:39:27,225 [myid:] - INFO  [main:ZooKeeperServer@174] - Created server with tickTime 3000 minSessionTimeout 6000 maxSessionTimeout 60000 datadir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test4568029618386686364.junit.dir/version-2 snapdir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test4568029618386686364.junit.dir/version-2
2018-06-28 17:39:27,240 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11221
2018-06-28 17:39:27,243 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11221:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:50450
2018-06-28 17:39:27,356 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11221:ServerCnxn@324] - The list of known four letter word commands is : [{1936881266=srvr, 1937006964=stat, 2003003491=wchc, 1685417328=dump, 1668445044=crst, 1936880500=srst, 1701738089=envi, 1668247142=conf, 2003003507=wchs, 2003003504=wchp, 1668247155=cons, 1835955314=mntr, 1769173615=isro, 1920298859=ruok, 1735683435=gtmk, 1937010027=stmk}]
2018-06-28 17:39:27,356 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11221:ServerCnxn@325] - The list of enabled four letter word commands is : [[wchs, stat, wchp, stmk, conf, ruok, mntr, srvr, wchc, envi, srst, isro, dump, gtmk, crst, cons]]
2018-06-28 17:39:27,356 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11221:NIOServerCnxn@908] - Processing stat command from /127.0.0.1:50450
2018-06-28 17:39:27,357 [myid:] - INFO  [Thread-2:NIOServerCnxn$StatCommand@687] - Stat command output
2018-06-28 17:39:27,358 [myid:] - INFO  [Thread-2:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:50450 (no session established for client)
2018-06-28 17:39:27,360 [myid:] - INFO  [main:JMXEnv@230] - ensureParent:[InMemoryDataTree, StandaloneServer_port]
2018-06-28 17:39:27,364 [myid:] - INFO  [main:JMXEnv@247] - expect:InMemoryDataTree
2018-06-28 17:39:27,364 [myid:] - INFO  [main:JMXEnv@251] - found:InMemoryDataTree org.apache.ZooKeeperService:name0=StandaloneServer_port11221,name1=InMemoryDataTree
2018-06-28 17:39:27,364 [myid:] - INFO  [main:JMXEnv@247] - expect:StandaloneServer_port
2018-06-28 17:39:27,365 [myid:] - INFO  [main:JMXEnv@251] - found:StandaloneServer_port org.apache.ZooKeeperService:name0=StandaloneServer_port11221
2018-06-28 17:39:27,365 [myid:] - INFO  [main:ClientBase@503] - Client test setup finished
2018-06-28 17:39:27,365 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@53] - RUNNING TEST METHOD testAuth
2018-06-28 17:39:27,368 [myid:] - INFO  [main:Environment@100] - Client environment:zookeeper.version=3.4.13-2d71af4dbe22557fda74f9a9b4309b15a7487f03, built on 06/29/2018 00:39 GMT
2018-06-28 17:39:27,368 [myid:] - INFO  [main:Environment@100] - Client environment:host.name=10.0.0.10
2018-06-28 17:39:27,368 [myid:] - INFO  [main:Environment@100] - Client environment:java.version=1.8.0_172
2018-06-28 17:39:27,368 [myid:] - INFO  [main:Environment@100] - Client environment:java.vendor=Oracle Corporation
2018-06-28 17:39:27,368 [myid:] - INFO  [main:Environment@100] - Client environment:java.home=/Library/Java/JavaVirtualMachines/jdk1.8.0_172.jdk/Contents/Home/jre
2018-06-28 17:39:27,368 [myid:] - INFO  [main:Environment@100] - Client environment:java.class.path=/Users/hanm/Desktop/projects/git/apache/zookeeper/build/classes:/Users/hanm/Desktop/projects/git/apache/zookeeper/src/java/lib/ant-eclipse-1.0-jvm1.2.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/src/java/lib/ivy-2.4.0.jar:/usr/local/Cellar/ant/1.10.3/libexec/lib/ant.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/classes:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/antlr-2.7.7.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/antlr4-annotations-4.3.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/antlr4-runtime-4.3.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-core-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-core-api-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-core-avl-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-core-constants-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-core-shared-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-i18n-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptor-kerberos-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-admin-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-authn-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-authz-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-changelog-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-collective-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-event-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-exception-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-journal-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-normalization-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-operational-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-referral-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-schema-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-subtree-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-trigger-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-jdbm-partition-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-jdbm1-2.0.0-M2.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-kerberos-codec-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-ldif-partition-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-mavibot-partition-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-protocol-kerberos-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-protocol-ldap-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-protocol-shared-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-xdbm-partition-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-all-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-asn1-api-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-asn1-ber-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-i18n-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-ldap-client-api-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-ldap-codec-core-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-ldap-extras-aci-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-ldap-extras-codec-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-ldap-extras-codec-api-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-ldap-extras-sp-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-ldap-extras-trigger-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-ldap-extras-util-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-ldap-model-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-util-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/audience-annotations-0.5.0.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/bcprov-jdk15-140.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/checkstyle-6.1.1.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/commons-beanutils-core-1.8.3.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/commons-cli-1.2.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/commons-collections-3.2.2.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/commons-io-2.4.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/commons-lang-2.6.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/commons-logging-1.1.1.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/commons-pool-1.6.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/ehcache-core-2.4.4.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/guava-18.0.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/hamcrest-all-1.3.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/hamcrest-core-1.3.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/jline-0.9.94.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/junit-4.12.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/log4j-1.2.17.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/mavibot-1.0.0-M1.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/mina-core-2.0.7.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/mockito-all-1.8.5.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/netty-3.10.6.Final.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/org.abego.treelayout.core-1.0.1.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/slf4j-api-1.7.25.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/slf4j-log4j12-1.7.25.jar:/usr/local/Cellar/ant/1.10.3/libexec/lib/ant-launcher.jar:/usr/local/Cellar/ant/1.10.3/libexec/lib/ant-junit.jar:/usr/local/Cellar/ant/1.10.3/libexec/lib/ant-junit4.jar
2018-06-28 17:39:27,369 [myid:] - INFO  [main:Environment@100] - Client environment:java.library.path=/Users/hanm/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.
2018-06-28 17:39:27,369 [myid:] - INFO  [main:Environment@100] - Client environment:java.io.tmpdir=/var/folders/wv/j6wmf1nj5h7c36qz9b81kmfw0000gn/T/
2018-06-28 17:39:27,369 [myid:] - INFO  [main:Environment@100] - Client environment:java.compiler=<NA>
2018-06-28 17:39:27,369 [myid:] - INFO  [main:Environment@100] - Client environment:os.name=Mac OS X
2018-06-28 17:39:27,369 [myid:] - INFO  [main:Environment@100] - Client environment:os.arch=x86_64
2018-06-28 17:39:27,369 [myid:] - INFO  [main:Environment@100] - Client environment:os.version=10.13.5
2018-06-28 17:39:27,369 [myid:] - INFO  [main:Environment@100] - Client environment:user.name=hanm
2018-06-28 17:39:27,369 [myid:] - INFO  [main:Environment@100] - Client environment:user.home=/Users/hanm
2018-06-28 17:39:27,370 [myid:] - INFO  [main:Environment@100] - Client environment:user.dir=/Users/hanm/Desktop/projects/git/apache/zookeeper
2018-06-28 17:39:27,370 [myid:] - INFO  [main:ZooKeeper@442] - Initiating client connection, connectString=127.0.0.1:11221 sessionTimeout=30000 watcher=org.apache.zookeeper.SaslAuthTest$MyWatcher@13805618
2018-06-28 17:39:27,386 [myid:] - INFO  [main-SendThread(localhost:11221):Login@297] - Client successfully logged in.
2018-06-28 17:39:27,387 [myid:] - INFO  [main-SendThread(localhost:11221):SecurityUtils@68] - Client will use DIGEST-MD5 as SASL mechanism.
2018-06-28 17:39:27,388 [myid:] - INFO  [main-SendThread(localhost:11221):ClientCnxn$SendThread@1029] - Opening socket connection to server localhost/127.0.0.1:11221. Will attempt to SASL-authenticate using Login Context section 'Client'
2018-06-28 17:39:27,389 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11221:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:50451
2018-06-28 17:39:27,390 [myid:] - INFO  [main-SendThread(localhost:11221):ClientCnxn$SendThread@879] - Socket connection established to localhost/127.0.0.1:11221, initiating session
2018-06-28 17:39:27,392 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11221:ZooKeeperServer@949] - Client attempting to establish new session at /127.0.0.1:50451
2018-06-28 17:39:27,394 [myid:] - INFO  [SyncThread:0:FileTxnLog@213] - Creating new log file: log.1
2018-06-28 17:39:27,403 [myid:] - INFO  [SyncThread:0:ZooKeeperServer@694] - Established session 0x10006530e780000 with negotiated timeout 30000 for client /127.0.0.1:50451
2018-06-28 17:39:27,404 [myid:] - INFO  [main-SendThread(localhost:11221):ClientCnxn$SendThread@1303] - Session establishment complete on server localhost/127.0.0.1:11221, sessionid = 0x10006530e780000, negotiated timeout = 30000
2018-06-28 17:39:27,407 [myid:] - INFO  [main:JMXEnv@118] - expect:0x10006530e780000
2018-06-28 17:39:27,407 [myid:] - INFO  [main:JMXEnv@121] - found:0x10006530e780000 org.apache.ZooKeeperService:name0=StandaloneServer_port11221,name1=Connections,name2=127.0.0.1,name3=0x10006530e780000
2018-06-28 17:39:27,413 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11221:SaslServerCallbackHandler@120] - Successfully authenticated client: authenticationID=super;  authorizationID=super.
2018-06-28 17:39:27,434 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11221:SaslServerCallbackHandler@136] - Setting authorizedID: super
2018-06-28 17:39:27,434 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11221:ZooKeeperServer@1046] - adding SASL authorization for authorizationID: super
2018-06-28 17:39:28,370 [myid:] - INFO  [ProcessThread(sid:0 cport:11221)::PrepRequestProcessor@487] - Processed session termination for sessionid: 0x10006530e780000
2018-06-28 17:39:28,371 [myid:] - INFO  [main:ZooKeeper@693] - Session: 0x10006530e780000 closed
2018-06-28 17:39:28,371 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@522] - EventThread shut down for session: 0x10006530e780000
2018-06-28 17:39:28,372 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@58] - Memory used 13289
2018-06-28 17:39:28,372 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@63] - Number of threads 17
2018-06-28 17:39:28,372 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@78] - FINISHED TEST METHOD testAuth
2018-06-28 17:39:28,372 [myid:] - INFO  [main:ClientBase@584] - tearDown starting
2018-06-28 17:39:28,372 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11221:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:50451 which had sessionid 0x10006530e780000
2018-06-28 17:39:28,372 [myid:] - INFO  [main:ClientBase@554] - STOPPING server
2018-06-28 17:39:28,373 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11221:NIOServerCnxnFactory@242] - NIOServerCnxn factory exited run method
2018-06-28 17:39:28,374 [myid:] - INFO  [main:ZooKeeperServer@502] - shutting down
2018-06-28 17:39:28,374 [myid:] - INFO  [main:SessionTrackerImpl@226] - Shutting down
2018-06-28 17:39:28,374 [myid:] - INFO  [main:PrepRequestProcessor@769] - Shutting down
2018-06-28 17:39:28,374 [myid:] - INFO  [main:SyncRequestProcessor@208] - Shutting down
2018-06-28 17:39:28,374 [myid:] - INFO  [ProcessThread(sid:0 cport:11221)::PrepRequestProcessor@144] - PrepRequestProcessor exited loop!
2018-06-28 17:39:28,374 [myid:] - INFO  [SyncThread:0:SyncRequestProcessor@186] - SyncRequestProcessor exited!
2018-06-28 17:39:28,375 [myid:] - INFO  [main:FinalRequestProcessor@403] - shutdown of request processor complete
2018-06-28 17:39:28,376 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11221
2018-06-28 17:39:28,377 [myid:] - INFO  [main:JMXEnv@147] - ensureOnly:[]
2018-06-28 17:39:28,381 [myid:] - INFO  [main:ClientBase@609] - fdcount after test is: 106 at start it was 91
2018-06-28 17:39:28,381 [myid:] - INFO  [main:ClientBase@611] - sleeping for 20 secs
2018-06-28 17:39:28,382 [myid:] - INFO  [main:ZKTestCase$1@69] - SUCCEEDED testAuth
2018-06-28 17:39:28,382 [myid:] - INFO  [main:ZKTestCase$1@64] - FINISHED testAuth
2018-06-28 17:39:28,386 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11222
2018-06-28 17:39:28,386 [myid:] - INFO  [main:ZKTestCase$1@59] - STARTING testZKOperationsAfterClientSaslAuthFailure
2018-06-28 17:39:28,387 [myid:] - INFO  [main:ClientBase@489] - Initial fdcount is: 106
2018-06-28 17:39:28,393 [myid:] - INFO  [main:ClientBase@507] - STARTING server
2018-06-28 17:39:28,393 [myid:] - INFO  [main:ClientBase@428] - CREATING server instance 127.0.0.1:11222
2018-06-28 17:39:28,393 [myid:] - INFO  [main:ServerCnxnFactory@117] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2018-06-28 17:39:28,394 [myid:] - INFO  [main:Login@297] - Server successfully logged in.
2018-06-28 17:39:28,394 [myid:] - INFO  [main:NIOServerCnxnFactory@89] - binding to port 0.0.0.0/0.0.0.0:11222
2018-06-28 17:39:28,394 [myid:] - INFO  [main:ClientBase@403] - STARTING server instance 127.0.0.1:11222
2018-06-28 17:39:28,394 [myid:] - INFO  [main:ZooKeeperServer@174] - Created server with tickTime 3000 minSessionTimeout 6000 maxSessionTimeout 60000 datadir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test4236414339384724479.junit.dir/version-2 snapdir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test4236414339384724479.junit.dir/version-2
2018-06-28 17:39:28,395 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11222
2018-06-28 17:39:28,396 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11222:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:50453
2018-06-28 17:39:28,396 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11222:NIOServerCnxn@908] - Processing stat command from /127.0.0.1:50453
2018-06-28 17:39:28,396 [myid:] - INFO  [Thread-4:NIOServerCnxn$StatCommand@687] - Stat command output
2018-06-28 17:39:28,397 [myid:] - INFO  [Thread-4:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:50453 (no session established for client)
2018-06-28 17:39:28,397 [myid:] - INFO  [main:JMXEnv@230] - ensureParent:[InMemoryDataTree, StandaloneServer_port]
2018-06-28 17:39:28,398 [myid:] - INFO  [main:JMXEnv@247] - expect:InMemoryDataTree
2018-06-28 17:39:28,398 [myid:] - INFO  [main:JMXEnv@251] - found:InMemoryDataTree org.apache.ZooKeeperService:name0=StandaloneServer_port11222,name1=InMemoryDataTree
2018-06-28 17:39:28,398 [myid:] - INFO  [main:JMXEnv@247] - expect:StandaloneServer_port
2018-06-28 17:39:28,398 [myid:] - INFO  [main:JMXEnv@251] - found:StandaloneServer_port org.apache.ZooKeeperService:name0=StandaloneServer_port11222
2018-06-28 17:39:28,399 [myid:] - INFO  [main:ClientBase@503] - Client test setup finished
2018-06-28 17:39:28,399 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@53] - RUNNING TEST METHOD testZKOperationsAfterClientSaslAuthFailure
2018-06-28 17:39:28,399 [myid:] - INFO  [main:ZooKeeper@442] - Initiating client connection, connectString=127.0.0.1:11222 sessionTimeout=30000 watcher=org.apache.zookeeper.test.ClientBase$CountdownWatcher@31610302
2018-06-28 17:39:28,400 [myid:] - INFO  [main-SendThread(localhost:11222):SecurityUtils@68] - Client will use DIGEST-MD5 as SASL mechanism.
2018-06-28 17:39:28,400 [myid:] - INFO  [main-SendThread(localhost:11222):ClientCnxn$SendThread@1029] - Opening socket connection to server localhost/127.0.0.1:11222. Will attempt to SASL-authenticate using Login Context section 'Client'
2018-06-28 17:39:28,401 [myid:] - INFO  [main-SendThread(localhost:11222):ClientCnxn$SendThread@879] - Socket connection established to localhost/127.0.0.1:11222, initiating session
2018-06-28 17:39:28,401 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11222:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:50454
2018-06-28 17:39:28,401 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11222:ZooKeeperServer@949] - Client attempting to establish new session at /127.0.0.1:50454
2018-06-28 17:39:28,402 [myid:] - INFO  [SyncThread:0:FileTxnLog@213] - Creating new log file: log.1
2018-06-28 17:39:28,403 [myid:] - INFO  [SyncThread:0:ZooKeeperServer@694] - Established session 0x1000653134f0000 with negotiated timeout 30000 for client /127.0.0.1:50454
2018-06-28 17:39:28,403 [myid:] - INFO  [main-SendThread(localhost:11222):ClientCnxn$SendThread@1303] - Session establishment complete on server localhost/127.0.0.1:11222, sessionid = 0x1000653134f0000, negotiated timeout = 30000
2018-06-28 17:39:28,405 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11222:SaslServerCallbackHandler@120] - Successfully authenticated client: authenticationID=super;  authorizationID=super.
2018-06-28 17:39:28,405 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11222:SaslServerCallbackHandler@136] - Setting authorizedID: super
2018-06-28 17:39:28,405 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11222:ZooKeeperServer@1046] - adding SASL authorization for authorizationID: super
2018-06-28 17:39:28,408 [myid:] - WARN  [main-SendThread(localhost:11222):ClientCnxn$SendThread@1168] - Session 0x1000653134f0000 for server localhost/127.0.0.1:11222, unexpected error, closing socket connection and attempting reconnect
java.io.IOException: Xid out of order. Got Xid 2 with err 0 expected Xid 3 for a packet with details: clientPath:null serverPath:null finished:false header:: 3,1  replyHeader:: 0,0,-4  request:: '/saslAuthFail,#64617461,v{s{31,s{'world,'anyone}}},2  response::  
	at org.apache.zookeeper.ClientCnxn$SendThread.readResponse(ClientCnxn.java:830)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doIO(ClientCnxnSocketNIO.java:94)
	at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:366)
	at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1145)
2018-06-28 17:39:28,410 [myid:] - WARN  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11222:NIOServerCnxn@376] - Unable to read additional data from client sessionid 0x1000653134f0000, likely client has closed socket
2018-06-28 17:39:28,410 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11222:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:50454 which had sessionid 0x1000653134f0000
2018-06-28 17:39:29,649 [myid:] - INFO  [main-SendThread(localhost:11222):SecurityUtils@68] - Client will use DIGEST-MD5 as SASL mechanism.
2018-06-28 17:39:29,649 [myid:] - INFO  [main-SendThread(localhost:11222):ClientCnxn$SendThread@1029] - Opening socket connection to server localhost/127.0.0.1:11222. Will attempt to SASL-authenticate using Login Context section 'Client'
2018-06-28 17:39:29,649 [myid:] - INFO  [main-SendThread(localhost:11222):ClientCnxn$SendThread@879] - Socket connection established to localhost/127.0.0.1:11222, initiating session
2018-06-28 17:39:29,650 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11222:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:50455
2018-06-28 17:39:29,650 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11222:ZooKeeperServer@942] - Client attempting to renew session 0x1000653134f0000 at /127.0.0.1:50455
2018-06-28 17:39:29,651 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11222:ZooKeeperServer@694] - Established session 0x1000653134f0000 with negotiated timeout 30000 for client /127.0.0.1:50455
2018-06-28 17:39:29,651 [myid:] - INFO  [main-SendThread(localhost:11222):ClientCnxn$SendThread@1303] - Session establishment complete on server localhost/127.0.0.1:11222, sessionid = 0x1000653134f0000, negotiated timeout = 30000
2018-06-28 17:39:29,652 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11222:SaslServerCallbackHandler@120] - Successfully authenticated client: authenticationID=super;  authorizationID=super.
2018-06-28 17:39:29,652 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11222:SaslServerCallbackHandler@136] - Setting authorizedID: super
2018-06-28 17:39:29,653 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11222:ZooKeeperServer@1046] - adding SASL authorization for authorizationID: super
2018-06-28 17:39:29,656 [myid:] - INFO  [ProcessThread(sid:0 cport:11222)::PrepRequestProcessor@487] - Processed session termination for sessionid: 0x1000653134f0000
2018-06-28 17:39:29,656 [myid:] - INFO  [main:ZooKeeper@693] - Session: 0x1000653134f0000 closed
2018-06-28 17:39:29,656 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11222:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:50455 which had sessionid 0x1000653134f0000
2018-06-28 17:39:29,657 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@58] - Memory used 16575
2018-06-28 17:39:29,656 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@522] - EventThread shut down for session: 0x1000653134f0000
2018-06-28 17:39:29,657 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@63] - Number of threads 19
2018-06-28 17:39:29,657 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@78] - FINISHED TEST METHOD testZKOperationsAfterClientSaslAuthFailure
2018-06-28 17:39:29,657 [myid:] - INFO  [main:ClientBase@584] - tearDown starting
2018-06-28 17:39:29,657 [myid:] - INFO  [main:ClientBase@554] - STOPPING server
2018-06-28 17:39:29,657 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11222:NIOServerCnxnFactory@242] - NIOServerCnxn factory exited run method
2018-06-28 17:39:29,658 [myid:] - INFO  [main:ZooKeeperServer@502] - shutting down
2018-06-28 17:39:29,658 [myid:] - INFO  [main:SessionTrackerImpl@226] - Shutting down
2018-06-28 17:39:29,658 [myid:] - INFO  [main:PrepRequestProcessor@769] - Shutting down
2018-06-28 17:39:29,658 [myid:] - INFO  [main:SyncRequestProcessor@208] - Shutting down
2018-06-28 17:39:29,658 [myid:] - INFO  [ProcessThread(sid:0 cport:11222)::PrepRequestProcessor@144] - PrepRequestProcessor exited loop!
2018-06-28 17:39:29,658 [myid:] - INFO  [SyncThread:0:SyncRequestProcessor@186] - SyncRequestProcessor exited!
2018-06-28 17:39:29,658 [myid:] - INFO  [main:FinalRequestProcessor@403] - shutdown of request processor complete
2018-06-28 17:39:29,659 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11222
2018-06-28 17:39:29,660 [myid:] - INFO  [main:JMXEnv@147] - ensureOnly:[]
2018-06-28 17:39:29,663 [myid:] - INFO  [main:ClientBase@609] - fdcount after test is: 106 at start it was 106
2018-06-28 17:39:29,663 [myid:] - INFO  [main:ZKTestCase$1@69] - SUCCEEDED testZKOperationsAfterClientSaslAuthFailure
2018-06-28 17:39:29,664 [myid:] - INFO  [main:ZKTestCase$1@64] - FINISHED testZKOperationsAfterClientSaslAuthFailure
2018-06-28 17:39:29,664 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11223
2018-06-28 17:39:29,664 [myid:] - INFO  [main:ZKTestCase$1@59] - STARTING testInvalidSaslIds
2018-06-28 17:39:29,665 [myid:] - INFO  [main:ClientBase@489] - Initial fdcount is: 106
2018-06-28 17:39:29,672 [myid:] - INFO  [main:ClientBase@507] - STARTING server
2018-06-28 17:39:29,672 [myid:] - INFO  [main:ClientBase@428] - CREATING server instance 127.0.0.1:11223
2018-06-28 17:39:29,672 [myid:] - INFO  [main:ServerCnxnFactory@117] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2018-06-28 17:39:29,672 [myid:] - INFO  [main:Login@297] - Server successfully logged in.
2018-06-28 17:39:29,672 [myid:] - INFO  [main:NIOServerCnxnFactory@89] - binding to port 0.0.0.0/0.0.0.0:11223
2018-06-28 17:39:29,673 [myid:] - INFO  [main:ClientBase@403] - STARTING server instance 127.0.0.1:11223
2018-06-28 17:39:29,673 [myid:] - INFO  [main:ZooKeeperServer@174] - Created server with tickTime 3000 minSessionTimeout 6000 maxSessionTimeout 60000 datadir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test8287954449109916368.junit.dir/version-2 snapdir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test8287954449109916368.junit.dir/version-2
2018-06-28 17:39:29,674 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11223
2018-06-28 17:39:29,674 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11223:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:50457
2018-06-28 17:39:29,675 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11223:NIOServerCnxn@908] - Processing stat command from /127.0.0.1:50457
2018-06-28 17:39:29,675 [myid:] - INFO  [Thread-6:NIOServerCnxn$StatCommand@687] - Stat command output
2018-06-28 17:39:29,675 [myid:] - INFO  [Thread-6:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:50457 (no session established for client)
2018-06-28 17:39:29,676 [myid:] - INFO  [main:JMXEnv@230] - ensureParent:[InMemoryDataTree, StandaloneServer_port]
2018-06-28 17:39:29,677 [myid:] - INFO  [main:JMXEnv@247] - expect:InMemoryDataTree
2018-06-28 17:39:29,678 [myid:] - INFO  [main:JMXEnv@251] - found:InMemoryDataTree org.apache.ZooKeeperService:name0=StandaloneServer_port11223,name1=InMemoryDataTree
2018-06-28 17:39:29,678 [myid:] - INFO  [main:JMXEnv@247] - expect:StandaloneServer_port
2018-06-28 17:39:29,678 [myid:] - INFO  [main:JMXEnv@251] - found:StandaloneServer_port org.apache.ZooKeeperService:name0=StandaloneServer_port11223
2018-06-28 17:39:29,678 [myid:] - INFO  [main:ClientBase@503] - Client test setup finished
2018-06-28 17:39:29,678 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@53] - RUNNING TEST METHOD testInvalidSaslIds
2018-06-28 17:39:29,678 [myid:] - INFO  [main:ZooKeeper@442] - Initiating client connection, connectString=127.0.0.1:11223 sessionTimeout=30000 watcher=org.apache.zookeeper.SaslAuthTest$MyWatcher@6b09bb57
2018-06-28 17:39:29,680 [myid:] - INFO  [main-SendThread(localhost:11223):SecurityUtils@68] - Client will use DIGEST-MD5 as SASL mechanism.
2018-06-28 17:39:29,681 [myid:] - INFO  [main-SendThread(localhost:11223):ClientCnxn$SendThread@1029] - Opening socket connection to server localhost/127.0.0.1:11223. Will attempt to SASL-authenticate using Login Context section 'Client'
2018-06-28 17:39:29,681 [myid:] - INFO  [main-SendThread(localhost:11223):ClientCnxn$SendThread@879] - Socket connection established to localhost/127.0.0.1:11223, initiating session
2018-06-28 17:39:29,681 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11223:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:50458
2018-06-28 17:39:29,682 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11223:ZooKeeperServer@949] - Client attempting to establish new session at /127.0.0.1:50458
2018-06-28 17:39:29,682 [myid:] - INFO  [SyncThread:0:FileTxnLog@213] - Creating new log file: log.1
2018-06-28 17:39:29,684 [myid:] - INFO  [SyncThread:0:ZooKeeperServer@694] - Established session 0x1000653184e0000 with negotiated timeout 30000 for client /127.0.0.1:50458
2018-06-28 17:39:29,684 [myid:] - INFO  [main-SendThread(localhost:11223):ClientCnxn$SendThread@1303] - Session establishment complete on server localhost/127.0.0.1:11223, sessionid = 0x1000653184e0000, negotiated timeout = 30000
2018-06-28 17:39:29,685 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11223:SaslServerCallbackHandler@120] - Successfully authenticated client: authenticationID=super;  authorizationID=super.
2018-06-28 17:39:29,686 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11223:SaslServerCallbackHandler@136] - Setting authorizedID: super
2018-06-28 17:39:29,686 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11223:ZooKeeperServer@1046] - adding SASL authorization for authorizationID: super
2018-06-28 17:39:29,686 [myid:] - INFO  [main:JMXEnv@118] - expect:0x1000653184e0000
2018-06-28 17:39:29,686 [myid:] - INFO  [main:JMXEnv@121] - found:0x1000653184e0000 org.apache.ZooKeeperService:name0=StandaloneServer_port11223,name1=Connections,name2=127.0.0.1,name3=0x1000653184e0000
2018-06-28 17:39:29,688 [myid:] - INFO  [ProcessThread(sid:0 cport:11223)::PrepRequestProcessor@653] - Got user-level KeeperException when processing sessionid:0x1000653184e0000 type:create cxid:0x3 zxid:0x2 txntype:-1 reqpath:n/a Error Path:/invalid0 Error:KeeperErrorCode = InvalidACL for /invalid0
2018-06-28 17:39:29,689 [myid:] - INFO  [ProcessThread(sid:0 cport:11223)::PrepRequestProcessor@653] - Got user-level KeeperException when processing sessionid:0x1000653184e0000 type:create cxid:0x4 zxid:0x3 txntype:-1 reqpath:n/a Error Path:/invalid1 Error:KeeperErrorCode = InvalidACL for /invalid1
2018-06-28 17:39:29,689 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@58] - Memory used 19416
2018-06-28 17:39:29,690 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@63] - Number of threads 21
2018-06-28 17:39:29,690 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@78] - FINISHED TEST METHOD testInvalidSaslIds
2018-06-28 17:39:29,690 [myid:] - INFO  [main:ClientBase@584] - tearDown starting
2018-06-28 17:39:29,690 [myid:] - INFO  [ProcessThread(sid:0 cport:11223)::PrepRequestProcessor@487] - Processed session termination for sessionid: 0x1000653184e0000
2018-06-28 17:39:29,691 [myid:] - INFO  [main:ZooKeeper@693] - Session: 0x1000653184e0000 closed
2018-06-28 17:39:29,691 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11223:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:50458 which had sessionid 0x1000653184e0000
2018-06-28 17:39:29,691 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@522] - EventThread shut down for session: 0x1000653184e0000
2018-06-28 17:39:29,691 [myid:] - INFO  [main:ClientBase@554] - STOPPING server
2018-06-28 17:39:29,691 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11223:NIOServerCnxnFactory@242] - NIOServerCnxn factory exited run method
2018-06-28 17:39:29,691 [myid:] - INFO  [main:ZooKeeperServer@502] - shutting down
2018-06-28 17:39:29,691 [myid:] - INFO  [main:SessionTrackerImpl@226] - Shutting down
2018-06-28 17:39:29,691 [myid:] - INFO  [main:PrepRequestProcessor@769] - Shutting down
2018-06-28 17:39:29,692 [myid:] - INFO  [main:SyncRequestProcessor@208] - Shutting down
2018-06-28 17:39:29,692 [myid:] - INFO  [ProcessThread(sid:0 cport:11223)::PrepRequestProcessor@144] - PrepRequestProcessor exited loop!
2018-06-28 17:39:29,692 [myid:] - INFO  [SyncThread:0:SyncRequestProcessor@186] - SyncRequestProcessor exited!
2018-06-28 17:39:29,692 [myid:] - INFO  [main:FinalRequestProcessor@403] - shutdown of request processor complete
2018-06-28 17:39:29,693 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11223
2018-06-28 17:39:29,693 [myid:] - INFO  [main:JMXEnv@147] - ensureOnly:[]
2018-06-28 17:39:29,696 [myid:] - INFO  [main:ClientBase@609] - fdcount after test is: 110 at start it was 106
2018-06-28 17:39:29,696 [myid:] - INFO  [main:ClientBase@611] - sleeping for 20 secs
2018-06-28 17:39:29,696 [myid:] - INFO  [main:ZKTestCase$1@69] - SUCCEEDED testInvalidSaslIds
2018-06-28 17:39:29,697 [myid:] - INFO  [main:ZKTestCase$1@64] - FINISHED testInvalidSaslIds
2018-06-28 17:39:29,697 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11224
2018-06-28 17:39:29,698 [myid:] - INFO  [main:ZKTestCase$1@59] - STARTING testValidSaslIds
2018-06-28 17:39:29,698 [myid:] - INFO  [main:ClientBase@489] - Initial fdcount is: 110
2018-06-28 17:39:29,705 [myid:] - INFO  [main:ClientBase@507] - STARTING server
2018-06-28 17:39:29,705 [myid:] - INFO  [main:ClientBase@428] - CREATING server instance 127.0.0.1:11224
2018-06-28 17:39:29,705 [myid:] - INFO  [main:ServerCnxnFactory@117] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2018-06-28 17:39:29,705 [myid:] - INFO  [main:Login@297] - Server successfully logged in.
2018-06-28 17:39:29,706 [myid:] - INFO  [main:NIOServerCnxnFactory@89] - binding to port 0.0.0.0/0.0.0.0:11224
2018-06-28 17:39:29,706 [myid:] - INFO  [main:ClientBase@403] - STARTING server instance 127.0.0.1:11224
2018-06-28 17:39:29,706 [myid:] - INFO  [main:ZooKeeperServer@174] - Created server with tickTime 3000 minSessionTimeout 6000 maxSessionTimeout 60000 datadir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test7477019010107500164.junit.dir/version-2 snapdir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test7477019010107500164.junit.dir/version-2
2018-06-28 17:39:29,707 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11224
2018-06-28 17:39:29,708 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11224:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:50460
2018-06-28 17:39:29,708 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11224:NIOServerCnxn@908] - Processing stat command from /127.0.0.1:50460
2018-06-28 17:39:29,708 [myid:] - INFO  [Thread-8:NIOServerCnxn$StatCommand@687] - Stat command output
2018-06-28 17:39:29,709 [myid:] - INFO  [Thread-8:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:50460 (no session established for client)
2018-06-28 17:39:29,709 [myid:] - INFO  [main:JMXEnv@230] - ensureParent:[InMemoryDataTree, StandaloneServer_port]
2018-06-28 17:39:29,711 [myid:] - INFO  [main:JMXEnv@247] - expect:InMemoryDataTree
2018-06-28 17:39:29,711 [myid:] - INFO  [main:JMXEnv@251] - found:InMemoryDataTree org.apache.ZooKeeperService:name0=StandaloneServer_port11224,name1=InMemoryDataTree
2018-06-28 17:39:29,711 [myid:] - INFO  [main:JMXEnv@247] - expect:StandaloneServer_port
2018-06-28 17:39:29,711 [myid:] - INFO  [main:JMXEnv@251] - found:StandaloneServer_port org.apache.ZooKeeperService:name0=StandaloneServer_port11224
2018-06-28 17:39:29,711 [myid:] - INFO  [main:ClientBase@503] - Client test setup finished
2018-06-28 17:39:29,712 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@53] - RUNNING TEST METHOD testValidSaslIds
2018-06-28 17:39:29,712 [myid:] - INFO  [main:ZooKeeper@442] - Initiating client connection, connectString=127.0.0.1:11224 sessionTimeout=30000 watcher=org.apache.zookeeper.SaslAuthTest$MyWatcher@61f8bee4
2018-06-28 17:39:29,714 [myid:] - INFO  [main-SendThread(localhost:11224):SecurityUtils@68] - Client will use DIGEST-MD5 as SASL mechanism.
2018-06-28 17:39:29,714 [myid:] - INFO  [main-SendThread(localhost:11224):ClientCnxn$SendThread@1029] - Opening socket connection to server localhost/127.0.0.1:11224. Will attempt to SASL-authenticate using Login Context section 'Client'
2018-06-28 17:39:29,714 [myid:] - INFO  [main-SendThread(localhost:11224):ClientCnxn$SendThread@879] - Socket connection established to localhost/127.0.0.1:11224, initiating session
2018-06-28 17:39:29,714 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11224:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:50461
2018-06-28 17:39:29,715 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11224:ZooKeeperServer@949] - Client attempting to establish new session at /127.0.0.1:50461
2018-06-28 17:39:29,715 [myid:] - INFO  [SyncThread:0:FileTxnLog@213] - Creating new log file: log.1
2018-06-28 17:39:29,717 [myid:] - INFO  [SyncThread:0:ZooKeeperServer@694] - Established session 0x1000653186f0000 with negotiated timeout 30000 for client /127.0.0.1:50461
2018-06-28 17:39:29,717 [myid:] - INFO  [main-SendThread(localhost:11224):ClientCnxn$SendThread@1303] - Session establishment complete on server localhost/127.0.0.1:11224, sessionid = 0x1000653186f0000, negotiated timeout = 30000
2018-06-28 17:39:29,719 [myid:] - INFO  [main:JMXEnv@118] - expect:0x1000653186f0000
2018-06-28 17:39:29,719 [myid:] - INFO  [main:JMXEnv@121] - found:0x1000653186f0000 org.apache.ZooKeeperService:name0=StandaloneServer_port11224,name1=Connections,name2=127.0.0.1,name3=0x1000653186f0000
2018-06-28 17:39:29,719 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11224:SaslServerCallbackHandler@120] - Successfully authenticated client: authenticationID=super;  authorizationID=super.
2018-06-28 17:39:29,719 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11224:SaslServerCallbackHandler@136] - Setting authorizedID: super
2018-06-28 17:39:29,720 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11224:ZooKeeperServer@1046] - adding SASL authorization for authorizationID: super
2018-06-28 17:39:29,725 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@58] - Memory used 21413
2018-06-28 17:39:29,725 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@63] - Number of threads 23
2018-06-28 17:39:29,725 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@78] - FINISHED TEST METHOD testValidSaslIds
2018-06-28 17:39:29,725 [myid:] - INFO  [main:ClientBase@584] - tearDown starting
2018-06-28 17:39:29,726 [myid:] - INFO  [ProcessThread(sid:0 cport:11224)::PrepRequestProcessor@487] - Processed session termination for sessionid: 0x1000653186f0000
2018-06-28 17:39:29,727 [myid:] - INFO  [main:ZooKeeper@693] - Session: 0x1000653186f0000 closed
2018-06-28 17:39:29,727 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11224:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:50461 which had sessionid 0x1000653186f0000
2018-06-28 17:39:29,727 [myid:] - INFO  [main:ClientBase@554] - STOPPING server
2018-06-28 17:39:29,727 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@522] - EventThread shut down for session: 0x1000653186f0000
2018-06-28 17:39:29,727 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11224:NIOServerCnxnFactory@242] - NIOServerCnxn factory exited run method
2018-06-28 17:39:29,727 [myid:] - INFO  [main:ZooKeeperServer@502] - shutting down
2018-06-28 17:39:29,728 [myid:] - INFO  [main:SessionTrackerImpl@226] - Shutting down
2018-06-28 17:39:29,728 [myid:] - INFO  [main:PrepRequestProcessor@769] - Shutting down
2018-06-28 17:39:29,728 [myid:] - INFO  [main:SyncRequestProcessor@208] - Shutting down
2018-06-28 17:39:29,728 [myid:] - INFO  [ProcessThread(sid:0 cport:11224)::PrepRequestProcessor@144] - PrepRequestProcessor exited loop!
2018-06-28 17:39:29,728 [myid:] - INFO  [SyncThread:0:SyncRequestProcessor@186] - SyncRequestProcessor exited!
2018-06-28 17:39:29,728 [myid:] - INFO  [main:FinalRequestProcessor@403] - shutdown of request processor complete
2018-06-28 17:39:29,729 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11224
2018-06-28 17:39:29,730 [myid:] - INFO  [main:JMXEnv@147] - ensureOnly:[]
2018-06-28 17:39:29,733 [myid:] - INFO  [main:ClientBase@609] - fdcount after test is: 114 at start it was 110
2018-06-28 17:39:29,733 [myid:] - INFO  [main:ClientBase@611] - sleeping for 20 secs
2018-06-28 17:39:29,733 [myid:] - INFO  [main:ZKTestCase$1@69] - SUCCEEDED testValidSaslIds
2018-06-28 17:39:29,733 [myid:] - INFO  [main:ZKTestCase$1@64] - FINISHED testValidSaslIds
------------- ---------------- ---------------

Testcase: testAuth took 1.474 sec
Testcase: testZKOperationsAfterClientSaslAuthFailure took 1.278 sec
Testcase: testInvalidSaslIds took 0.033 sec
Testcase: testValidSaslIds took 0.036 sec
