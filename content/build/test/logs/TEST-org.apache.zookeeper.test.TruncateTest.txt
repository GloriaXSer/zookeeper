Testsuite: org.apache.zookeeper.test.TruncateTest
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 6.977 sec
------------- Standard Output ---------------
2018-06-28 18:43:17,405 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11221
2018-06-28 18:43:17,418 [myid:] - INFO  [main:ZKTestCase$1@59] - STARTING testTruncate
2018-06-28 18:43:17,434 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@53] - RUNNING TEST METHOD testTruncate
2018-06-28 18:43:17,434 [myid:] - INFO  [main:ClientBase@428] - CREATING server instance 127.0.0.1:11221
2018-06-28 18:43:17,442 [myid:] - INFO  [main:ServerCnxnFactory@117] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2018-06-28 18:43:17,452 [myid:] - INFO  [main:NIOServerCnxnFactory@89] - binding to port 0.0.0.0/0.0.0.0:11221
2018-06-28 18:43:17,455 [myid:] - INFO  [main:ClientBase@403] - STARTING server instance 127.0.0.1:11221
2018-06-28 18:43:17,465 [myid:] - INFO  [main:Environment@100] - Server environment:zookeeper.version=3.4.13-2d71af4dbe22557fda74f9a9b4309b15a7487f03, built on 06/29/2018 00:39 GMT
2018-06-28 18:43:17,466 [myid:] - INFO  [main:Environment@100] - Server environment:host.name=10.0.0.10
2018-06-28 18:43:17,466 [myid:] - INFO  [main:Environment@100] - Server environment:java.version=1.8.0_172
2018-06-28 18:43:17,466 [myid:] - INFO  [main:Environment@100] - Server environment:java.vendor=Oracle Corporation
2018-06-28 18:43:17,466 [myid:] - INFO  [main:Environment@100] - Server environment:java.home=/Library/Java/JavaVirtualMachines/jdk1.8.0_172.jdk/Contents/Home/jre
2018-06-28 18:43:17,466 [myid:] - INFO  [main:Environment@100] - Server environment:java.class.path=/Users/hanm/Desktop/projects/git/apache/zookeeper/build/classes:/Users/hanm/Desktop/projects/git/apache/zookeeper/src/java/lib/ant-eclipse-1.0-jvm1.2.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/src/java/lib/ivy-2.4.0.jar:/usr/local/Cellar/ant/1.10.3/libexec/lib/ant.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/classes:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/antlr-2.7.7.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/antlr4-annotations-4.3.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/antlr4-runtime-4.3.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-core-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-core-api-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-core-avl-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-core-constants-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-core-shared-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-i18n-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptor-kerberos-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-admin-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-authn-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-authz-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-changelog-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-collective-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-event-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-exception-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-journal-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-normalization-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-operational-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-referral-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-schema-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-subtree-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-trigger-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-jdbm-partition-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-jdbm1-2.0.0-M2.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-kerberos-codec-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-ldif-partition-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-mavibot-partition-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-protocol-kerberos-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-protocol-ldap-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-protocol-shared-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-xdbm-partition-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-all-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-asn1-api-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-asn1-ber-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-i18n-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-ldap-client-api-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-ldap-codec-core-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-ldap-extras-aci-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-ldap-extras-codec-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-ldap-extras-codec-api-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-ldap-extras-sp-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-ldap-extras-trigger-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-ldap-extras-util-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-ldap-model-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-util-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/audience-annotations-0.5.0.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/bcprov-jdk15-140.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/checkstyle-6.1.1.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/commons-beanutils-core-1.8.3.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/commons-cli-1.2.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/commons-collections-3.2.2.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/commons-io-2.4.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/commons-lang-2.6.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/commons-logging-1.1.1.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/commons-pool-1.6.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/ehcache-core-2.4.4.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/guava-18.0.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/hamcrest-all-1.3.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/hamcrest-core-1.3.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/jline-0.9.94.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/junit-4.12.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/log4j-1.2.17.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/mavibot-1.0.0-M1.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/mina-core-2.0.7.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/mockito-all-1.8.5.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/netty-3.10.6.Final.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/org.abego.treelayout.core-1.0.1.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/slf4j-api-1.7.25.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/slf4j-log4j12-1.7.25.jar:/usr/local/Cellar/ant/1.10.3/libexec/lib/ant-launcher.jar:/usr/local/Cellar/ant/1.10.3/libexec/lib/ant-junit.jar:/usr/local/Cellar/ant/1.10.3/libexec/lib/ant-junit4.jar
2018-06-28 18:43:17,466 [myid:] - INFO  [main:Environment@100] - Server environment:java.library.path=/Users/hanm/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.
2018-06-28 18:43:17,467 [myid:] - INFO  [main:Environment@100] - Server environment:java.io.tmpdir=/var/folders/wv/j6wmf1nj5h7c36qz9b81kmfw0000gn/T/
2018-06-28 18:43:17,467 [myid:] - INFO  [main:Environment@100] - Server environment:java.compiler=<NA>
2018-06-28 18:43:17,468 [myid:] - INFO  [main:Environment@100] - Server environment:os.name=Mac OS X
2018-06-28 18:43:17,469 [myid:] - INFO  [main:Environment@100] - Server environment:os.arch=x86_64
2018-06-28 18:43:17,469 [myid:] - INFO  [main:Environment@100] - Server environment:os.version=10.13.5
2018-06-28 18:43:17,469 [myid:] - INFO  [main:Environment@100] - Server environment:user.name=hanm
2018-06-28 18:43:17,469 [myid:] - INFO  [main:Environment@100] - Server environment:user.home=/Users/hanm
2018-06-28 18:43:17,469 [myid:] - INFO  [main:Environment@100] - Server environment:user.dir=/Users/hanm/Desktop/projects/git/apache/zookeeper
2018-06-28 18:43:17,481 [myid:] - INFO  [main:ZooKeeperServer@174] - Created server with tickTime 3000 minSessionTimeout 6000 maxSessionTimeout 60000 datadir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test2127133382781528773.junit.dir/version-2 snapdir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test2127133382781528773.junit.dir/version-2
2018-06-28 18:43:17,556 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11221
2018-06-28 18:43:17,566 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11221:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:64242
2018-06-28 18:43:17,572 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11221:ServerCnxn@324] - The list of known four letter word commands is : [{1936881266=srvr, 1937006964=stat, 2003003491=wchc, 1685417328=dump, 1668445044=crst, 1936880500=srst, 1701738089=envi, 1668247142=conf, 2003003507=wchs, 2003003504=wchp, 1668247155=cons, 1835955314=mntr, 1769173615=isro, 1920298859=ruok, 1735683435=gtmk, 1937010027=stmk}]
2018-06-28 18:43:17,572 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11221:ServerCnxn@325] - The list of enabled four letter word commands is : [[wchs, stat, wchp, stmk, conf, ruok, mntr, srvr, wchc, envi, srst, isro, dump, gtmk, crst, cons]]
2018-06-28 18:43:17,572 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11221:NIOServerCnxn@908] - Processing stat command from /127.0.0.1:64242
2018-06-28 18:43:17,574 [myid:] - INFO  [Thread-1:NIOServerCnxn$StatCommand@687] - Stat command output
2018-06-28 18:43:17,574 [myid:] - INFO  [Thread-1:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:64242 (no session established for client)
2018-06-28 18:43:17,578 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11221:NIOServerCnxnFactory@242] - NIOServerCnxn factory exited run method
2018-06-28 18:43:17,578 [myid:] - INFO  [main:ZooKeeperServer@502] - shutting down
2018-06-28 18:43:17,578 [myid:] - INFO  [main:SessionTrackerImpl@226] - Shutting down
2018-06-28 18:43:17,578 [myid:] - INFO  [main:PrepRequestProcessor@769] - Shutting down
2018-06-28 18:43:17,578 [myid:] - INFO  [main:SyncRequestProcessor@208] - Shutting down
2018-06-28 18:43:17,578 [myid:] - INFO  [ProcessThread(sid:0 cport:11221)::PrepRequestProcessor@144] - PrepRequestProcessor exited loop!
2018-06-28 18:43:17,578 [myid:] - INFO  [SyncThread:0:SyncRequestProcessor@186] - SyncRequestProcessor exited!
2018-06-28 18:43:17,579 [myid:] - INFO  [main:FinalRequestProcessor@403] - shutdown of request processor complete
2018-06-28 18:43:17,579 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11221
2018-06-28 18:43:17,580 [myid:] - INFO  [main:ClientBase@428] - CREATING server instance 127.0.0.1:11221
2018-06-28 18:43:17,580 [myid:] - INFO  [main:ServerCnxnFactory@117] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2018-06-28 18:43:17,580 [myid:] - INFO  [main:NIOServerCnxnFactory@89] - binding to port 0.0.0.0/0.0.0.0:11221
2018-06-28 18:43:17,580 [myid:] - INFO  [main:ClientBase@403] - STARTING server instance 127.0.0.1:11221
2018-06-28 18:43:17,581 [myid:] - INFO  [main:ZooKeeperServer@174] - Created server with tickTime 3000 minSessionTimeout 6000 maxSessionTimeout 60000 datadir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test2127133382781528773.junit.dir/version-2 snapdir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test2127133382781528773.junit.dir/version-2
2018-06-28 18:43:17,582 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11221
2018-06-28 18:43:17,584 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11221:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:64244
2018-06-28 18:43:17,585 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11221:NIOServerCnxn@908] - Processing stat command from /127.0.0.1:64244
2018-06-28 18:43:17,585 [myid:] - INFO  [Thread-2:NIOServerCnxn$StatCommand@687] - Stat command output
2018-06-28 18:43:17,585 [myid:] - INFO  [Thread-2:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:64244 (no session established for client)
2018-06-28 18:43:17,588 [myid:] - INFO  [main:Environment@100] - Client environment:zookeeper.version=3.4.13-2d71af4dbe22557fda74f9a9b4309b15a7487f03, built on 06/29/2018 00:39 GMT
2018-06-28 18:43:17,588 [myid:] - INFO  [main:Environment@100] - Client environment:host.name=10.0.0.10
2018-06-28 18:43:17,588 [myid:] - INFO  [main:Environment@100] - Client environment:java.version=1.8.0_172
2018-06-28 18:43:17,588 [myid:] - INFO  [main:Environment@100] - Client environment:java.vendor=Oracle Corporation
2018-06-28 18:43:17,589 [myid:] - INFO  [main:Environment@100] - Client environment:java.home=/Library/Java/JavaVirtualMachines/jdk1.8.0_172.jdk/Contents/Home/jre
2018-06-28 18:43:17,589 [myid:] - INFO  [main:Environment@100] - Client environment:java.class.path=/Users/hanm/Desktop/projects/git/apache/zookeeper/build/classes:/Users/hanm/Desktop/projects/git/apache/zookeeper/src/java/lib/ant-eclipse-1.0-jvm1.2.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/src/java/lib/ivy-2.4.0.jar:/usr/local/Cellar/ant/1.10.3/libexec/lib/ant.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/classes:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/antlr-2.7.7.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/antlr4-annotations-4.3.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/antlr4-runtime-4.3.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-core-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-core-api-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-core-avl-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-core-constants-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-core-shared-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-i18n-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptor-kerberos-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-admin-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-authn-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-authz-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-changelog-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-collective-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-event-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-exception-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-journal-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-normalization-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-operational-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-referral-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-schema-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-subtree-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-trigger-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-jdbm-partition-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-jdbm1-2.0.0-M2.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-kerberos-codec-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-ldif-partition-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-mavibot-partition-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-protocol-kerberos-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-protocol-ldap-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-protocol-shared-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-xdbm-partition-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-all-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-asn1-api-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-asn1-ber-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-i18n-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-ldap-client-api-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-ldap-codec-core-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-ldap-extras-aci-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-ldap-extras-codec-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-ldap-extras-codec-api-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-ldap-extras-sp-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-ldap-extras-trigger-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-ldap-extras-util-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-ldap-model-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-util-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/audience-annotations-0.5.0.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/bcprov-jdk15-140.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/checkstyle-6.1.1.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/commons-beanutils-core-1.8.3.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/commons-cli-1.2.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/commons-collections-3.2.2.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/commons-io-2.4.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/commons-lang-2.6.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/commons-logging-1.1.1.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/commons-pool-1.6.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/ehcache-core-2.4.4.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/guava-18.0.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/hamcrest-all-1.3.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/hamcrest-core-1.3.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/jline-0.9.94.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/junit-4.12.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/log4j-1.2.17.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/mavibot-1.0.0-M1.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/mina-core-2.0.7.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/mockito-all-1.8.5.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/netty-3.10.6.Final.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/org.abego.treelayout.core-1.0.1.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/slf4j-api-1.7.25.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/slf4j-log4j12-1.7.25.jar:/usr/local/Cellar/ant/1.10.3/libexec/lib/ant-launcher.jar:/usr/local/Cellar/ant/1.10.3/libexec/lib/ant-junit.jar:/usr/local/Cellar/ant/1.10.3/libexec/lib/ant-junit4.jar
2018-06-28 18:43:17,589 [myid:] - INFO  [main:Environment@100] - Client environment:java.library.path=/Users/hanm/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.
2018-06-28 18:43:17,589 [myid:] - INFO  [main:Environment@100] - Client environment:java.io.tmpdir=/var/folders/wv/j6wmf1nj5h7c36qz9b81kmfw0000gn/T/
2018-06-28 18:43:17,589 [myid:] - INFO  [main:Environment@100] - Client environment:java.compiler=<NA>
2018-06-28 18:43:17,589 [myid:] - INFO  [main:Environment@100] - Client environment:os.name=Mac OS X
2018-06-28 18:43:17,589 [myid:] - INFO  [main:Environment@100] - Client environment:os.arch=x86_64
2018-06-28 18:43:17,590 [myid:] - INFO  [main:Environment@100] - Client environment:os.version=10.13.5
2018-06-28 18:43:17,590 [myid:] - INFO  [main:Environment@100] - Client environment:user.name=hanm
2018-06-28 18:43:17,590 [myid:] - INFO  [main:Environment@100] - Client environment:user.home=/Users/hanm
2018-06-28 18:43:17,590 [myid:] - INFO  [main:Environment@100] - Client environment:user.dir=/Users/hanm/Desktop/projects/git/apache/zookeeper
2018-06-28 18:43:17,590 [myid:] - INFO  [main:ZooKeeper@442] - Initiating client connection, connectString=127.0.0.1:11221 sessionTimeout=15000 watcher=org.apache.zookeeper.test.TruncateTest$1@523884b2
2018-06-28 18:43:17,601 [myid:] - INFO  [main-SendThread(localhost:11221):ClientCnxn$SendThread@1029] - Opening socket connection to server localhost/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2018-06-28 18:43:17,603 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11221:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:64245
2018-06-28 18:43:17,603 [myid:] - INFO  [main-SendThread(localhost:11221):ClientCnxn$SendThread@879] - Socket connection established to localhost/127.0.0.1:11221, initiating session
2018-06-28 18:43:17,605 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11221:ZooKeeperServer@949] - Client attempting to establish new session at /127.0.0.1:64245
2018-06-28 18:43:17,607 [myid:] - INFO  [SyncThread:0:FileTxnLog@213] - Creating new log file: log.1
2018-06-28 18:43:17,616 [myid:] - INFO  [SyncThread:0:ZooKeeperServer@694] - Established session 0x100066bd08d0000 with negotiated timeout 15000 for client /127.0.0.1:64245
2018-06-28 18:43:17,617 [myid:] - INFO  [main-SendThread(localhost:11221):ClientCnxn$SendThread@1303] - Session establishment complete on server localhost/127.0.0.1:11221, sessionid = 0x100066bd08d0000, negotiated timeout = 15000
2018-06-28 18:43:17,662 [myid:] - INFO  [ProcessThread(sid:0 cport:11221)::PrepRequestProcessor@487] - Processed session termination for sessionid: 0x100066bd08d0000
2018-06-28 18:43:17,662 [myid:] - INFO  [main:ZooKeeper@693] - Session: 0x100066bd08d0000 closed
2018-06-28 18:43:17,662 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@522] - EventThread shut down for session: 0x100066bd08d0000
2018-06-28 18:43:17,663 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11221:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:64245 which had sessionid 0x100066bd08d0000
2018-06-28 18:43:17,663 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11221:NIOServerCnxnFactory@242] - NIOServerCnxn factory exited run method
2018-06-28 18:43:17,663 [myid:] - INFO  [main:ZooKeeperServer@502] - shutting down
2018-06-28 18:43:17,663 [myid:] - INFO  [main:SessionTrackerImpl@226] - Shutting down
2018-06-28 18:43:17,663 [myid:] - INFO  [main:PrepRequestProcessor@769] - Shutting down
2018-06-28 18:43:17,663 [myid:] - INFO  [main:SyncRequestProcessor@208] - Shutting down
2018-06-28 18:43:17,663 [myid:] - INFO  [ProcessThread(sid:0 cport:11221)::PrepRequestProcessor@144] - PrepRequestProcessor exited loop!
2018-06-28 18:43:17,664 [myid:] - INFO  [SyncThread:0:SyncRequestProcessor@186] - SyncRequestProcessor exited!
2018-06-28 18:43:17,664 [myid:] - INFO  [main:FinalRequestProcessor@403] - shutdown of request processor complete
2018-06-28 18:43:17,670 [myid:] - INFO  [main:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 18:43:17,670 [myid:] - INFO  [main:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 18:43:17,671 [myid:] - INFO  [main:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 18:43:17,671 [myid:] - INFO  [main:ServerCnxnFactory@117] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2018-06-28 18:43:17,671 [myid:] - INFO  [main:NIOServerCnxnFactory@89] - binding to port 0.0.0.0/0.0.0.0:11223
2018-06-28 18:43:17,674 [myid:] - INFO  [main:QuorumPeer@668] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2018-06-28 18:43:17,675 [myid:] - INFO  [main:QuorumPeer@683] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2018-06-28 18:43:17,682 [myid:] - INFO  [main:ServerCnxnFactory@117] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2018-06-28 18:43:17,683 [myid:] - INFO  [main:NIOServerCnxnFactory@89] - binding to port 0.0.0.0/0.0.0.0:11224
2018-06-28 18:43:17,683 [myid:] - INFO  [main:QuorumPeer@668] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2018-06-28 18:43:17,684 [myid:] - INFO  [main:QuorumPeer@683] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2018-06-28 18:43:17,685 [myid:] - INFO  [main:ZooKeeper@442] - Initiating client connection, connectString=127.0.0.1:11223 sessionTimeout=15000 watcher=org.apache.zookeeper.test.TruncateTest$1@523884b2
2018-06-28 18:43:17,691 [myid:] - INFO  [main-SendThread(localhost:11223):ClientCnxn$SendThread@1029] - Opening socket connection to server localhost/127.0.0.1:11223. Will not attempt to authenticate using SASL (unknown error)
2018-06-28 18:43:17,692 [myid:] - INFO  [main-SendThread(localhost:11223):ClientCnxn$SendThread@879] - Socket connection established to localhost/127.0.0.1:11223, initiating session
2018-06-28 18:43:17,692 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11223:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:64246
2018-06-28 18:43:17,692 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11223:QuorumPeer@909] - LOOKING
2018-06-28 18:43:17,692 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11224:QuorumPeer@909] - LOOKING
2018-06-28 18:43:17,692 [myid:] - WARN  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11223:NIOServerCnxn@383] - Exception causing close of session 0x0: ZooKeeperServer not running
2018-06-28 18:43:17,692 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11223:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:64246 (no session established for client)
2018-06-28 18:43:17,693 [myid:] - INFO  [main-SendThread(localhost:11223):ClientCnxn$SendThread@1162] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
2018-06-28 18:43:17,694 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11223:LeaderElection@187] - Server address: /127.0.0.1:12222
2018-06-28 18:43:17,694 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11224:LeaderElection@187] - Server address: /127.0.0.1:12222
2018-06-28 18:43:17,906 [myid:] - WARN  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11224:LeaderElection@227] - Ignoring exception while looking for leader
java.net.SocketTimeoutException: Receive timed out
	at java.net.PlainDatagramSocketImpl.receive0(Native Method)
	at java.net.AbstractPlainDatagramSocketImpl.receive(AbstractPlainDatagramSocketImpl.java:143)
	at java.net.DatagramSocket.receive(DatagramSocket.java:812)
	at org.apache.zookeeper.server.quorum.LeaderElection.lookForLeader(LeaderElection.java:203)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:957)
2018-06-28 18:43:17,906 [myid:] - WARN  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11223:LeaderElection@227] - Ignoring exception while looking for leader
java.net.SocketTimeoutException: Receive timed out
	at java.net.PlainDatagramSocketImpl.receive0(Native Method)
	at java.net.AbstractPlainDatagramSocketImpl.receive(AbstractPlainDatagramSocketImpl.java:143)
	at java.net.DatagramSocket.receive(DatagramSocket.java:812)
	at org.apache.zookeeper.server.quorum.LeaderElection.lookForLeader(LeaderElection.java:203)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:957)
2018-06-28 18:43:17,909 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11224:LeaderElection@187] - Server address: /127.0.0.1:12223
2018-06-28 18:43:17,909 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11223:LeaderElection@187] - Server address: /127.0.0.1:12223
2018-06-28 18:43:17,910 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11223:LeaderElection@187] - Server address: /127.0.0.1:12224
2018-06-28 18:43:17,910 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11224:LeaderElection@187] - Server address: /127.0.0.1:12224
2018-06-28 18:43:17,911 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11224:LeaderElection@124] - Election tally: 
2018-06-28 18:43:17,911 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11223:LeaderElection@124] - Election tally: 
2018-06-28 18:43:17,911 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11224:LeaderElection@130] - 2	-> 1
2018-06-28 18:43:17,911 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11223:LeaderElection@130] - 2	-> 1
2018-06-28 18:43:17,911 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11224:LeaderElection@130] - 3	-> 1
2018-06-28 18:43:17,911 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11223:LeaderElection@130] - 3	-> 1
2018-06-28 18:43:18,546 [myid:] - INFO  [SessionTracker:SessionTrackerImpl@163] - SessionTrackerImpl exited loop!
2018-06-28 18:43:18,546 [myid:] - INFO  [SessionTracker:SessionTrackerImpl@163] - SessionTrackerImpl exited loop!
2018-06-28 18:43:18,921 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11224:LeaderElection@187] - Server address: /127.0.0.1:12222
2018-06-28 18:43:18,921 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11223:LeaderElection@187] - Server address: /127.0.0.1:12222
2018-06-28 18:43:19,126 [myid:] - WARN  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11224:LeaderElection@227] - Ignoring exception while looking for leader
java.net.SocketTimeoutException: Receive timed out
	at java.net.PlainDatagramSocketImpl.receive0(Native Method)
	at java.net.AbstractPlainDatagramSocketImpl.receive(AbstractPlainDatagramSocketImpl.java:143)
	at java.net.DatagramSocket.receive(DatagramSocket.java:812)
	at org.apache.zookeeper.server.quorum.LeaderElection.lookForLeader(LeaderElection.java:203)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:957)
2018-06-28 18:43:19,126 [myid:] - WARN  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11223:LeaderElection@227] - Ignoring exception while looking for leader
java.net.SocketTimeoutException: Receive timed out
	at java.net.PlainDatagramSocketImpl.receive0(Native Method)
	at java.net.AbstractPlainDatagramSocketImpl.receive(AbstractPlainDatagramSocketImpl.java:143)
	at java.net.DatagramSocket.receive(DatagramSocket.java:812)
	at org.apache.zookeeper.server.quorum.LeaderElection.lookForLeader(LeaderElection.java:203)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:957)
2018-06-28 18:43:19,127 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11224:LeaderElection@187] - Server address: /127.0.0.1:12223
2018-06-28 18:43:19,127 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11223:LeaderElection@187] - Server address: /127.0.0.1:12223
2018-06-28 18:43:19,127 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11224:LeaderElection@187] - Server address: /127.0.0.1:12224
2018-06-28 18:43:19,127 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11223:LeaderElection@187] - Server address: /127.0.0.1:12224
2018-06-28 18:43:19,128 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11224:LeaderElection@124] - Election tally: 
2018-06-28 18:43:19,128 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11224:LeaderElection@130] - 3	-> 2
2018-06-28 18:43:19,128 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11223:LeaderElection@124] - Election tally: 
2018-06-28 18:43:19,128 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11223:LeaderElection@130] - 3	-> 2
2018-06-28 18:43:19,129 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11224:LeaderElection@250] - Found leader: my type is: PARTICIPANT
2018-06-28 18:43:19,129 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11223:LeaderElection@250] - Found leader: my type is: PARTICIPANT
2018-06-28 18:43:19,129 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11224:QuorumPeer@991] - LEADING
2018-06-28 18:43:19,132 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11224:Leader@64] - TCP NoDelay set to: true
2018-06-28 18:43:19,133 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11224:ZooKeeperServer@174] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test4761692373021193585.junit.dir/version-2 snapdir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test4761692373021193585.junit.dir/version-2
2018-06-28 18:43:19,135 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11224:Leader@380] - LEADING - LEADER ELECTION TOOK - 107730591
2018-06-28 18:43:19,240 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11223:QuorumPeer@979] - FOLLOWING
2018-06-28 18:43:19,243 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11223:Learner@86] - TCP NoDelay set to: true
2018-06-28 18:43:19,244 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11223:ZooKeeperServer@174] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test4899394398107528101.junit.dir/version-2 snapdir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test4899394398107528101.junit.dir/version-2
2018-06-28 18:43:19,244 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11223:Follower@65] - FOLLOWING - LEADER ELECTION TOOK - 107730700
2018-06-28 18:43:19,245 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11223:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 18:43:19,250 [myid:] - INFO  [LearnerHandler-/127.0.0.1:64247:LearnerHandler@346] - Follower sid: 2 : info : org.apache.zookeeper.server.quorum.QuorumPeer$QuorumServer@1cf7220e
2018-06-28 18:43:19,259 [myid:] - INFO  [LearnerHandler-/127.0.0.1:64247:LearnerHandler@401] - Synchronizing with Follower sid: 2 maxCommittedLog=0x0 minCommittedLog=0x0 peerLastZxid=0x0
2018-06-28 18:43:19,259 [myid:] - INFO  [LearnerHandler-/127.0.0.1:64247:LearnerHandler@410] - leader and follower are in sync, zxid=0x0
2018-06-28 18:43:19,259 [myid:] - INFO  [LearnerHandler-/127.0.0.1:64247:LearnerHandler@475] - Sending DIFF
2018-06-28 18:43:19,259 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11223:Learner@332] - Getting a diff from the leader 0x0
2018-06-28 18:43:19,262 [myid:] - INFO  [LearnerHandler-/127.0.0.1:64247:LearnerHandler@535] - Received NEWLEADER-ACK message from 2
2018-06-28 18:43:19,262 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11224:Leader@964] - Have quorum of supporters, sids: [ 2,3 ]; starting up and setting last processed zxid: 0x100000000
2018-06-28 18:43:19,718 [myid:] - INFO  [main-SendThread(localhost:11223):ClientCnxn$SendThread@1029] - Opening socket connection to server localhost/127.0.0.1:11223. Will not attempt to authenticate using SASL (unknown error)
2018-06-28 18:43:19,719 [myid:] - INFO  [main-SendThread(localhost:11223):ClientCnxn$SendThread@879] - Socket connection established to localhost/127.0.0.1:11223, initiating session
2018-06-28 18:43:19,719 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11223:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:64248
2018-06-28 18:43:19,719 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11223:ZooKeeperServer@949] - Client attempting to establish new session at /127.0.0.1:64248
2018-06-28 18:43:19,720 [myid:] - INFO  [SyncThread:3:FileTxnLog@213] - Creating new log file: log.100000001
2018-06-28 18:43:19,720 [myid:] - WARN  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11223:Follower@119] - Got zxid 0x100000001 expected 0x1
2018-06-28 18:43:19,720 [myid:] - INFO  [SyncThread:2:FileTxnLog@213] - Creating new log file: log.100000001
2018-06-28 18:43:19,729 [myid:] - INFO  [CommitProcessor:2:ZooKeeperServer@694] - Established session 0x200066bd71c0000 with negotiated timeout 15000 for client /127.0.0.1:64248
2018-06-28 18:43:19,729 [myid:] - INFO  [main-SendThread(localhost:11223):ClientCnxn$SendThread@1303] - Session establishment complete on server localhost/127.0.0.1:11223, sessionid = 0x200066bd71c0000, negotiated timeout = 15000
2018-06-28 18:43:20,743 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::PrepRequestProcessor@487] - Processed session termination for sessionid: 0x200066bd71c0000
2018-06-28 18:43:20,744 [myid:] - INFO  [main:ZooKeeper@693] - Session: 0x200066bd71c0000 closed
2018-06-28 18:43:20,744 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11223:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:64248 which had sessionid 0x200066bd71c0000
2018-06-28 18:43:20,744 [myid:] - INFO  [main:ZooKeeper@442] - Initiating client connection, connectString=127.0.0.1:11223 sessionTimeout=15000 watcher=org.apache.zookeeper.test.TruncateTest$1@523884b2
2018-06-28 18:43:20,744 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@522] - EventThread shut down for session: 0x200066bd71c0000
2018-06-28 18:43:20,746 [myid:] - INFO  [main-SendThread(localhost:11223):ClientCnxn$SendThread@1029] - Opening socket connection to server localhost/127.0.0.1:11223. Will not attempt to authenticate using SASL (unknown error)
2018-06-28 18:43:20,746 [myid:] - INFO  [main-SendThread(localhost:11223):ClientCnxn$SendThread@879] - Socket connection established to localhost/127.0.0.1:11223, initiating session
2018-06-28 18:43:20,746 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11223:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:64249
2018-06-28 18:43:20,746 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11223:ZooKeeperServer@949] - Client attempting to establish new session at /127.0.0.1:64249
2018-06-28 18:43:20,748 [myid:] - INFO  [CommitProcessor:2:ZooKeeperServer@694] - Established session 0x200066bd71c0001 with negotiated timeout 15000 for client /127.0.0.1:64249
2018-06-28 18:43:20,748 [myid:] - INFO  [main-SendThread(localhost:11223):ClientCnxn$SendThread@1303] - Session establishment complete on server localhost/127.0.0.1:11223, sessionid = 0x200066bd71c0001, negotiated timeout = 15000
2018-06-28 18:43:20,749 [myid:] - INFO  [main:ServerCnxnFactory@117] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2018-06-28 18:43:20,750 [myid:] - INFO  [main:NIOServerCnxnFactory@89] - binding to port 0.0.0.0/0.0.0.0:11222
2018-06-28 18:43:20,753 [myid:] - INFO  [main:QuorumPeer@668] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2018-06-28 18:43:20,754 [myid:] - INFO  [main:QuorumPeer@683] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2018-06-28 18:43:20,755 [myid:] - INFO  [main:ZooKeeper@442] - Initiating client connection, connectString=127.0.0.1:11222 sessionTimeout=15000 watcher=org.apache.zookeeper.test.TruncateTest$1@523884b2
2018-06-28 18:43:20,755 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11222:QuorumPeer@909] - LOOKING
2018-06-28 18:43:20,756 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11222:LeaderElection@187] - Server address: /127.0.0.1:12222
2018-06-28 18:43:20,756 [myid:] - INFO  [main-SendThread(localhost:11222):ClientCnxn$SendThread@1029] - Opening socket connection to server localhost/127.0.0.1:11222. Will not attempt to authenticate using SASL (unknown error)
2018-06-28 18:43:20,756 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11222:LeaderElection@187] - Server address: /127.0.0.1:12223
2018-06-28 18:43:20,756 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11222:LeaderElection@187] - Server address: /127.0.0.1:12224
2018-06-28 18:43:20,756 [myid:] - INFO  [main-SendThread(localhost:11222):ClientCnxn$SendThread@879] - Socket connection established to localhost/127.0.0.1:11222, initiating session
2018-06-28 18:43:20,756 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11222:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:64250
2018-06-28 18:43:20,756 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11222:LeaderElection@124] - Election tally: 
2018-06-28 18:43:20,756 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11222:LeaderElection@130] - 1	-> 1
2018-06-28 18:43:20,757 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11222:LeaderElection@130] - 3	-> 2
2018-06-28 18:43:20,757 [myid:] - WARN  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11222:NIOServerCnxn@383] - Exception causing close of session 0x0: ZooKeeperServer not running
2018-06-28 18:43:20,757 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11222:LeaderElection@250] - Found leader: my type is: PARTICIPANT
2018-06-28 18:43:20,757 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11222:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:64250 (no session established for client)
2018-06-28 18:43:20,757 [myid:] - INFO  [main-SendThread(localhost:11222):ClientCnxn$SendThread@1162] - Unable to read additional data from server sessionid 0x0, likely server has closed socket, closing socket connection and attempting reconnect
2018-06-28 18:43:20,867 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11222:QuorumPeer@979] - FOLLOWING
2018-06-28 18:43:20,867 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11222:ZooKeeperServer@174] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test2127133382781528773.junit.dir/version-2 snapdir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test2127133382781528773.junit.dir/version-2
2018-06-28 18:43:20,867 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11222:Follower@65] - FOLLOWING - LEADER ELECTION TOOK - 107732324
2018-06-28 18:43:20,868 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11222:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 18:43:20,869 [myid:] - INFO  [LearnerHandler-/127.0.0.1:64251:LearnerHandler@346] - Follower sid: 1 : info : org.apache.zookeeper.server.quorum.QuorumPeer$QuorumServer@4bb17acd
2018-06-28 18:43:20,870 [myid:] - INFO  [LearnerHandler-/127.0.0.1:64251:LearnerHandler@401] - Synchronizing with Follower sid: 1 maxCommittedLog=0x10000000d minCommittedLog=0x100000001 peerLastZxid=0x34
2018-06-28 18:43:20,870 [myid:] - WARN  [LearnerHandler-/127.0.0.1:64251:LearnerHandler@468] - Unhandled proposal scenario
2018-06-28 18:43:20,871 [myid:] - INFO  [LearnerHandler-/127.0.0.1:64251:LearnerHandler@475] - Sending SNAP
2018-06-28 18:43:20,871 [myid:] - INFO  [LearnerHandler-/127.0.0.1:64251:LearnerHandler@499] - Sending snapshot last zxid of peer is 0x34  zxid of leader is 0x10000000dsent zxid of db as 0x10000000d
2018-06-28 18:43:20,871 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11222:Learner@336] - Getting a snapshot from leader 0x10000000d
2018-06-28 18:43:20,872 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11222:FileTxnSnapLog@301] - Snapshotting: 0x10000000d to /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test2127133382781528773.junit.dir/version-2/snapshot.10000000d
2018-06-28 18:43:20,877 [myid:] - INFO  [LearnerHandler-/127.0.0.1:64251:LearnerHandler@535] - Received NEWLEADER-ACK message from 1
2018-06-28 18:43:22,169 [myid:] - INFO  [main-SendThread(localhost:11222):ClientCnxn$SendThread@1029] - Opening socket connection to server localhost/127.0.0.1:11222. Will not attempt to authenticate using SASL (unknown error)
2018-06-28 18:43:22,169 [myid:] - INFO  [main-SendThread(localhost:11222):ClientCnxn$SendThread@879] - Socket connection established to localhost/127.0.0.1:11222, initiating session
2018-06-28 18:43:22,169 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11222:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:64252
2018-06-28 18:43:22,170 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11222:ZooKeeperServer@949] - Client attempting to establish new session at /127.0.0.1:64252
2018-06-28 18:43:22,170 [myid:] - WARN  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11222:Follower@119] - Got zxid 0x10000000e expected 0x1
2018-06-28 18:43:22,171 [myid:] - INFO  [SyncThread:1:FileTxnLog@213] - Creating new log file: log.10000000e
2018-06-28 18:43:22,178 [myid:] - INFO  [CommitProcessor:1:ZooKeeperServer@694] - Established session 0x100066bdd680000 with negotiated timeout 15000 for client /127.0.0.1:64252
2018-06-28 18:43:22,178 [myid:] - INFO  [main-SendThread(localhost:11222):ClientCnxn$SendThread@1303] - Session establishment complete on server localhost/127.0.0.1:11222, sessionid = 0x100066bdd680000, negotiated timeout = 15000
2018-06-28 18:43:22,777 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::PrepRequestProcessor@487] - Processed session termination for sessionid: 0x100066bdd680000
2018-06-28 18:43:22,784 [myid:] - INFO  [main:ZooKeeper@693] - Session: 0x100066bdd680000 closed
2018-06-28 18:43:22,785 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11222:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:64252 which had sessionid 0x100066bdd680000
2018-06-28 18:43:22,784 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@522] - EventThread shut down for session: 0x100066bdd680000
2018-06-28 18:43:22,786 [myid:] - INFO  [main:QuorumBase@306] - Shutting down quorum peer QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11222
2018-06-28 18:43:22,786 [myid:] - INFO  [main:Follower@169] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:169)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1026)
	at org.apache.zookeeper.test.QuorumBase.shutdown(QuorumBase.java:307)
	at org.apache.zookeeper.test.TruncateTest.testTruncate(TruncateTest.java:252)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.apache.zookeeper.JUnit4ZKTestRunner$LoggedInvokeMethod.evaluate(JUnit4ZKTestRunner.java:55)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.rules.TestWatchman$1.evaluate(TestWatchman.java:53)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:38)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:536)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1205)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1048)
2018-06-28 18:43:22,787 [myid:] - INFO  [main:FollowerZooKeeperServer@140] - Shutting down
2018-06-28 18:43:22,787 [myid:] - INFO  [main:ZooKeeperServer@502] - shutting down
2018-06-28 18:43:22,787 [myid:] - INFO  [main:FollowerRequestProcessor@107] - Shutting down
2018-06-28 18:43:22,787 [myid:] - INFO  [main:CommitProcessor@184] - Shutting down
2018-06-28 18:43:22,787 [myid:] - INFO  [main:FinalRequestProcessor@403] - shutdown of request processor complete
2018-06-28 18:43:22,787 [myid:] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@97] - FollowerRequestProcessor exited loop!
2018-06-28 18:43:22,787 [myid:] - INFO  [CommitProcessor:1:CommitProcessor@153] - CommitProcessor exited loop!
2018-06-28 18:43:22,788 [myid:] - INFO  [main:SyncRequestProcessor@208] - Shutting down
2018-06-28 18:43:22,788 [myid:] - INFO  [SyncThread:1:SyncRequestProcessor@186] - SyncRequestProcessor exited!
2018-06-28 18:43:22,789 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11222:NIOServerCnxnFactory@242] - NIOServerCnxn factory exited run method
2018-06-28 18:43:22,789 [myid:] - WARN  [ResponderThread:QuorumPeer$ResponderThread@531] - Unexpected IO exception in ResponderThread
java.net.SocketException: Socket closed
	at java.net.PlainDatagramSocketImpl.receive0(Native Method)
	at java.net.AbstractPlainDatagramSocketImpl.receive(AbstractPlainDatagramSocketImpl.java:143)
	at java.net.DatagramSocket.receive(DatagramSocket.java:812)
	at org.apache.zookeeper.server.quorum.QuorumPeer$ResponderThread.run(QuorumPeer.java:482)
2018-06-28 18:43:22,789 [myid:] - INFO  [main:QuorumBase@310] - Shutting down leader election QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11222
2018-06-28 18:43:22,789 [myid:] - WARN  [ResponderThread:QuorumPeer$ResponderThread@533] - QuorumPeer responder thread exited
2018-06-28 18:43:22,789 [myid:] - INFO  [main:QuorumBase@315] - Waiting for QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11222 to exit thread
2018-06-28 18:43:23,301 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11222:Follower@169] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:169)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:985)
2018-06-28 18:43:23,301 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11222:FollowerZooKeeperServer@140] - Shutting down
2018-06-28 18:43:23,301 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11222:SyncRequestProcessor@208] - Shutting down
2018-06-28 18:43:23,302 [myid:] - WARN  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11222:QuorumPeer@1009] - QuorumPeer main thread exited
2018-06-28 18:43:23,303 [myid:] - INFO  [main:QuorumBase@306] - Shutting down quorum peer QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11223
2018-06-28 18:43:23,303 [myid:] - INFO  [main:Follower@169] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:169)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1026)
	at org.apache.zookeeper.test.QuorumBase.shutdown(QuorumBase.java:307)
	at org.apache.zookeeper.test.TruncateTest.testTruncate(TruncateTest.java:253)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.apache.zookeeper.JUnit4ZKTestRunner$LoggedInvokeMethod.evaluate(JUnit4ZKTestRunner.java:55)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.rules.TestWatchman$1.evaluate(TestWatchman.java:53)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:38)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:536)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1205)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1048)
2018-06-28 18:43:23,304 [myid:] - INFO  [main:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:64249 which had sessionid 0x200066bd71c0001
2018-06-28 18:43:23,304 [myid:] - INFO  [main:FollowerZooKeeperServer@140] - Shutting down
2018-06-28 18:43:23,304 [myid:] - INFO  [main-SendThread(localhost:11223):ClientCnxn$SendThread@1162] - Unable to read additional data from server sessionid 0x200066bd71c0001, likely server has closed socket, closing socket connection and attempting reconnect
2018-06-28 18:43:23,304 [myid:] - INFO  [main:ZooKeeperServer@502] - shutting down
2018-06-28 18:43:23,305 [myid:] - INFO  [main:FollowerRequestProcessor@107] - Shutting down
2018-06-28 18:43:23,305 [myid:] - INFO  [main:CommitProcessor@184] - Shutting down
2018-06-28 18:43:23,305 [myid:] - INFO  [FollowerRequestProcessor:2:FollowerRequestProcessor@97] - FollowerRequestProcessor exited loop!
2018-06-28 18:43:23,305 [myid:] - INFO  [CommitProcessor:2:CommitProcessor@153] - CommitProcessor exited loop!
2018-06-28 18:43:23,305 [myid:] - INFO  [main:FinalRequestProcessor@403] - shutdown of request processor complete
2018-06-28 18:43:23,306 [myid:] - INFO  [main:SyncRequestProcessor@208] - Shutting down
2018-06-28 18:43:23,306 [myid:] - INFO  [SyncThread:2:SyncRequestProcessor@186] - SyncRequestProcessor exited!
2018-06-28 18:43:23,306 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11223:NIOServerCnxnFactory@242] - NIOServerCnxn factory exited run method
2018-06-28 18:43:23,306 [myid:] - INFO  [main:QuorumBase@310] - Shutting down leader election QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11223
2018-06-28 18:43:23,306 [myid:] - WARN  [ResponderThread:QuorumPeer$ResponderThread@531] - Unexpected IO exception in ResponderThread
java.net.SocketException: Socket closed
	at java.net.PlainDatagramSocketImpl.receive0(Native Method)
	at java.net.AbstractPlainDatagramSocketImpl.receive(AbstractPlainDatagramSocketImpl.java:143)
	at java.net.DatagramSocket.receive(DatagramSocket.java:812)
	at org.apache.zookeeper.server.quorum.QuorumPeer$ResponderThread.run(QuorumPeer.java:482)
2018-06-28 18:43:23,307 [myid:] - INFO  [main:QuorumBase@315] - Waiting for QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11223 to exit thread
2018-06-28 18:43:23,307 [myid:] - WARN  [ResponderThread:QuorumPeer$ResponderThread@533] - QuorumPeer responder thread exited
2018-06-28 18:43:24,306 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11223:Follower@169] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:169)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:985)
2018-06-28 18:43:24,306 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11223:FollowerZooKeeperServer@140] - Shutting down
2018-06-28 18:43:24,306 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11223:SyncRequestProcessor@208] - Shutting down
2018-06-28 18:43:24,306 [myid:] - WARN  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11223:QuorumPeer@1009] - QuorumPeer main thread exited
2018-06-28 18:43:24,307 [myid:] - INFO  [main:QuorumBase@306] - Shutting down quorum peer QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11224
2018-06-28 18:43:24,307 [myid:] - INFO  [main:Leader@520] - Shutting down
2018-06-28 18:43:24,307 [myid:] - INFO  [main:Leader@526] - Shutdown called
java.lang.Exception: shutdown Leader! reason: quorum Peer shutdown
	at org.apache.zookeeper.server.quorum.Leader.shutdown(Leader.java:526)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1023)
	at org.apache.zookeeper.test.QuorumBase.shutdown(QuorumBase.java:307)
	at org.apache.zookeeper.test.TruncateTest.testTruncate(TruncateTest.java:254)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.apache.zookeeper.JUnit4ZKTestRunner$LoggedInvokeMethod.evaluate(JUnit4ZKTestRunner.java:55)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.rules.TestWatchman$1.evaluate(TestWatchman.java:53)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:38)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:536)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1205)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1048)
2018-06-28 18:43:24,308 [myid:] - INFO  [main:ZooKeeperServer@502] - shutting down
2018-06-28 18:43:24,308 [myid:] - INFO  [LearnerCnxAcceptor-/127.0.0.1:12224:Leader$LearnerCnxAcceptor@340] - exception while shutting down acceptor: java.net.SocketException: Socket closed
2018-06-28 18:43:24,308 [myid:] - INFO  [main:SessionTrackerImpl@226] - Shutting down
2018-06-28 18:43:24,308 [myid:] - INFO  [main:PrepRequestProcessor@769] - Shutting down
2018-06-28 18:43:24,308 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::PrepRequestProcessor@144] - PrepRequestProcessor exited loop!
2018-06-28 18:43:24,308 [myid:] - INFO  [main:ProposalRequestProcessor@88] - Shutting down
2018-06-28 18:43:24,308 [myid:] - INFO  [main:CommitProcessor@184] - Shutting down
2018-06-28 18:43:24,309 [myid:] - INFO  [CommitProcessor:3:CommitProcessor@153] - CommitProcessor exited loop!
2018-06-28 18:43:24,309 [myid:] - INFO  [main:Leader$ToBeAppliedRequestProcessor@685] - Shutting down
2018-06-28 18:43:24,309 [myid:] - INFO  [main:FinalRequestProcessor@403] - shutdown of request processor complete
2018-06-28 18:43:24,309 [myid:] - INFO  [main:SyncRequestProcessor@208] - Shutting down
2018-06-28 18:43:24,309 [myid:] - INFO  [SyncThread:3:SyncRequestProcessor@186] - SyncRequestProcessor exited!
2018-06-28 18:43:24,310 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11224:NIOServerCnxnFactory@242] - NIOServerCnxn factory exited run method
2018-06-28 18:43:24,310 [myid:] - WARN  [LearnerHandler-/127.0.0.1:64247:LearnerHandler@661] - ******* GOODBYE /127.0.0.1:64247 ********
2018-06-28 18:43:24,310 [myid:] - WARN  [LearnerHandler-/127.0.0.1:64251:LearnerHandler@661] - ******* GOODBYE /127.0.0.1:64251 ********
2018-06-28 18:43:24,311 [myid:] - INFO  [main:QuorumBase@310] - Shutting down leader election QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11224
2018-06-28 18:43:24,311 [myid:] - WARN  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11224:QuorumPeer@997] - Unexpected exception
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at org.apache.zookeeper.server.quorum.Leader.lead(Leader.java:474)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:994)
2018-06-28 18:43:24,311 [myid:] - WARN  [LearnerHandler-/127.0.0.1:64251:LearnerHandler@673] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1220)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:335)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:339)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:671)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:664)
2018-06-28 18:43:24,311 [myid:] - WARN  [ResponderThread:QuorumPeer$ResponderThread@531] - Unexpected IO exception in ResponderThread
java.net.SocketException: Socket closed
	at java.net.PlainDatagramSocketImpl.receive0(Native Method)
	at java.net.AbstractPlainDatagramSocketImpl.receive(AbstractPlainDatagramSocketImpl.java:143)
	at java.net.DatagramSocket.receive(DatagramSocket.java:812)
	at org.apache.zookeeper.server.quorum.QuorumPeer$ResponderThread.run(QuorumPeer.java:482)
2018-06-28 18:43:24,311 [myid:] - WARN  [LearnerHandler-/127.0.0.1:64247:LearnerHandler@673] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1220)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:335)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:339)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:671)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:664)
2018-06-28 18:43:24,311 [myid:] - WARN  [ResponderThread:QuorumPeer$ResponderThread@533] - QuorumPeer responder thread exited
2018-06-28 18:43:24,311 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11224:Leader@520] - Shutting down
2018-06-28 18:43:24,311 [myid:] - INFO  [main:QuorumBase@315] - Waiting for QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11224 to exit thread
2018-06-28 18:43:24,312 [myid:] - WARN  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11224:QuorumPeer@1009] - QuorumPeer main thread exited
2018-06-28 18:43:24,312 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@58] - Memory used 14454
2018-06-28 18:43:24,312 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@63] - Number of threads 7
2018-06-28 18:43:24,312 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@78] - FINISHED TEST METHOD testTruncate
2018-06-28 18:43:24,318 [myid:] - INFO  [main:ZKTestCase$1@69] - SUCCEEDED testTruncate
2018-06-28 18:43:24,318 [myid:] - INFO  [main:ZKTestCase$1@64] - FINISHED testTruncate
2018-06-28 18:43:24,321 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11222
2018-06-28 18:43:24,322 [myid:] - INFO  [main:ZKTestCase$1@59] - STARTING testTruncationStreamReset
2018-06-28 18:43:24,322 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@53] - RUNNING TEST METHOD testTruncationStreamReset
2018-06-28 18:43:24,324 [myid:] - INFO  [main:FileTxnLog@213] - Creating new log file: log.1
2018-06-28 18:43:24,347 [myid:] - INFO  [main:FileTxnLog@213] - Creating new log file: log.c8
2018-06-28 18:43:24,349 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@58] - Memory used 15000
2018-06-28 18:43:24,349 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@63] - Number of threads 7
2018-06-28 18:43:24,349 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@78] - FINISHED TEST METHOD testTruncationStreamReset
2018-06-28 18:43:24,350 [myid:] - INFO  [main:ZKTestCase$1@69] - SUCCEEDED testTruncationStreamReset
2018-06-28 18:43:24,350 [myid:] - INFO  [main:ZKTestCase$1@64] - FINISHED testTruncationStreamReset
2018-06-28 18:43:24,350 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11223
2018-06-28 18:43:24,351 [myid:] - INFO  [main:ZKTestCase$1@59] - STARTING testTruncationNullLog
2018-06-28 18:43:24,352 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@53] - RUNNING TEST METHOD testTruncationNullLog
2018-06-28 18:43:24,353 [myid:] - INFO  [main:FileTxnLog@213] - Creating new log file: log.1
2018-06-28 18:43:24,372 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@58] - Memory used 15554
2018-06-28 18:43:24,372 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@63] - Number of threads 7
2018-06-28 18:43:24,372 [myid:] - INFO  [main:JUnit4ZKTestRunner$LoggedInvokeMethod@78] - FINISHED TEST METHOD testTruncationNullLog
2018-06-28 18:43:24,373 [myid:] - INFO  [main:ZKTestCase$1@69] - SUCCEEDED testTruncationNullLog
2018-06-28 18:43:24,373 [myid:] - INFO  [main:ZKTestCase$1@64] - FINISHED testTruncationNullLog
------------- ---------------- ---------------

Testcase: testTruncate took 6.901 sec
Testcase: testTruncationStreamReset took 0.028 sec
Testcase: testTruncationNullLog took 0.022 sec
