Testsuite: org.apache.zookeeper.server.ZxidRolloverTest
Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 60.814 sec
------------- Standard Output ---------------
2018-06-28 17:40:55,528 [myid:] - INFO  [main:ZxidRolloverTest@57] - STARTING testSimpleRolloverFollower
2018-06-28 17:40:55,578 [myid:] - INFO  [main:Environment@100] - Server environment:zookeeper.version=3.4.13-2d71af4dbe22557fda74f9a9b4309b15a7487f03, built on 06/29/2018 00:39 GMT
2018-06-28 17:40:55,581 [myid:] - INFO  [main:Environment@100] - Server environment:host.name=10.0.0.10
2018-06-28 17:40:55,581 [myid:] - INFO  [main:Environment@100] - Server environment:java.version=1.8.0_172
2018-06-28 17:40:55,581 [myid:] - INFO  [main:Environment@100] - Server environment:java.vendor=Oracle Corporation
2018-06-28 17:40:55,582 [myid:] - INFO  [main:Environment@100] - Server environment:java.home=/Library/Java/JavaVirtualMachines/jdk1.8.0_172.jdk/Contents/Home/jre
2018-06-28 17:40:55,582 [myid:] - INFO  [main:Environment@100] - Server environment:java.class.path=/Users/hanm/Desktop/projects/git/apache/zookeeper/build/classes:/Users/hanm/Desktop/projects/git/apache/zookeeper/src/java/lib/ant-eclipse-1.0-jvm1.2.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/src/java/lib/ivy-2.4.0.jar:/usr/local/Cellar/ant/1.10.3/libexec/lib/ant.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/classes:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/antlr-2.7.7.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/antlr4-annotations-4.3.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/antlr4-runtime-4.3.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-core-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-core-api-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-core-avl-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-core-constants-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-core-shared-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-i18n-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptor-kerberos-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-admin-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-authn-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-authz-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-changelog-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-collective-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-event-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-exception-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-journal-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-normalization-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-operational-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-referral-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-schema-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-subtree-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-trigger-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-jdbm-partition-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-jdbm1-2.0.0-M2.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-kerberos-codec-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-ldif-partition-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-mavibot-partition-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-protocol-kerberos-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-protocol-ldap-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-protocol-shared-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-xdbm-partition-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-all-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-asn1-api-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-asn1-ber-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-i18n-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-ldap-client-api-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-ldap-codec-core-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-ldap-extras-aci-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-ldap-extras-codec-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-ldap-extras-codec-api-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-ldap-extras-sp-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-ldap-extras-trigger-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-ldap-extras-util-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-ldap-model-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-util-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/audience-annotations-0.5.0.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/bcprov-jdk15-140.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/checkstyle-6.1.1.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/commons-beanutils-core-1.8.3.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/commons-cli-1.2.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/commons-collections-3.2.2.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/commons-io-2.4.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/commons-lang-2.6.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/commons-logging-1.1.1.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/commons-pool-1.6.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/ehcache-core-2.4.4.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/guava-18.0.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/hamcrest-all-1.3.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/hamcrest-core-1.3.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/jline-0.9.94.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/junit-4.12.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/log4j-1.2.17.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/mavibot-1.0.0-M1.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/mina-core-2.0.7.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/mockito-all-1.8.5.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/netty-3.10.6.Final.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/org.abego.treelayout.core-1.0.1.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/slf4j-api-1.7.25.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/slf4j-log4j12-1.7.25.jar:/usr/local/Cellar/ant/1.10.3/libexec/lib/ant-launcher.jar:/usr/local/Cellar/ant/1.10.3/libexec/lib/ant-junit.jar:/usr/local/Cellar/ant/1.10.3/libexec/lib/ant-junit4.jar
2018-06-28 17:40:55,582 [myid:] - INFO  [main:Environment@100] - Server environment:java.library.path=/Users/hanm/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.
2018-06-28 17:40:55,582 [myid:] - INFO  [main:Environment@100] - Server environment:java.io.tmpdir=/var/folders/wv/j6wmf1nj5h7c36qz9b81kmfw0000gn/T/
2018-06-28 17:40:55,583 [myid:] - INFO  [main:Environment@100] - Server environment:java.compiler=<NA>
2018-06-28 17:40:55,583 [myid:] - INFO  [main:Environment@100] - Server environment:os.name=Mac OS X
2018-06-28 17:40:55,583 [myid:] - INFO  [main:Environment@100] - Server environment:os.arch=x86_64
2018-06-28 17:40:55,583 [myid:] - INFO  [main:Environment@100] - Server environment:os.version=10.13.5
2018-06-28 17:40:55,583 [myid:] - INFO  [main:Environment@100] - Server environment:user.name=hanm
2018-06-28 17:40:55,584 [myid:] - INFO  [main:Environment@100] - Server environment:user.home=/Users/hanm
2018-06-28 17:40:55,584 [myid:] - INFO  [main:Environment@100] - Server environment:user.dir=/Users/hanm/Desktop/projects/git/apache/zookeeper
2018-06-28 17:40:55,760 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11221
2018-06-28 17:40:55,761 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11222
2018-06-28 17:40:55,770 [myid:] - INFO  [main:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:40:55,771 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11223
2018-06-28 17:40:55,771 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11224
2018-06-28 17:40:55,771 [myid:] - INFO  [main:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:40:55,772 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11225
2018-06-28 17:40:55,772 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11226
2018-06-28 17:40:55,772 [myid:] - INFO  [main:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:40:55,772 [myid:] - INFO  [main:QuorumUtil@110] - Creating QuorumPeer 1; public port 11221
2018-06-28 17:40:55,779 [myid:] - INFO  [main:ServerCnxnFactory@117] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2018-06-28 17:40:55,788 [myid:] - INFO  [main:NIOServerCnxnFactory@89] - binding to port 0.0.0.0/0.0.0.0:11221
2018-06-28 17:40:55,806 [myid:] - INFO  [main:QuorumUtil@110] - Creating QuorumPeer 2; public port 11223
2018-06-28 17:40:55,806 [myid:] - INFO  [main:ServerCnxnFactory@117] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2018-06-28 17:40:55,807 [myid:] - INFO  [main:NIOServerCnxnFactory@89] - binding to port 0.0.0.0/0.0.0.0:11223
2018-06-28 17:40:55,807 [myid:] - INFO  [main:QuorumUtil@110] - Creating QuorumPeer 3; public port 11225
2018-06-28 17:40:55,807 [myid:] - INFO  [main:ServerCnxnFactory@117] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2018-06-28 17:40:55,810 [myid:] - INFO  [main:NIOServerCnxnFactory@89] - binding to port 0.0.0.0/0.0.0.0:11225
2018-06-28 17:40:55,810 [myid:] - INFO  [main:QuorumUtil@227] - Shutting down quorum peer QuorumPeer
2018-06-28 17:40:55,811 [myid:] - INFO  [main:QuorumUtil@234] - No election available to shutdown QuorumPeer
2018-06-28 17:40:55,811 [myid:] - INFO  [main:QuorumUtil@236] - Waiting for QuorumPeer to exit thread
2018-06-28 17:40:55,811 [myid:] - INFO  [main:QuorumUtil@227] - Shutting down quorum peer QuorumPeer
2018-06-28 17:40:55,811 [myid:] - INFO  [main:QuorumUtil@234] - No election available to shutdown QuorumPeer
2018-06-28 17:40:55,811 [myid:] - INFO  [main:QuorumUtil@236] - Waiting for QuorumPeer to exit thread
2018-06-28 17:40:55,812 [myid:] - INFO  [main:QuorumUtil@227] - Shutting down quorum peer QuorumPeer
2018-06-28 17:40:55,812 [myid:] - INFO  [main:QuorumUtil@234] - No election available to shutdown QuorumPeer
2018-06-28 17:40:55,812 [myid:] - INFO  [main:QuorumUtil@236] - Waiting for QuorumPeer to exit thread
2018-06-28 17:40:55,813 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11221
2018-06-28 17:40:55,814 [myid:] - INFO  [main:QuorumUtil@220] - 127.0.0.1:11221 is no longer accepting client connections
2018-06-28 17:40:55,814 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11223
2018-06-28 17:40:55,814 [myid:] - INFO  [main:QuorumUtil@220] - 127.0.0.1:11223 is no longer accepting client connections
2018-06-28 17:40:55,815 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11225
2018-06-28 17:40:55,815 [myid:] - INFO  [main:QuorumUtil@220] - 127.0.0.1:11225 is no longer accepting client connections
2018-06-28 17:40:55,815 [myid:] - INFO  [main:QuorumUtil@186] - Creating QuorumPeer 1; public port 11221
2018-06-28 17:40:55,815 [myid:] - INFO  [main:ServerCnxnFactory@117] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2018-06-28 17:40:55,815 [myid:] - INFO  [main:NIOServerCnxnFactory@89] - binding to port 0.0.0.0/0.0.0.0:11221
2018-06-28 17:40:55,818 [myid:] - INFO  [main:QuorumPeer@668] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2018-06-28 17:40:55,820 [myid:] - INFO  [main:QuorumPeer@683] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2018-06-28 17:40:55,826 [myid:] - INFO  [ListenerThread:QuorumCnxManager$Listener@736] - My election bind port: /127.0.0.1:12222
2018-06-28 17:40:55,831 [myid:] - INFO  [main:QuorumUtil@132] - Started QuorumPeer 1
2018-06-28 17:40:55,831 [myid:] - INFO  [main:QuorumUtil@186] - Creating QuorumPeer 2; public port 11223
2018-06-28 17:40:55,832 [myid:] - INFO  [main:ServerCnxnFactory@117] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2018-06-28 17:40:55,832 [myid:] - INFO  [main:NIOServerCnxnFactory@89] - binding to port 0.0.0.0/0.0.0.0:11223
2018-06-28 17:40:55,832 [myid:] - INFO  [main:QuorumPeer@668] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2018-06-28 17:40:55,833 [myid:] - INFO  [main:QuorumPeer@683] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2018-06-28 17:40:55,834 [myid:] - INFO  [ListenerThread:QuorumCnxManager$Listener@736] - My election bind port: /127.0.0.1:12224
2018-06-28 17:40:55,835 [myid:] - INFO  [main:QuorumUtil@132] - Started QuorumPeer 2
2018-06-28 17:40:55,835 [myid:] - INFO  [main:QuorumUtil@186] - Creating QuorumPeer 3; public port 11225
2018-06-28 17:40:55,835 [myid:] - INFO  [main:ServerCnxnFactory@117] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2018-06-28 17:40:55,835 [myid:] - INFO  [main:NIOServerCnxnFactory@89] - binding to port 0.0.0.0/0.0.0.0:11225
2018-06-28 17:40:55,836 [myid:] - INFO  [main:QuorumPeer@668] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2018-06-28 17:40:55,836 [myid:] - INFO  [main:QuorumPeer@683] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2018-06-28 17:40:55,837 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11221:QuorumPeer@909] - LOOKING
2018-06-28 17:40:55,837 [myid:] - INFO  [ListenerThread:QuorumCnxManager$Listener@736] - My election bind port: /127.0.0.1:12226
2018-06-28 17:40:55,838 [myid:] - INFO  [main:QuorumUtil@132] - Started QuorumPeer 3
2018-06-28 17:40:55,838 [myid:] - INFO  [main:QuorumUtil@135] - Checking ports 127.0.0.1:11221,127.0.0.1:11223,127.0.0.1:11225
2018-06-28 17:40:55,838 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11223:QuorumPeer@909] - LOOKING
2018-06-28 17:40:55,838 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11221
2018-06-28 17:40:55,838 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11225:QuorumPeer@909] - LOOKING
2018-06-28 17:40:55,839 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11221:FastLeaderElection@813] - New election. My id =  1, proposed zxid=0x0
2018-06-28 17:40:55,839 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11223:FastLeaderElection@813] - New election. My id =  2, proposed zxid=0x0
2018-06-28 17:40:55,839 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11225:FastLeaderElection@813] - New election. My id =  3, proposed zxid=0x0
2018-06-28 17:40:55,841 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11221:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:50790
2018-06-28 17:40:55,841 [myid:] - INFO  [/127.0.0.1:12222:QuorumCnxManager$Listener@743] - Received connection request /127.0.0.1:50791
2018-06-28 17:40:55,842 [myid:] - INFO  [/127.0.0.1:12224:QuorumCnxManager$Listener@743] - Received connection request /127.0.0.1:50793
2018-06-28 17:40:55,842 [myid:] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@347] - Have smaller server identifier, so dropping the connection: (2, 1)
2018-06-28 17:40:55,842 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:40:55,842 [myid:] - INFO  [/127.0.0.1:12226:QuorumCnxManager$Listener@743] - Received connection request /127.0.0.1:50794
2018-06-28 17:40:55,842 [myid:] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@347] - Have smaller server identifier, so dropping the connection: (3, 1)
2018-06-28 17:40:55,844 [myid:] - INFO  [/127.0.0.1:12222:QuorumCnxManager$Listener@743] - Received connection request /127.0.0.1:50792
2018-06-28 17:40:55,844 [myid:] - INFO  [/127.0.0.1:12224:QuorumCnxManager$Listener@743] - Received connection request /127.0.0.1:50795
2018-06-28 17:40:55,845 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:40:55,845 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:40:55,845 [myid:] - INFO  [WorkerSender[myid=2]:QuorumCnxManager@347] - Have smaller server identifier, so dropping the connection: (3, 2)
2018-06-28 17:40:55,845 [myid:] - INFO  [/127.0.0.1:12226:QuorumCnxManager$Listener@743] - Received connection request /127.0.0.1:50796
2018-06-28 17:40:55,845 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:40:55,845 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:40:55,845 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:40:55,845 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:40:55,845 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:40:55,846 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:40:55,846 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@946] - Exception when using channel: for id 3 my id = 2 error = java.net.SocketException: Broken pipe (Write failed)
2018-06-28 17:40:55,846 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@951] - Send worker leaving thread
2018-06-28 17:40:55,846 [myid:] - INFO  [/127.0.0.1:12224:QuorumCnxManager$Listener@743] - Received connection request /127.0.0.1:50797
2018-06-28 17:40:55,846 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:40:55,846 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:40:55,847 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1025] - Connection broken for id 2, my id = 3, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1010)
2018-06-28 17:40:55,847 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:40:55,847 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@941] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:418)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1094)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$700(QuorumCnxManager.java:74)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:929)
2018-06-28 17:40:55,850 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@951] - Send worker leaving thread
2018-06-28 17:40:55,851 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:40:55,846 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1028] - Interrupting SendWorker
2018-06-28 17:40:55,850 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:40:55,850 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1028] - Interrupting SendWorker
2018-06-28 17:40:55,850 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11221:ServerCnxn@324] - The list of known four letter word commands is : [{1936881266=srvr, 1937006964=stat, 2003003491=wchc, 1685417328=dump, 1668445044=crst, 1936880500=srst, 1701738089=envi, 1668247142=conf, 2003003507=wchs, 2003003504=wchp, 1668247155=cons, 1835955314=mntr, 1769173615=isro, 1920298859=ruok, 1735683435=gtmk, 1937010027=stmk}]
2018-06-28 17:40:55,847 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:40:55,851 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11221:ServerCnxn@325] - The list of enabled four letter word commands is : [[wchs, stat, stmk, conf, ruok, mntr, srvr, envi, srst, isro, dump, gtmk, crst, cons]]
2018-06-28 17:40:55,851 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:40:55,852 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11221:NIOServerCnxn@908] - Processing stat command from /127.0.0.1:50790
2018-06-28 17:40:55,852 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:40:55,851 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:40:55,853 [myid:] - INFO  [Thread-2:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:50790 (no session established for client)
2018-06-28 17:40:56,056 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11223:QuorumPeer@979] - FOLLOWING
2018-06-28 17:40:56,056 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11221:QuorumPeer@979] - FOLLOWING
2018-06-28 17:40:56,056 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11225:QuorumPeer@991] - LEADING
2018-06-28 17:40:56,061 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11225:Leader@64] - TCP NoDelay set to: true
2018-06-28 17:40:56,064 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11223:Learner@86] - TCP NoDelay set to: true
2018-06-28 17:40:56,067 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11225:ZooKeeperServer@174] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test7367276069359196348.junit.dir/version-2 snapdir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test7367276069359196348.junit.dir/version-2
2018-06-28 17:40:56,067 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11223:ZooKeeperServer@174] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test2949965030984247311.junit.dir/version-2 snapdir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test2949965030984247311.junit.dir/version-2
2018-06-28 17:40:56,067 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11221:ZooKeeperServer@174] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test4190449652059992134.junit.dir/version-2 snapdir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test4190449652059992134.junit.dir/version-2
2018-06-28 17:40:56,068 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11223:Follower@65] - FOLLOWING - LEADER ELECTION TOOK - 229
2018-06-28 17:40:56,068 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11221:Follower@65] - FOLLOWING - LEADER ELECTION TOOK - 229
2018-06-28 17:40:56,069 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11225:Leader@380] - LEADING - LEADER ELECTION TOOK - 230
2018-06-28 17:40:56,070 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11223:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:40:56,070 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11221:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:40:56,080 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50798:LearnerHandler@346] - Follower sid: 2 : info : org.apache.zookeeper.server.quorum.QuorumPeer$QuorumServer@55a30a8c
2018-06-28 17:40:56,080 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50799:LearnerHandler@346] - Follower sid: 1 : info : org.apache.zookeeper.server.quorum.QuorumPeer$QuorumServer@5c44e950
2018-06-28 17:40:56,084 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50798:LearnerHandler@401] - Synchronizing with Follower sid: 2 maxCommittedLog=0x0 minCommittedLog=0x0 peerLastZxid=0x0
2018-06-28 17:40:56,084 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50799:LearnerHandler@401] - Synchronizing with Follower sid: 1 maxCommittedLog=0x0 minCommittedLog=0x0 peerLastZxid=0x0
2018-06-28 17:40:56,084 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50798:LearnerHandler@410] - leader and follower are in sync, zxid=0x0
2018-06-28 17:40:56,084 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50799:LearnerHandler@410] - leader and follower are in sync, zxid=0x0
2018-06-28 17:40:56,084 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50798:LearnerHandler@475] - Sending DIFF
2018-06-28 17:40:56,084 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50799:LearnerHandler@475] - Sending DIFF
2018-06-28 17:40:56,084 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11223:Learner@332] - Getting a diff from the leader 0x0
2018-06-28 17:40:56,084 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11221:Learner@332] - Getting a diff from the leader 0x0
2018-06-28 17:40:56,088 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50798:LearnerHandler@535] - Received NEWLEADER-ACK message from 2
2018-06-28 17:40:56,088 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50799:LearnerHandler@535] - Received NEWLEADER-ACK message from 1
2018-06-28 17:40:56,088 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11225:Leader@964] - Have quorum of supporters, sids: [ 2,3 ]; starting up and setting last processed zxid: 0x100000000
2018-06-28 17:40:56,104 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11221
2018-06-28 17:40:56,105 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11221:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:50800
2018-06-28 17:40:56,106 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11221:NIOServerCnxn@908] - Processing stat command from /127.0.0.1:50800
2018-06-28 17:40:56,106 [myid:] - INFO  [Thread-5:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:50800 (no session established for client)
2018-06-28 17:40:56,361 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11221
2018-06-28 17:40:56,362 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11221:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:50801
2018-06-28 17:40:56,362 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11221:NIOServerCnxn@908] - Processing stat command from /127.0.0.1:50801
2018-06-28 17:40:56,363 [myid:] - INFO  [Thread-6:NIOServerCnxn$StatCommand@687] - Stat command output
2018-06-28 17:40:56,364 [myid:] - INFO  [Thread-6:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:50801 (no session established for client)
2018-06-28 17:40:56,364 [myid:] - INFO  [main:QuorumUtil@139] - 127.0.0.1:11221 is accepting client connections
2018-06-28 17:40:56,364 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11223
2018-06-28 17:40:56,365 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11223:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:50802
2018-06-28 17:40:56,365 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11223:NIOServerCnxn@908] - Processing stat command from /127.0.0.1:50802
2018-06-28 17:40:56,365 [myid:] - INFO  [Thread-7:NIOServerCnxn$StatCommand@687] - Stat command output
2018-06-28 17:40:56,366 [myid:] - INFO  [Thread-7:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:50802 (no session established for client)
2018-06-28 17:40:56,366 [myid:] - INFO  [main:QuorumUtil@139] - 127.0.0.1:11223 is accepting client connections
2018-06-28 17:40:56,366 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11225
2018-06-28 17:40:56,367 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11225:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:50803
2018-06-28 17:40:56,367 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11225:NIOServerCnxn@908] - Processing stat command from /127.0.0.1:50803
2018-06-28 17:40:56,367 [myid:] - INFO  [Thread-8:NIOServerCnxn$StatCommand@687] - Stat command output
2018-06-28 17:40:56,371 [myid:] - INFO  [Thread-8:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:50803 (no session established for client)
2018-06-28 17:40:56,371 [myid:] - INFO  [main:QuorumUtil@139] - 127.0.0.1:11225 is accepting client connections
2018-06-28 17:40:56,371 [myid:] - INFO  [main:JMXEnv@199] - JMXEnv.dump() follows
2018-06-28 17:40:56,379 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.2
2018-06-28 17:40:56,379 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1
2018-06-28 17:40:56,379 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree
2018-06-28 17:40:56,379 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.3
2018-06-28 17:40:56,379 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.3
2018-06-28 17:40:56,379 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1
2018-06-28 17:40:56,379 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2
2018-06-28 17:40:56,379 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2
2018-06-28 17:40:56,379 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.1
2018-06-28 17:40:56,379 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3
2018-06-28 17:40:56,380 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower,name3=InMemoryDataTree
2018-06-28 17:40:56,380 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader
2018-06-28 17:40:56,380 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.2
2018-06-28 17:40:56,380 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.1
2018-06-28 17:40:56,380 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3
2018-06-28 17:40:56,380 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader,name3=InMemoryDataTree
2018-06-28 17:40:56,380 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower
2018-06-28 17:40:56,380 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower
2018-06-28 17:40:56,383 [myid:] - INFO  [main:JMXEnv@118] - expect:InMemoryDataTree
2018-06-28 17:40:56,383 [myid:] - INFO  [main:JMXEnv@121] - found:InMemoryDataTree org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree
2018-06-28 17:40:56,383 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id1,name1=replica.1,name2=
2018-06-28 17:40:56,384 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id1,name1=replica.1,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower
2018-06-28 17:40:56,384 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id2,name1=replica.2,name2=
2018-06-28 17:40:56,384 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id2,name1=replica.2,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower,name3=InMemoryDataTree
2018-06-28 17:40:56,384 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id3,name1=replica.3,name2=
2018-06-28 17:40:56,384 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id3,name1=replica.3,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader
2018-06-28 17:40:56,384 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id1,name1=replica.1
2018-06-28 17:40:56,385 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id1,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1
2018-06-28 17:40:56,385 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id1,name1=replica.2
2018-06-28 17:40:56,385 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id1,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.2
2018-06-28 17:40:56,385 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id1,name1=replica.3
2018-06-28 17:40:56,385 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id1,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.3
2018-06-28 17:40:56,385 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id2,name1=replica.1
2018-06-28 17:40:56,385 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id2,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.1
2018-06-28 17:40:56,385 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id2,name1=replica.2
2018-06-28 17:40:56,386 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id2,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2
2018-06-28 17:40:56,386 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id2,name1=replica.3
2018-06-28 17:40:56,386 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id2,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.3
2018-06-28 17:40:56,386 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id3,name1=replica.1
2018-06-28 17:40:56,386 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id3,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.1
2018-06-28 17:40:56,386 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id3,name1=replica.2
2018-06-28 17:40:56,386 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id3,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.2
2018-06-28 17:40:56,386 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id3,name1=replica.3
2018-06-28 17:40:56,386 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id3,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3
2018-06-28 17:40:56,386 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id1
2018-06-28 17:40:56,386 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id1 org.apache.ZooKeeperService:name0=ReplicatedServer_id1
2018-06-28 17:40:56,387 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id2
2018-06-28 17:40:56,387 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id2 org.apache.ZooKeeperService:name0=ReplicatedServer_id2
2018-06-28 17:40:56,387 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id3
2018-06-28 17:40:56,387 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id3 org.apache.ZooKeeperService:name0=ReplicatedServer_id3
2018-06-28 17:40:56,390 [myid:] - INFO  [main:Environment@100] - Client environment:zookeeper.version=3.4.13-2d71af4dbe22557fda74f9a9b4309b15a7487f03, built on 06/29/2018 00:39 GMT
2018-06-28 17:40:56,390 [myid:] - INFO  [main:Environment@100] - Client environment:host.name=10.0.0.10
2018-06-28 17:40:56,390 [myid:] - INFO  [main:Environment@100] - Client environment:java.version=1.8.0_172
2018-06-28 17:40:56,390 [myid:] - INFO  [main:Environment@100] - Client environment:java.vendor=Oracle Corporation
2018-06-28 17:40:56,390 [myid:] - INFO  [main:Environment@100] - Client environment:java.home=/Library/Java/JavaVirtualMachines/jdk1.8.0_172.jdk/Contents/Home/jre
2018-06-28 17:40:56,390 [myid:] - INFO  [main:Environment@100] - Client environment:java.class.path=/Users/hanm/Desktop/projects/git/apache/zookeeper/build/classes:/Users/hanm/Desktop/projects/git/apache/zookeeper/src/java/lib/ant-eclipse-1.0-jvm1.2.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/src/java/lib/ivy-2.4.0.jar:/usr/local/Cellar/ant/1.10.3/libexec/lib/ant.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/classes:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/antlr-2.7.7.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/antlr4-annotations-4.3.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/antlr4-runtime-4.3.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-core-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-core-api-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-core-avl-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-core-constants-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-core-shared-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-i18n-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptor-kerberos-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-admin-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-authn-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-authz-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-changelog-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-collective-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-event-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-exception-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-journal-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-normalization-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-operational-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-referral-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-schema-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-subtree-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-trigger-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-jdbm-partition-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-jdbm1-2.0.0-M2.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-kerberos-codec-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-ldif-partition-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-mavibot-partition-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-protocol-kerberos-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-protocol-ldap-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-protocol-shared-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-xdbm-partition-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-all-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-asn1-api-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-asn1-ber-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-i18n-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-ldap-client-api-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-ldap-codec-core-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-ldap-extras-aci-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-ldap-extras-codec-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-ldap-extras-codec-api-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-ldap-extras-sp-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-ldap-extras-trigger-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-ldap-extras-util-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-ldap-model-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-util-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/audience-annotations-0.5.0.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/bcprov-jdk15-140.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/checkstyle-6.1.1.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/commons-beanutils-core-1.8.3.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/commons-cli-1.2.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/commons-collections-3.2.2.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/commons-io-2.4.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/commons-lang-2.6.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/commons-logging-1.1.1.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/commons-pool-1.6.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/ehcache-core-2.4.4.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/guava-18.0.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/hamcrest-all-1.3.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/hamcrest-core-1.3.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/jline-0.9.94.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/junit-4.12.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/log4j-1.2.17.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/mavibot-1.0.0-M1.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/mina-core-2.0.7.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/mockito-all-1.8.5.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/netty-3.10.6.Final.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/org.abego.treelayout.core-1.0.1.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/slf4j-api-1.7.25.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/slf4j-log4j12-1.7.25.jar:/usr/local/Cellar/ant/1.10.3/libexec/lib/ant-launcher.jar:/usr/local/Cellar/ant/1.10.3/libexec/lib/ant-junit.jar:/usr/local/Cellar/ant/1.10.3/libexec/lib/ant-junit4.jar
2018-06-28 17:40:56,390 [myid:] - INFO  [main:Environment@100] - Client environment:java.library.path=/Users/hanm/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.
2018-06-28 17:40:56,390 [myid:] - INFO  [main:Environment@100] - Client environment:java.io.tmpdir=/var/folders/wv/j6wmf1nj5h7c36qz9b81kmfw0000gn/T/
2018-06-28 17:40:56,390 [myid:] - INFO  [main:Environment@100] - Client environment:java.compiler=<NA>
2018-06-28 17:40:56,391 [myid:] - INFO  [main:Environment@100] - Client environment:os.name=Mac OS X
2018-06-28 17:40:56,391 [myid:] - INFO  [main:Environment@100] - Client environment:os.arch=x86_64
2018-06-28 17:40:56,391 [myid:] - INFO  [main:Environment@100] - Client environment:os.version=10.13.5
2018-06-28 17:40:56,391 [myid:] - INFO  [main:Environment@100] - Client environment:user.name=hanm
2018-06-28 17:40:56,391 [myid:] - INFO  [main:Environment@100] - Client environment:user.home=/Users/hanm
2018-06-28 17:40:56,391 [myid:] - INFO  [main:Environment@100] - Client environment:user.dir=/Users/hanm/Desktop/projects/git/apache/zookeeper
2018-06-28 17:40:56,393 [myid:] - INFO  [main:ZooKeeper@442] - Initiating client connection, connectString=127.0.0.1:11221 sessionTimeout=30000 watcher=org.apache.zookeeper.test.ClientBase$CountdownWatcher@531be3c5
2018-06-28 17:40:56,401 [myid:] - INFO  [main:ZooKeeper@442] - Initiating client connection, connectString=127.0.0.1:11223 sessionTimeout=30000 watcher=org.apache.zookeeper.test.ClientBase$CountdownWatcher@52af6cff
2018-06-28 17:40:56,401 [myid:] - INFO  [main:ZooKeeper@442] - Initiating client connection, connectString=127.0.0.1:11225 sessionTimeout=30000 watcher=org.apache.zookeeper.test.ClientBase$CountdownWatcher@735b478
2018-06-28 17:40:56,408 [myid:] - INFO  [main-SendThread(localhost:11225):ClientCnxn$SendThread@1029] - Opening socket connection to server localhost/127.0.0.1:11225. Will not attempt to authenticate using SASL (unknown error)
2018-06-28 17:40:56,408 [myid:] - INFO  [main-SendThread(localhost:11223):ClientCnxn$SendThread@1029] - Opening socket connection to server localhost/127.0.0.1:11223. Will not attempt to authenticate using SASL (unknown error)
2018-06-28 17:40:56,408 [myid:] - INFO  [main-SendThread(localhost:11221):ClientCnxn$SendThread@1029] - Opening socket connection to server localhost/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2018-06-28 17:40:56,410 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11225:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:50804
2018-06-28 17:40:56,410 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11221:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:50805
2018-06-28 17:40:56,411 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11223:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:50806
2018-06-28 17:40:56,411 [myid:] - INFO  [main-SendThread(localhost:11221):ClientCnxn$SendThread@879] - Socket connection established to localhost/127.0.0.1:11221, initiating session
2018-06-28 17:40:56,411 [myid:] - INFO  [main-SendThread(localhost:11225):ClientCnxn$SendThread@879] - Socket connection established to localhost/127.0.0.1:11225, initiating session
2018-06-28 17:40:56,411 [myid:] - INFO  [main-SendThread(localhost:11223):ClientCnxn$SendThread@879] - Socket connection established to localhost/127.0.0.1:11223, initiating session
2018-06-28 17:40:56,413 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11223:ZooKeeperServer@949] - Client attempting to establish new session at /127.0.0.1:50806
2018-06-28 17:40:56,413 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11225:ZooKeeperServer@949] - Client attempting to establish new session at /127.0.0.1:50804
2018-06-28 17:40:56,413 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11221:ZooKeeperServer@949] - Client attempting to establish new session at /127.0.0.1:50805
2018-06-28 17:40:56,415 [myid:] - INFO  [SyncThread:3:FileTxnLog@213] - Creating new log file: log.100000001
2018-06-28 17:40:56,415 [myid:] - WARN  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11223:Follower@119] - Got zxid 0x100000001 expected 0x1
2018-06-28 17:40:56,415 [myid:] - WARN  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11221:Follower@119] - Got zxid 0x100000001 expected 0x1
2018-06-28 17:40:56,415 [myid:] - INFO  [SyncThread:2:FileTxnLog@213] - Creating new log file: log.100000001
2018-06-28 17:40:56,415 [myid:] - INFO  [SyncThread:1:FileTxnLog@213] - Creating new log file: log.100000001
2018-06-28 17:40:56,425 [myid:] - INFO  [CommitProcessor:3:ZooKeeperServer@694] - Established session 0x300065469df0000 with negotiated timeout 30000 for client /127.0.0.1:50804
2018-06-28 17:40:56,425 [myid:] - INFO  [CommitProcessor:1:ZooKeeperServer@694] - Established session 0x100065469dd0000 with negotiated timeout 30000 for client /127.0.0.1:50805
2018-06-28 17:40:56,426 [myid:] - INFO  [main-SendThread(localhost:11221):ClientCnxn$SendThread@1303] - Session establishment complete on server localhost/127.0.0.1:11221, sessionid = 0x100065469dd0000, negotiated timeout = 30000
2018-06-28 17:40:56,425 [myid:] - INFO  [CommitProcessor:2:ZooKeeperServer@694] - Established session 0x200065469dd0000 with negotiated timeout 30000 for client /127.0.0.1:50806
2018-06-28 17:40:56,426 [myid:] - INFO  [main-SendThread(localhost:11225):ClientCnxn$SendThread@1303] - Session establishment complete on server localhost/127.0.0.1:11225, sessionid = 0x300065469df0000, negotiated timeout = 30000
2018-06-28 17:40:56,426 [myid:] - INFO  [main-SendThread(localhost:11223):ClientCnxn$SendThread@1303] - Session establishment complete on server localhost/127.0.0.1:11223, sessionid = 0x200065469dd0000, negotiated timeout = 30000
2018-06-28 17:40:56,428 [myid:] - INFO  [main:ZxidRolloverTest@225] - Creating nodes 0 thru 10
2018-06-28 17:40:56,441 [myid:] - WARN  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11223:Follower@119] - Got zxid 0x1fffffffd expected 0x100000004
2018-06-28 17:40:56,441 [myid:] - WARN  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11221:Follower@119] - Got zxid 0x1fffffffd expected 0x100000004
2018-06-28 17:40:56,442 [myid:] - WARN  [LearnerHandler-/127.0.0.1:50798:Leader@613] - Commiting zxid 0x1fffffffd from /127.0.0.1:12225 not first!
2018-06-28 17:40:56,442 [myid:] - WARN  [LearnerHandler-/127.0.0.1:50798:Leader@615] - First is 0x100000004
2018-06-28 17:40:56,444 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@301] - Snapshotting: 0x1fffffffd to /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test7367276069359196348.junit.dir/version-2/snapshot.1fffffffd
2018-06-28 17:40:56,444 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@301] - Snapshotting: 0x1fffffffd to /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test2949965030984247311.junit.dir/version-2/snapshot.1fffffffd
2018-06-28 17:40:56,444 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@301] - Snapshotting: 0x1fffffffd to /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test4190449652059992134.junit.dir/version-2/snapshot.1fffffffd
2018-06-28 17:40:56,446 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::Leader@520] - Shutting down
2018-06-28 17:40:56,446 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::Leader@526] - Shutdown called
java.lang.Exception: shutdown Leader! reason: zxid lower 32 bits have rolled over, forcing re-election, and therefore new epoch start
	at org.apache.zookeeper.server.quorum.Leader.shutdown(Leader.java:526)
	at org.apache.zookeeper.server.quorum.Leader.propose(Leader.java:772)
	at org.apache.zookeeper.server.quorum.ProposalRequestProcessor.processRequest(ProposalRequestProcessor.java:78)
	at org.apache.zookeeper.server.PrepRequestProcessor.pRequest(PrepRequestProcessor.java:681)
	at org.apache.zookeeper.server.PrepRequestProcessor.run(PrepRequestProcessor.java:134)
2018-06-28 17:40:56,447 [myid:] - INFO  [LearnerCnxAcceptor-/127.0.0.1:12225:Leader$LearnerCnxAcceptor@340] - exception while shutting down acceptor: java.net.SocketException: Socket closed
2018-06-28 17:40:56,447 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:50804 which had sessionid 0x300065469df0000
2018-06-28 17:40:56,447 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::ZooKeeperServer@502] - shutting down
2018-06-28 17:40:56,447 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::SessionTrackerImpl@226] - Shutting down
2018-06-28 17:40:56,447 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::PrepRequestProcessor@769] - Shutting down
2018-06-28 17:40:56,447 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::ProposalRequestProcessor@88] - Shutting down
2018-06-28 17:40:56,447 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::CommitProcessor@184] - Shutting down
2018-06-28 17:40:56,448 [myid:] - INFO  [CommitProcessor:3:CommitProcessor@153] - CommitProcessor exited loop!
2018-06-28 17:40:56,448 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::Leader$ToBeAppliedRequestProcessor@685] - Shutting down
2018-06-28 17:40:56,448 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::FinalRequestProcessor@403] - shutdown of request processor complete
2018-06-28 17:40:56,448 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::SyncRequestProcessor@208] - Shutting down
2018-06-28 17:40:56,448 [myid:] - INFO  [SyncThread:3:SyncRequestProcessor@186] - SyncRequestProcessor exited!
2018-06-28 17:40:56,449 [myid:] - INFO  [main-SendThread(localhost:11225):ClientCnxn$SendThread@1162] - Unable to read additional data from server sessionid 0x300065469df0000, likely server has closed socket, closing socket connection and attempting reconnect
2018-06-28 17:40:56,449 [myid:] - WARN  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11221:Follower@90] - Exception when following the leader
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:63)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:99)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:153)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:86)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:981)
2018-06-28 17:40:56,449 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::PrepRequestProcessor@138] - zxid lower 32 bits have rolled over, forcing re-election, and therefore new epoch start
2018-06-28 17:40:56,449 [myid:] - WARN  [LearnerHandler-/127.0.0.1:50798:LearnerHandler@661] - ******* GOODBYE /127.0.0.1:50798 ********
2018-06-28 17:40:56,450 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11221:Follower@169] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:169)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:985)
2018-06-28 17:40:56,449 [myid:] - WARN  [LearnerHandler-/127.0.0.1:50799:LearnerHandler@661] - ******* GOODBYE /127.0.0.1:50799 ********
2018-06-28 17:40:56,449 [myid:] - WARN  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11223:Follower@90] - Exception when following the leader
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:63)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:99)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:153)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:86)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:981)
2018-06-28 17:40:56,450 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11221:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:50805 which had sessionid 0x100065469dd0000
2018-06-28 17:40:56,450 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11223:Follower@169] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:169)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:985)
2018-06-28 17:40:56,450 [myid:] - WARN  [LearnerHandler-/127.0.0.1:50799:LearnerHandler@673] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1220)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:335)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:339)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:671)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:664)
2018-06-28 17:40:56,450 [myid:] - WARN  [LearnerHandler-/127.0.0.1:50798:LearnerHandler@673] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1220)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:335)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:339)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:671)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:664)
2018-06-28 17:40:56,450 [myid:] - ERROR [ProcessThread(sid:3 cport:-1)::ZooKeeperCriticalThread@49] - Severe unrecoverable error, from thread : ProcessThread(sid:3 cport:-1):
org.apache.zookeeper.server.RequestProcessor$RequestProcessorException: zxid lower 32 bits have rolled over, forcing re-election, and therefore new epoch start
	at org.apache.zookeeper.server.quorum.ProposalRequestProcessor.processRequest(ProposalRequestProcessor.java:80)
	at org.apache.zookeeper.server.PrepRequestProcessor.pRequest(PrepRequestProcessor.java:681)
	at org.apache.zookeeper.server.PrepRequestProcessor.run(PrepRequestProcessor.java:134)
Caused by: org.apache.zookeeper.server.quorum.Leader$XidRolloverException: zxid lower 32 bits have rolled over, forcing re-election, and therefore new epoch start
	at org.apache.zookeeper.server.quorum.Leader.propose(Leader.java:773)
	at org.apache.zookeeper.server.quorum.ProposalRequestProcessor.processRequest(ProposalRequestProcessor.java:78)
	... 2 more
2018-06-28 17:40:56,450 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11223:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:50806 which had sessionid 0x200065469dd0000
2018-06-28 17:40:56,450 [myid:] - INFO  [main-SendThread(localhost:11221):ClientCnxn$SendThread@1162] - Unable to read additional data from server sessionid 0x100065469dd0000, likely server has closed socket, closing socket connection and attempting reconnect
2018-06-28 17:40:56,450 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11221:FollowerZooKeeperServer@140] - Shutting down
2018-06-28 17:40:56,451 [myid:] - INFO  [main-SendThread(localhost:11223):ClientCnxn$SendThread@1162] - Unable to read additional data from server sessionid 0x200065469dd0000, likely server has closed socket, closing socket connection and attempting reconnect
2018-06-28 17:40:56,451 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11223:FollowerZooKeeperServer@140] - Shutting down
2018-06-28 17:40:56,452 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11223:ZooKeeperServer@502] - shutting down
2018-06-28 17:40:56,451 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::ZooKeeperServerListenerImpl@42] - Thread ProcessThread(sid:3 cport:-1): exits, error code 1
2018-06-28 17:40:56,452 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11223:FollowerRequestProcessor@107] - Shutting down
2018-06-28 17:40:56,451 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11221:ZooKeeperServer@502] - shutting down
2018-06-28 17:40:56,452 [myid:] - INFO  [FollowerRequestProcessor:2:FollowerRequestProcessor@97] - FollowerRequestProcessor exited loop!
2018-06-28 17:40:56,452 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11221:FollowerRequestProcessor@107] - Shutting down
2018-06-28 17:40:56,452 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11223:CommitProcessor@184] - Shutting down
2018-06-28 17:40:56,452 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::PrepRequestProcessor@144] - PrepRequestProcessor exited loop!
2018-06-28 17:40:56,452 [myid:] - INFO  [CommitProcessor:2:CommitProcessor@153] - CommitProcessor exited loop!
2018-06-28 17:40:56,452 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11223:FinalRequestProcessor@403] - shutdown of request processor complete
2018-06-28 17:40:56,452 [myid:] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@97] - FollowerRequestProcessor exited loop!
2018-06-28 17:40:56,452 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11221:CommitProcessor@184] - Shutting down
2018-06-28 17:40:56,453 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11221:FinalRequestProcessor@403] - shutdown of request processor complete
2018-06-28 17:40:56,453 [myid:] - INFO  [CommitProcessor:1:CommitProcessor@153] - CommitProcessor exited loop!
2018-06-28 17:40:56,453 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11223:SyncRequestProcessor@208] - Shutting down
2018-06-28 17:40:56,453 [myid:] - INFO  [SyncThread:2:SyncRequestProcessor@186] - SyncRequestProcessor exited!
2018-06-28 17:40:56,453 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11223:QuorumPeer@909] - LOOKING
2018-06-28 17:40:56,453 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11221:SyncRequestProcessor@208] - Shutting down
2018-06-28 17:40:56,453 [myid:] - INFO  [SyncThread:1:SyncRequestProcessor@186] - SyncRequestProcessor exited!
2018-06-28 17:40:56,453 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11223:FastLeaderElection@813] - New election. My id =  2, proposed zxid=0x1fffffffe
2018-06-28 17:40:56,453 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11221:QuorumPeer@909] - LOOKING
2018-06-28 17:40:56,454 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:40:56,454 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11221:FastLeaderElection@813] - New election. My id =  1, proposed zxid=0x1fffffffe
2018-06-28 17:40:56,454 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEpoch) LEADING (my state)
2018-06-28 17:40:56,454 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:40:56,454 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:40:56,454 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) LEADING (my state)
2018-06-28 17:40:56,454 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:40:56,454 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:40:56,454 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) LEADING (my state)
2018-06-28 17:40:56,455 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LEADING (n.state), 3 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:40:56,455 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LEADING (n.state), 3 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:40:56,455 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LEADING (n.state), 3 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:40:56,455 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:40:56,660 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11221:QuorumPeer@979] - FOLLOWING
2018-06-28 17:40:56,660 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11223:QuorumPeer@991] - LEADING
2018-06-28 17:40:56,660 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11221:ZooKeeperServer@174] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test4190449652059992134.junit.dir/version-2 snapdir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test4190449652059992134.junit.dir/version-2
2018-06-28 17:40:56,661 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11223:ZooKeeperServer@174] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test2949965030984247311.junit.dir/version-2 snapdir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test2949965030984247311.junit.dir/version-2
2018-06-28 17:40:56,661 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11221:Follower@65] - FOLLOWING - LEADER ELECTION TOOK - 207
2018-06-28 17:40:56,661 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11223:Leader@380] - LEADING - LEADER ELECTION TOOK - 208
2018-06-28 17:40:56,661 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11221:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:40:56,662 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50807:LearnerHandler@346] - Follower sid: 1 : info : org.apache.zookeeper.server.quorum.QuorumPeer$QuorumServer@5c44e950
2018-06-28 17:40:56,664 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50807:LearnerHandler@401] - Synchronizing with Follower sid: 1 maxCommittedLog=0x1fffffffe minCommittedLog=0x100000001 peerLastZxid=0x1fffffffe
2018-06-28 17:40:56,664 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50807:LearnerHandler@410] - leader and follower are in sync, zxid=0x1fffffffe
2018-06-28 17:40:56,664 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50807:LearnerHandler@475] - Sending DIFF
2018-06-28 17:40:56,665 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11221:Learner@332] - Getting a diff from the leader 0x1fffffffe
2018-06-28 17:40:56,666 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50807:LearnerHandler@535] - Received NEWLEADER-ACK message from 1
2018-06-28 17:40:56,666 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11223:Leader@964] - Have quorum of supporters, sids: [ 1,2 ]; starting up and setting last processed zxid: 0x200000000
2018-06-28 17:40:56,667 [myid:] - INFO  [SessionTracker:SessionTrackerImpl@163] - SessionTrackerImpl exited loop!
2018-06-28 17:40:57,107 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11225:Leader@520] - Shutting down
2018-06-28 17:40:57,107 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11225:QuorumPeer@909] - LOOKING
2018-06-28 17:40:57,108 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11225:FastLeaderElection@813] - New election. My id =  3, proposed zxid=0x1fffffffe
2018-06-28 17:40:57,108 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 3 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:40:57,108 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 3 (n.sid), 0x1 (n.peerEpoch) FOLLOWING (my state)
2018-06-28 17:40:57,109 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 3 (n.sid), 0x1 (n.peerEpoch) LEADING (my state)
2018-06-28 17:40:57,109 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), FOLLOWING (n.state), 1 (n.sid), 0x2 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:40:57,109 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LEADING (n.state), 2 (n.sid), 0x2 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:40:57,109 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11225:QuorumPeer@979] - FOLLOWING
2018-06-28 17:40:57,109 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11225:ZooKeeperServer@174] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test7367276069359196348.junit.dir/version-2 snapdir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test7367276069359196348.junit.dir/version-2
2018-06-28 17:40:57,110 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11225:Follower@65] - FOLLOWING - LEADER ELECTION TOOK - 2
2018-06-28 17:40:57,110 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11225:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:40:57,111 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50808:LearnerHandler@346] - Follower sid: 3 : info : org.apache.zookeeper.server.quorum.QuorumPeer$QuorumServer@23a7b05f
2018-06-28 17:40:57,118 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50808:LearnerHandler@401] - Synchronizing with Follower sid: 3 maxCommittedLog=0x1fffffffe minCommittedLog=0x100000001 peerLastZxid=0x1fffffffe
2018-06-28 17:40:57,118 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50808:LearnerHandler@475] - Sending DIFF
2018-06-28 17:40:57,119 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11225:Learner@332] - Getting a diff from the leader 0x1fffffffe
2018-06-28 17:40:57,120 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50808:LearnerHandler@535] - Received NEWLEADER-ACK message from 3
2018-06-28 17:40:57,609 [myid:] - INFO  [main-SendThread(localhost:11223):ClientCnxn$SendThread@1029] - Opening socket connection to server localhost/127.0.0.1:11223. Will not attempt to authenticate using SASL (unknown error)
2018-06-28 17:40:57,609 [myid:] - INFO  [main-SendThread(localhost:11221):ClientCnxn$SendThread@1029] - Opening socket connection to server localhost/127.0.0.1:11221. Will not attempt to authenticate using SASL (unknown error)
2018-06-28 17:40:57,610 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11223:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:50809
2018-06-28 17:40:57,610 [myid:] - INFO  [main-SendThread(localhost:11223):ClientCnxn$SendThread@879] - Socket connection established to localhost/127.0.0.1:11223, initiating session
2018-06-28 17:40:57,610 [myid:] - INFO  [main-SendThread(localhost:11221):ClientCnxn$SendThread@879] - Socket connection established to localhost/127.0.0.1:11221, initiating session
2018-06-28 17:40:57,610 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11221:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:50810
2018-06-28 17:40:57,610 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11223:ZooKeeperServer@942] - Client attempting to renew session 0x200065469dd0000 at /127.0.0.1:50809
2018-06-28 17:40:57,610 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11221:ZooKeeperServer@942] - Client attempting to renew session 0x100065469dd0000 at /127.0.0.1:50810
2018-06-28 17:40:57,611 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11221:Learner@108] - Revalidating client: 0x100065469dd0000
2018-06-28 17:40:57,611 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11223:ZooKeeperServer@694] - Established session 0x200065469dd0000 with negotiated timeout 30000 for client /127.0.0.1:50809
2018-06-28 17:40:57,611 [myid:] - INFO  [main-SendThread(localhost:11223):ClientCnxn$SendThread@1303] - Session establishment complete on server localhost/127.0.0.1:11223, sessionid = 0x200065469dd0000, negotiated timeout = 30000
2018-06-28 17:40:57,611 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11221:ZooKeeperServer@694] - Established session 0x100065469dd0000 with negotiated timeout 30000 for client /127.0.0.1:50810
2018-06-28 17:40:57,612 [myid:] - INFO  [main-SendThread(localhost:11221):ClientCnxn$SendThread@1303] - Session establishment complete on server localhost/127.0.0.1:11221, sessionid = 0x100065469dd0000, negotiated timeout = 30000
2018-06-28 17:40:58,330 [myid:] - INFO  [main-SendThread(localhost:11225):ClientCnxn$SendThread@1029] - Opening socket connection to server localhost/127.0.0.1:11225. Will not attempt to authenticate using SASL (unknown error)
2018-06-28 17:40:58,330 [myid:] - INFO  [main-SendThread(localhost:11225):ClientCnxn$SendThread@879] - Socket connection established to localhost/127.0.0.1:11225, initiating session
2018-06-28 17:40:58,330 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11225:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:50811
2018-06-28 17:40:58,331 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11225:ZooKeeperServer@942] - Client attempting to renew session 0x300065469df0000 at /127.0.0.1:50811
2018-06-28 17:40:58,331 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11225:Learner@108] - Revalidating client: 0x300065469df0000
2018-06-28 17:40:58,332 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11225:ZooKeeperServer@694] - Established session 0x300065469df0000 with negotiated timeout 30000 for client /127.0.0.1:50811
2018-06-28 17:40:58,332 [myid:] - INFO  [main-SendThread(localhost:11225):ClientCnxn$SendThread@1303] - Session establishment complete on server localhost/127.0.0.1:11225, sessionid = 0x300065469df0000, negotiated timeout = 30000
2018-06-28 17:40:58,332 [myid:] - INFO  [main:ZxidRolloverTest@244] - Validating nodes 0 thru 2
2018-06-28 17:40:58,339 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:1fffffffd
2018-06-28 17:40:58,340 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:1fffffffe
2018-06-28 17:40:58,341 [myid:] - INFO  [main:ZxidRolloverTest@213] - tearDown starting
2018-06-28 17:40:58,341 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::PrepRequestProcessor@487] - Processed session termination for sessionid: 0x100065469dd0000
2018-06-28 17:40:58,342 [myid:] - INFO  [SyncThread:2:FileTxnLog@213] - Creating new log file: log.200000001
2018-06-28 17:40:58,342 [myid:] - WARN  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11221:Follower@119] - Got zxid 0x200000001 expected 0x1
2018-06-28 17:40:58,342 [myid:] - WARN  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11225:Follower@119] - Got zxid 0x200000001 expected 0x1
2018-06-28 17:40:58,342 [myid:] - INFO  [SyncThread:1:FileTxnLog@213] - Creating new log file: log.200000001
2018-06-28 17:40:58,342 [myid:] - INFO  [SyncThread:3:FileTxnLog@213] - Creating new log file: log.200000001
2018-06-28 17:40:58,347 [myid:] - INFO  [main:ZooKeeper@693] - Session: 0x100065469dd0000 closed
2018-06-28 17:40:58,347 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@522] - EventThread shut down for session: 0x100065469dd0000
2018-06-28 17:40:58,347 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11221:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:50810 which had sessionid 0x100065469dd0000
2018-06-28 17:40:58,348 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::PrepRequestProcessor@487] - Processed session termination for sessionid: 0x200065469dd0000
2018-06-28 17:40:58,349 [myid:] - INFO  [main:ZooKeeper@693] - Session: 0x200065469dd0000 closed
2018-06-28 17:40:58,349 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@522] - EventThread shut down for session: 0x200065469dd0000
2018-06-28 17:40:58,349 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11223:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:50809 which had sessionid 0x200065469dd0000
2018-06-28 17:40:58,349 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::PrepRequestProcessor@487] - Processed session termination for sessionid: 0x300065469df0000
2018-06-28 17:40:58,350 [myid:] - INFO  [main:ZooKeeper@693] - Session: 0x300065469df0000 closed
2018-06-28 17:40:58,350 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@522] - EventThread shut down for session: 0x300065469df0000
2018-06-28 17:40:58,350 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11225:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:50811 which had sessionid 0x300065469df0000
2018-06-28 17:40:58,350 [myid:] - INFO  [main:QuorumUtil@227] - Shutting down quorum peer QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11221
2018-06-28 17:40:58,350 [myid:] - INFO  [main:Follower@169] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:169)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1026)
	at org.apache.zookeeper.test.QuorumUtil.shutdown(QuorumUtil.java:228)
	at org.apache.zookeeper.test.QuorumUtil.shutdownAll(QuorumUtil.java:215)
	at org.apache.zookeeper.server.ZxidRolloverTest.tearDown(ZxidRolloverTest.java:217)
	at junit.framework.TestCase.runBare(TestCase.java:146)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:536)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1205)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1048)
2018-06-28 17:40:58,351 [myid:] - INFO  [main:FollowerZooKeeperServer@140] - Shutting down
2018-06-28 17:40:58,351 [myid:] - INFO  [main:ZooKeeperServer@502] - shutting down
2018-06-28 17:40:58,351 [myid:] - INFO  [main:FollowerRequestProcessor@107] - Shutting down
2018-06-28 17:40:58,351 [myid:] - INFO  [main:CommitProcessor@184] - Shutting down
2018-06-28 17:40:58,351 [myid:] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@97] - FollowerRequestProcessor exited loop!
2018-06-28 17:40:58,351 [myid:] - INFO  [CommitProcessor:1:CommitProcessor@153] - CommitProcessor exited loop!
2018-06-28 17:40:58,351 [myid:] - INFO  [main:FinalRequestProcessor@403] - shutdown of request processor complete
2018-06-28 17:40:58,352 [myid:] - INFO  [main:SyncRequestProcessor@208] - Shutting down
2018-06-28 17:40:58,352 [myid:] - INFO  [SyncThread:1:SyncRequestProcessor@186] - SyncRequestProcessor exited!
2018-06-28 17:40:58,353 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11221:NIOServerCnxnFactory@242] - NIOServerCnxn factory exited run method
2018-06-28 17:40:58,353 [myid:] - ERROR [/127.0.0.1:12222:QuorumCnxManager$Listener@760] - Exception while listening
java.net.SocketException: Socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:409)
	at java.net.ServerSocket.implAccept(ServerSocket.java:545)
	at java.net.ServerSocket.accept(ServerSocket.java:513)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$Listener.run(QuorumCnxManager.java:741)
2018-06-28 17:40:58,353 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@941] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:418)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1094)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$700(QuorumCnxManager.java:74)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:929)
2018-06-28 17:40:58,354 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@951] - Send worker leaving thread
2018-06-28 17:40:58,353 [myid:] - INFO  [main:QuorumUtil@231] - Shutting down leader election QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11221
2018-06-28 17:40:58,353 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1025] - Connection broken for id 3, my id = 1, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1010)
2018-06-28 17:40:58,354 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1028] - Interrupting SendWorker
2018-06-28 17:40:58,353 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@941] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:418)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1094)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$700(QuorumCnxManager.java:74)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:929)
2018-06-28 17:40:58,354 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@951] - Send worker leaving thread
2018-06-28 17:40:58,353 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1025] - Connection broken for id 1, my id = 3, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1010)
2018-06-28 17:40:58,354 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1028] - Interrupting SendWorker
2018-06-28 17:40:58,353 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1025] - Connection broken for id 2, my id = 1, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1010)
2018-06-28 17:40:58,355 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1028] - Interrupting SendWorker
2018-06-28 17:40:58,353 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1025] - Connection broken for id 1, my id = 2, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1010)
2018-06-28 17:40:58,355 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1028] - Interrupting SendWorker
2018-06-28 17:40:58,354 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@941] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:418)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1094)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$700(QuorumCnxManager.java:74)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:929)
2018-06-28 17:40:58,355 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@951] - Send worker leaving thread
2018-06-28 17:40:58,354 [myid:] - INFO  [main:QuorumUtil@236] - Waiting for QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11221 to exit thread
2018-06-28 17:40:58,355 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@941] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:418)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1094)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$700(QuorumCnxManager.java:74)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:929)
2018-06-28 17:40:58,355 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@951] - Send worker leaving thread
2018-06-28 17:40:58,669 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11221:Follower@169] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:169)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:985)
2018-06-28 17:40:58,669 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11221:FollowerZooKeeperServer@140] - Shutting down
2018-06-28 17:40:58,670 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11221:SyncRequestProcessor@208] - Shutting down
2018-06-28 17:40:58,670 [myid:] - WARN  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11221:QuorumPeer@1009] - QuorumPeer main thread exited
2018-06-28 17:40:58,671 [myid:] - INFO  [main:QuorumUtil@227] - Shutting down quorum peer QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11223
2018-06-28 17:40:58,671 [myid:] - INFO  [main:Leader@520] - Shutting down
2018-06-28 17:40:58,671 [myid:] - INFO  [main:Leader@526] - Shutdown called
java.lang.Exception: shutdown Leader! reason: quorum Peer shutdown
	at org.apache.zookeeper.server.quorum.Leader.shutdown(Leader.java:526)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1023)
	at org.apache.zookeeper.test.QuorumUtil.shutdown(QuorumUtil.java:228)
	at org.apache.zookeeper.test.QuorumUtil.shutdownAll(QuorumUtil.java:215)
	at org.apache.zookeeper.server.ZxidRolloverTest.tearDown(ZxidRolloverTest.java:217)
	at junit.framework.TestCase.runBare(TestCase.java:146)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:536)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1205)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1048)
2018-06-28 17:40:58,671 [myid:] - INFO  [main:ZooKeeperServer@502] - shutting down
2018-06-28 17:40:58,672 [myid:] - INFO  [main:SessionTrackerImpl@226] - Shutting down
2018-06-28 17:40:58,672 [myid:] - INFO  [LearnerCnxAcceptor-/127.0.0.1:12223:Leader$LearnerCnxAcceptor@340] - exception while shutting down acceptor: java.net.SocketException: Socket closed
2018-06-28 17:40:58,672 [myid:] - INFO  [main:PrepRequestProcessor@769] - Shutting down
2018-06-28 17:40:58,672 [myid:] - INFO  [main:ProposalRequestProcessor@88] - Shutting down
2018-06-28 17:40:58,672 [myid:] - INFO  [main:CommitProcessor@184] - Shutting down
2018-06-28 17:40:58,672 [myid:] - INFO  [main:Leader$ToBeAppliedRequestProcessor@685] - Shutting down
2018-06-28 17:40:58,672 [myid:] - INFO  [main:FinalRequestProcessor@403] - shutdown of request processor complete
2018-06-28 17:40:58,672 [myid:] - INFO  [main:SyncRequestProcessor@208] - Shutting down
2018-06-28 17:40:58,672 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::PrepRequestProcessor@144] - PrepRequestProcessor exited loop!
2018-06-28 17:40:58,673 [myid:] - INFO  [SyncThread:2:SyncRequestProcessor@186] - SyncRequestProcessor exited!
2018-06-28 17:40:58,672 [myid:] - INFO  [CommitProcessor:2:CommitProcessor@153] - CommitProcessor exited loop!
2018-06-28 17:40:58,673 [myid:] - WARN  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11225:Follower@90] - Exception when following the leader
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:63)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:99)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:153)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:86)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:981)
2018-06-28 17:40:58,674 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11223:NIOServerCnxnFactory@242] - NIOServerCnxn factory exited run method
2018-06-28 17:40:58,674 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11225:Follower@169] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:169)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:985)
2018-06-28 17:40:58,674 [myid:] - WARN  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11223:QuorumPeer@997] - Unexpected exception
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at org.apache.zookeeper.server.quorum.Leader.lead(Leader.java:474)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:994)
2018-06-28 17:40:58,674 [myid:] - INFO  [main:QuorumUtil@231] - Shutting down leader election QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11223
2018-06-28 17:40:58,674 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1025] - Connection broken for id 3, my id = 2, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1010)
2018-06-28 17:40:58,674 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1028] - Interrupting SendWorker
2018-06-28 17:40:58,674 [myid:] - WARN  [LearnerHandler-/127.0.0.1:50807:LearnerHandler@661] - ******* GOODBYE /127.0.0.1:50807 ********
2018-06-28 17:40:58,673 [myid:] - WARN  [LearnerHandler-/127.0.0.1:50808:LearnerHandler@661] - ******* GOODBYE /127.0.0.1:50808 ********
2018-06-28 17:40:58,674 [myid:] - WARN  [LearnerHandler-/127.0.0.1:50807:LearnerHandler@673] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1220)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:335)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:339)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:671)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:664)
2018-06-28 17:40:58,674 [myid:] - INFO  [main:QuorumUtil@236] - Waiting for QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11223 to exit thread
2018-06-28 17:40:58,674 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11223:Leader@520] - Shutting down
2018-06-28 17:40:58,675 [myid:] - WARN  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11223:QuorumPeer@1009] - QuorumPeer main thread exited
2018-06-28 17:40:58,674 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1025] - Connection broken for id 2, my id = 3, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1010)
2018-06-28 17:40:58,675 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1028] - Interrupting SendWorker
2018-06-28 17:40:58,674 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@941] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:418)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1094)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$700(QuorumCnxManager.java:74)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:929)
2018-06-28 17:40:58,675 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@951] - Send worker leaving thread
2018-06-28 17:40:58,674 [myid:] - ERROR [/127.0.0.1:12224:QuorumCnxManager$Listener@760] - Exception while listening
java.net.SocketException: Socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:409)
	at java.net.ServerSocket.implAccept(ServerSocket.java:545)
	at java.net.ServerSocket.accept(ServerSocket.java:513)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$Listener.run(QuorumCnxManager.java:741)
2018-06-28 17:40:58,674 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11225:FollowerZooKeeperServer@140] - Shutting down
2018-06-28 17:40:58,676 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11225:ZooKeeperServer@502] - shutting down
2018-06-28 17:40:58,675 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@941] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:418)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1094)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$700(QuorumCnxManager.java:74)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:929)
2018-06-28 17:40:58,675 [myid:] - INFO  [main:QuorumUtil@227] - Shutting down quorum peer QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11225
2018-06-28 17:40:58,674 [myid:] - WARN  [LearnerHandler-/127.0.0.1:50808:LearnerHandler@673] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1220)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:335)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:339)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:671)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:664)
2018-06-28 17:40:58,676 [myid:] - INFO  [main:Follower@169] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:169)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1026)
	at org.apache.zookeeper.test.QuorumUtil.shutdown(QuorumUtil.java:228)
	at org.apache.zookeeper.test.QuorumUtil.shutdownAll(QuorumUtil.java:215)
	at org.apache.zookeeper.server.ZxidRolloverTest.tearDown(ZxidRolloverTest.java:217)
	at junit.framework.TestCase.runBare(TestCase.java:146)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:536)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1205)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1048)
2018-06-28 17:40:58,676 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@951] - Send worker leaving thread
2018-06-28 17:40:58,676 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11225:FollowerRequestProcessor@107] - Shutting down
2018-06-28 17:40:58,676 [myid:] - INFO  [main:FollowerZooKeeperServer@140] - Shutting down
2018-06-28 17:40:58,677 [myid:] - INFO  [FollowerRequestProcessor:3:FollowerRequestProcessor@97] - FollowerRequestProcessor exited loop!
2018-06-28 17:40:58,677 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11225:CommitProcessor@184] - Shutting down
2018-06-28 17:40:58,677 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11225:FinalRequestProcessor@403] - shutdown of request processor complete
2018-06-28 17:40:58,677 [myid:] - INFO  [CommitProcessor:3:CommitProcessor@153] - CommitProcessor exited loop!
2018-06-28 17:40:58,677 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11225:SyncRequestProcessor@208] - Shutting down
2018-06-28 17:40:58,677 [myid:] - INFO  [main:SyncRequestProcessor@208] - Shutting down
2018-06-28 17:40:58,677 [myid:] - INFO  [SyncThread:3:SyncRequestProcessor@186] - SyncRequestProcessor exited!
2018-06-28 17:40:58,678 [myid:] - WARN  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11225:QuorumPeer@1009] - QuorumPeer main thread exited
2018-06-28 17:40:58,678 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11225:NIOServerCnxnFactory@242] - NIOServerCnxn factory exited run method
2018-06-28 17:40:58,678 [myid:] - INFO  [main:QuorumUtil@231] - Shutting down leader election QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11225
2018-06-28 17:40:58,678 [myid:] - ERROR [/127.0.0.1:12226:QuorumCnxManager$Listener@760] - Exception while listening
java.net.SocketException: Socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:409)
	at java.net.ServerSocket.implAccept(ServerSocket.java:545)
	at java.net.ServerSocket.accept(ServerSocket.java:513)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$Listener.run(QuorumCnxManager.java:741)
2018-06-28 17:40:58,678 [myid:] - INFO  [main:QuorumUtil@236] - Waiting for QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11225 to exit thread
2018-06-28 17:40:58,678 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11221
2018-06-28 17:40:58,679 [myid:] - INFO  [main:QuorumUtil@220] - 127.0.0.1:11221 is no longer accepting client connections
2018-06-28 17:40:58,679 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11223
2018-06-28 17:40:58,679 [myid:] - INFO  [main:QuorumUtil@220] - 127.0.0.1:11223 is no longer accepting client connections
2018-06-28 17:40:58,679 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11225
2018-06-28 17:40:58,680 [myid:] - INFO  [main:QuorumUtil@220] - 127.0.0.1:11225 is no longer accepting client connections
2018-06-28 17:40:58,683 [myid:] - INFO  [main:ZxidRolloverTest@57] - STARTING testRolloverThenLeaderRestart
2018-06-28 17:40:58,690 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11227
2018-06-28 17:40:58,690 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11228
2018-06-28 17:40:58,690 [myid:] - INFO  [main:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:40:58,690 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11229
2018-06-28 17:40:58,690 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11230
2018-06-28 17:40:58,690 [myid:] - INFO  [main:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:40:58,691 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11231
2018-06-28 17:40:58,691 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11232
2018-06-28 17:40:58,691 [myid:] - INFO  [main:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:40:58,691 [myid:] - INFO  [main:QuorumUtil@110] - Creating QuorumPeer 1; public port 11227
2018-06-28 17:40:58,691 [myid:] - INFO  [main:ServerCnxnFactory@117] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2018-06-28 17:40:58,691 [myid:] - INFO  [main:NIOServerCnxnFactory@89] - binding to port 0.0.0.0/0.0.0.0:11227
2018-06-28 17:40:58,692 [myid:] - INFO  [main:QuorumUtil@110] - Creating QuorumPeer 2; public port 11229
2018-06-28 17:40:58,692 [myid:] - INFO  [main:ServerCnxnFactory@117] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2018-06-28 17:40:58,692 [myid:] - INFO  [main:NIOServerCnxnFactory@89] - binding to port 0.0.0.0/0.0.0.0:11229
2018-06-28 17:40:58,692 [myid:] - INFO  [main:QuorumUtil@110] - Creating QuorumPeer 3; public port 11231
2018-06-28 17:40:58,692 [myid:] - INFO  [main:ServerCnxnFactory@117] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2018-06-28 17:40:58,693 [myid:] - INFO  [main:NIOServerCnxnFactory@89] - binding to port 0.0.0.0/0.0.0.0:11231
2018-06-28 17:40:58,693 [myid:] - INFO  [main:QuorumUtil@227] - Shutting down quorum peer QuorumPeer
2018-06-28 17:40:58,693 [myid:] - INFO  [main:QuorumUtil@234] - No election available to shutdown QuorumPeer
2018-06-28 17:40:58,693 [myid:] - INFO  [main:QuorumUtil@236] - Waiting for QuorumPeer to exit thread
2018-06-28 17:40:58,693 [myid:] - INFO  [main:QuorumUtil@227] - Shutting down quorum peer QuorumPeer
2018-06-28 17:40:58,693 [myid:] - INFO  [main:QuorumUtil@234] - No election available to shutdown QuorumPeer
2018-06-28 17:40:58,693 [myid:] - INFO  [main:QuorumUtil@236] - Waiting for QuorumPeer to exit thread
2018-06-28 17:40:58,693 [myid:] - INFO  [main:QuorumUtil@227] - Shutting down quorum peer QuorumPeer
2018-06-28 17:40:58,693 [myid:] - INFO  [main:QuorumUtil@234] - No election available to shutdown QuorumPeer
2018-06-28 17:40:58,693 [myid:] - INFO  [main:QuorumUtil@236] - Waiting for QuorumPeer to exit thread
2018-06-28 17:40:58,694 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11227
2018-06-28 17:40:58,694 [myid:] - INFO  [main:QuorumUtil@220] - 127.0.0.1:11227 is no longer accepting client connections
2018-06-28 17:40:58,694 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11229
2018-06-28 17:40:58,694 [myid:] - INFO  [main:QuorumUtil@220] - 127.0.0.1:11229 is no longer accepting client connections
2018-06-28 17:40:58,694 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11231
2018-06-28 17:40:58,694 [myid:] - INFO  [main:QuorumUtil@220] - 127.0.0.1:11231 is no longer accepting client connections
2018-06-28 17:40:58,695 [myid:] - INFO  [main:QuorumUtil@186] - Creating QuorumPeer 1; public port 11227
2018-06-28 17:40:58,695 [myid:] - INFO  [main:ServerCnxnFactory@117] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2018-06-28 17:40:58,695 [myid:] - INFO  [main:NIOServerCnxnFactory@89] - binding to port 0.0.0.0/0.0.0.0:11227
2018-06-28 17:40:58,695 [myid:] - INFO  [main:QuorumPeer@668] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2018-06-28 17:40:58,696 [myid:] - INFO  [main:QuorumPeer@683] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2018-06-28 17:40:58,697 [myid:] - INFO  [ListenerThread:QuorumCnxManager$Listener@736] - My election bind port: /127.0.0.1:12228
2018-06-28 17:40:58,697 [myid:] - INFO  [main:QuorumUtil@132] - Started QuorumPeer 1
2018-06-28 17:40:58,697 [myid:] - INFO  [main:QuorumUtil@186] - Creating QuorumPeer 2; public port 11229
2018-06-28 17:40:58,697 [myid:] - INFO  [main:ServerCnxnFactory@117] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2018-06-28 17:40:58,697 [myid:] - INFO  [main:NIOServerCnxnFactory@89] - binding to port 0.0.0.0/0.0.0.0:11229
2018-06-28 17:40:58,698 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11227:QuorumPeer@909] - LOOKING
2018-06-28 17:40:58,698 [myid:] - INFO  [main:QuorumPeer@668] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2018-06-28 17:40:58,698 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11227:FastLeaderElection@813] - New election. My id =  1, proposed zxid=0x0
2018-06-28 17:40:58,699 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:40:58,699 [myid:] - INFO  [main:QuorumPeer@683] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2018-06-28 17:40:58,699 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@584] - Cannot open channel to 2 at election address /127.0.0.1:12230
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:558)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:534)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:454)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:435)
	at java.lang.Thread.run(Thread.java:748)
2018-06-28 17:40:58,699 [myid:] - INFO  [WorkerSender[myid=1]:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:40:58,700 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@584] - Cannot open channel to 3 at election address /127.0.0.1:12232
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:558)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:534)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:454)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:435)
	at java.lang.Thread.run(Thread.java:748)
2018-06-28 17:40:58,700 [myid:] - INFO  [WorkerSender[myid=1]:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:40:58,700 [myid:] - INFO  [ListenerThread:QuorumCnxManager$Listener@736] - My election bind port: /127.0.0.1:12230
2018-06-28 17:40:58,700 [myid:] - INFO  [main:QuorumUtil@132] - Started QuorumPeer 2
2018-06-28 17:40:58,701 [myid:] - INFO  [main:QuorumUtil@186] - Creating QuorumPeer 3; public port 11231
2018-06-28 17:40:58,701 [myid:] - INFO  [main:ServerCnxnFactory@117] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2018-06-28 17:40:58,701 [myid:] - INFO  [main:NIOServerCnxnFactory@89] - binding to port 0.0.0.0/0.0.0.0:11231
2018-06-28 17:40:58,701 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11229:QuorumPeer@909] - LOOKING
2018-06-28 17:40:58,701 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11229:FastLeaderElection@813] - New election. My id =  2, proposed zxid=0x0
2018-06-28 17:40:58,702 [myid:] - INFO  [main:QuorumPeer@668] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2018-06-28 17:40:58,702 [myid:] - INFO  [/127.0.0.1:12228:QuorumCnxManager$Listener@743] - Received connection request /127.0.0.1:50820
2018-06-28 17:40:58,702 [myid:] - INFO  [main:QuorumPeer@683] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2018-06-28 17:40:58,703 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:40:58,703 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:40:58,703 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:40:58,703 [myid:] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@584] - Cannot open channel to 3 at election address /127.0.0.1:12232
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:558)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:534)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:454)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:435)
	at java.lang.Thread.run(Thread.java:748)
2018-06-28 17:40:58,703 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:40:58,703 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:40:58,703 [myid:] - INFO  [WorkerSender[myid=2]:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:40:58,703 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@584] - Cannot open channel to 3 at election address /127.0.0.1:12232
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:558)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:534)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:454)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:435)
	at java.lang.Thread.run(Thread.java:748)
2018-06-28 17:40:58,704 [myid:] - INFO  [ListenerThread:QuorumCnxManager$Listener@736] - My election bind port: /127.0.0.1:12232
2018-06-28 17:40:58,704 [myid:] - INFO  [WorkerSender[myid=1]:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:40:58,704 [myid:] - INFO  [main:QuorumUtil@132] - Started QuorumPeer 3
2018-06-28 17:40:58,704 [myid:] - INFO  [main:QuorumUtil@135] - Checking ports 127.0.0.1:11227,127.0.0.1:11229,127.0.0.1:11231
2018-06-28 17:40:58,704 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11227
2018-06-28 17:40:58,705 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11227:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:50823
2018-06-28 17:40:58,705 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11231:QuorumPeer@909] - LOOKING
2018-06-28 17:40:58,705 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11227:NIOServerCnxn@908] - Processing stat command from /127.0.0.1:50823
2018-06-28 17:40:58,705 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11231:FastLeaderElection@813] - New election. My id =  3, proposed zxid=0x0
2018-06-28 17:40:58,705 [myid:] - INFO  [Thread-12:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:50823 (no session established for client)
2018-06-28 17:40:58,705 [myid:] - INFO  [/127.0.0.1:12228:QuorumCnxManager$Listener@743] - Received connection request /127.0.0.1:50824
2018-06-28 17:40:58,706 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:40:58,706 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:40:58,706 [myid:] - INFO  [/127.0.0.1:12230:QuorumCnxManager$Listener@743] - Received connection request /127.0.0.1:50825
2018-06-28 17:40:58,706 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:40:58,706 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:40:58,707 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:40:58,707 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:40:58,707 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:40:58,707 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:40:58,707 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:40:58,707 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:40:58,707 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:40:58,912 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11231:QuorumPeer@991] - LEADING
2018-06-28 17:40:58,913 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11231:ZooKeeperServer@174] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test4412993038255892531.junit.dir/version-2 snapdir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test4412993038255892531.junit.dir/version-2
2018-06-28 17:40:58,913 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11227:QuorumPeer@979] - FOLLOWING
2018-06-28 17:40:58,913 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11227:ZooKeeperServer@174] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test4356115805978574605.junit.dir/version-2 snapdir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test4356115805978574605.junit.dir/version-2
2018-06-28 17:40:58,913 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11229:QuorumPeer@979] - FOLLOWING
2018-06-28 17:40:58,913 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11227:Follower@65] - FOLLOWING - LEADER ELECTION TOOK - 215
2018-06-28 17:40:58,913 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11231:Leader@380] - LEADING - LEADER ELECTION TOOK - 208
2018-06-28 17:40:58,913 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11229:ZooKeeperServer@174] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test1216897967743754487.junit.dir/version-2 snapdir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test1216897967743754487.junit.dir/version-2
2018-06-28 17:40:58,913 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11229:Follower@65] - FOLLOWING - LEADER ELECTION TOOK - 212
2018-06-28 17:40:58,913 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11227:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:40:58,914 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11229:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:40:58,914 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50826:LearnerHandler@346] - Follower sid: 1 : info : org.apache.zookeeper.server.quorum.QuorumPeer$QuorumServer@68019971
2018-06-28 17:40:58,915 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50827:LearnerHandler@346] - Follower sid: 2 : info : org.apache.zookeeper.server.quorum.QuorumPeer$QuorumServer@3f161a9e
2018-06-28 17:40:58,917 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50826:LearnerHandler@401] - Synchronizing with Follower sid: 1 maxCommittedLog=0x0 minCommittedLog=0x0 peerLastZxid=0x0
2018-06-28 17:40:58,917 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50827:LearnerHandler@401] - Synchronizing with Follower sid: 2 maxCommittedLog=0x0 minCommittedLog=0x0 peerLastZxid=0x0
2018-06-28 17:40:58,917 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50826:LearnerHandler@410] - leader and follower are in sync, zxid=0x0
2018-06-28 17:40:58,917 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50826:LearnerHandler@475] - Sending DIFF
2018-06-28 17:40:58,917 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50827:LearnerHandler@410] - leader and follower are in sync, zxid=0x0
2018-06-28 17:40:58,917 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50827:LearnerHandler@475] - Sending DIFF
2018-06-28 17:40:58,917 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11227:Learner@332] - Getting a diff from the leader 0x0
2018-06-28 17:40:58,917 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11229:Learner@332] - Getting a diff from the leader 0x0
2018-06-28 17:40:58,919 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50826:LearnerHandler@535] - Received NEWLEADER-ACK message from 1
2018-06-28 17:40:58,919 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50827:LearnerHandler@535] - Received NEWLEADER-ACK message from 2
2018-06-28 17:40:58,919 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11231:Leader@964] - Have quorum of supporters, sids: [ 1,3 ]; starting up and setting last processed zxid: 0x100000000
2018-06-28 17:40:58,961 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11227
2018-06-28 17:40:58,962 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11227:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:50828
2018-06-28 17:40:58,962 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11227:NIOServerCnxn@908] - Processing stat command from /127.0.0.1:50828
2018-06-28 17:40:58,962 [myid:] - INFO  [Thread-15:NIOServerCnxn$StatCommand@687] - Stat command output
2018-06-28 17:40:58,963 [myid:] - INFO  [Thread-15:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:50828 (no session established for client)
2018-06-28 17:40:58,963 [myid:] - INFO  [main:QuorumUtil@139] - 127.0.0.1:11227 is accepting client connections
2018-06-28 17:40:58,963 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11229
2018-06-28 17:40:58,963 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11229:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:50829
2018-06-28 17:40:58,964 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11229:NIOServerCnxn@908] - Processing stat command from /127.0.0.1:50829
2018-06-28 17:40:58,964 [myid:] - INFO  [Thread-16:NIOServerCnxn$StatCommand@687] - Stat command output
2018-06-28 17:40:58,964 [myid:] - INFO  [Thread-16:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:50829 (no session established for client)
2018-06-28 17:40:58,965 [myid:] - INFO  [main:QuorumUtil@139] - 127.0.0.1:11229 is accepting client connections
2018-06-28 17:40:58,965 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11231
2018-06-28 17:40:58,965 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11231:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:50830
2018-06-28 17:40:58,965 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11231:NIOServerCnxn@908] - Processing stat command from /127.0.0.1:50830
2018-06-28 17:40:58,966 [myid:] - INFO  [Thread-17:NIOServerCnxn$StatCommand@687] - Stat command output
2018-06-28 17:40:58,966 [myid:] - INFO  [Thread-17:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:50830 (no session established for client)
2018-06-28 17:40:58,966 [myid:] - INFO  [main:QuorumUtil@139] - 127.0.0.1:11231 is accepting client connections
2018-06-28 17:40:58,967 [myid:] - INFO  [main:JMXEnv@199] - JMXEnv.dump() follows
2018-06-28 17:40:58,969 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.2
2018-06-28 17:40:58,969 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1
2018-06-28 17:40:58,969 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree
2018-06-28 17:40:58,969 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.3
2018-06-28 17:40:58,969 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.3
2018-06-28 17:40:58,969 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1
2018-06-28 17:40:58,970 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2
2018-06-28 17:40:58,970 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2
2018-06-28 17:40:58,970 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.1
2018-06-28 17:40:58,970 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3
2018-06-28 17:40:58,970 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower,name3=InMemoryDataTree
2018-06-28 17:40:58,970 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader
2018-06-28 17:40:58,970 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.2
2018-06-28 17:40:58,970 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.1
2018-06-28 17:40:58,970 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3
2018-06-28 17:40:58,970 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader,name3=InMemoryDataTree
2018-06-28 17:40:58,970 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower
2018-06-28 17:40:58,970 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower
2018-06-28 17:40:58,973 [myid:] - INFO  [main:JMXEnv@118] - expect:InMemoryDataTree
2018-06-28 17:40:58,973 [myid:] - INFO  [main:JMXEnv@121] - found:InMemoryDataTree org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree
2018-06-28 17:40:58,973 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id1,name1=replica.1,name2=
2018-06-28 17:40:58,973 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id1,name1=replica.1,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower
2018-06-28 17:40:58,973 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id2,name1=replica.2,name2=
2018-06-28 17:40:58,973 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id2,name1=replica.2,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower,name3=InMemoryDataTree
2018-06-28 17:40:58,973 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id3,name1=replica.3,name2=
2018-06-28 17:40:58,973 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id3,name1=replica.3,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader
2018-06-28 17:40:58,973 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id1,name1=replica.1
2018-06-28 17:40:58,973 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id1,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1
2018-06-28 17:40:58,973 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id1,name1=replica.2
2018-06-28 17:40:58,974 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id1,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.2
2018-06-28 17:40:58,974 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id1,name1=replica.3
2018-06-28 17:40:58,974 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id1,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.3
2018-06-28 17:40:58,974 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id2,name1=replica.1
2018-06-28 17:40:58,974 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id2,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.1
2018-06-28 17:40:58,974 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id2,name1=replica.2
2018-06-28 17:40:58,974 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id2,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2
2018-06-28 17:40:58,974 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id2,name1=replica.3
2018-06-28 17:40:58,974 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id2,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.3
2018-06-28 17:40:58,974 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id3,name1=replica.1
2018-06-28 17:40:58,974 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id3,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.1
2018-06-28 17:40:58,974 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id3,name1=replica.2
2018-06-28 17:40:58,974 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id3,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.2
2018-06-28 17:40:58,974 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id3,name1=replica.3
2018-06-28 17:40:58,975 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id3,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3
2018-06-28 17:40:58,975 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id1
2018-06-28 17:40:58,975 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id1 org.apache.ZooKeeperService:name0=ReplicatedServer_id1
2018-06-28 17:40:58,975 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id2
2018-06-28 17:40:58,975 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id2 org.apache.ZooKeeperService:name0=ReplicatedServer_id2
2018-06-28 17:40:58,975 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id3
2018-06-28 17:40:58,975 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id3 org.apache.ZooKeeperService:name0=ReplicatedServer_id3
2018-06-28 17:40:58,975 [myid:] - INFO  [main:ZooKeeper@442] - Initiating client connection, connectString=127.0.0.1:11227 sessionTimeout=30000 watcher=org.apache.zookeeper.test.ClientBase$CountdownWatcher@2669b199
2018-06-28 17:40:58,976 [myid:] - INFO  [main:ZooKeeper@442] - Initiating client connection, connectString=127.0.0.1:11229 sessionTimeout=30000 watcher=org.apache.zookeeper.test.ClientBase$CountdownWatcher@2344fc66
2018-06-28 17:40:58,976 [myid:] - INFO  [main:ZooKeeper@442] - Initiating client connection, connectString=127.0.0.1:11231 sessionTimeout=30000 watcher=org.apache.zookeeper.test.ClientBase$CountdownWatcher@458ad742
2018-06-28 17:40:58,976 [myid:] - INFO  [main-SendThread(localhost:11227):ClientCnxn$SendThread@1029] - Opening socket connection to server localhost/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
2018-06-28 17:40:58,976 [myid:] - INFO  [main-SendThread(localhost:11229):ClientCnxn$SendThread@1029] - Opening socket connection to server localhost/127.0.0.1:11229. Will not attempt to authenticate using SASL (unknown error)
2018-06-28 17:40:58,977 [myid:] - INFO  [main-SendThread(localhost:11229):ClientCnxn$SendThread@879] - Socket connection established to localhost/127.0.0.1:11229, initiating session
2018-06-28 17:40:58,977 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11227:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:50831
2018-06-28 17:40:58,977 [myid:] - INFO  [main-SendThread(localhost:11227):ClientCnxn$SendThread@879] - Socket connection established to localhost/127.0.0.1:11227, initiating session
2018-06-28 17:40:58,977 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11229:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:50832
2018-06-28 17:40:58,977 [myid:] - INFO  [main-SendThread(localhost:11231):ClientCnxn$SendThread@1029] - Opening socket connection to server localhost/127.0.0.1:11231. Will not attempt to authenticate using SASL (unknown error)
2018-06-28 17:40:58,978 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11227:ZooKeeperServer@949] - Client attempting to establish new session at /127.0.0.1:50831
2018-06-28 17:40:58,978 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11229:ZooKeeperServer@949] - Client attempting to establish new session at /127.0.0.1:50832
2018-06-28 17:40:58,978 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11231:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:50833
2018-06-28 17:40:58,978 [myid:] - INFO  [main-SendThread(localhost:11231):ClientCnxn$SendThread@879] - Socket connection established to localhost/127.0.0.1:11231, initiating session
2018-06-28 17:40:58,978 [myid:] - INFO  [SyncThread:3:FileTxnLog@213] - Creating new log file: log.100000001
2018-06-28 17:40:58,978 [myid:] - WARN  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11227:Follower@119] - Got zxid 0x100000001 expected 0x1
2018-06-28 17:40:58,978 [myid:] - WARN  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11229:Follower@119] - Got zxid 0x100000001 expected 0x1
2018-06-28 17:40:58,978 [myid:] - INFO  [SyncThread:1:FileTxnLog@213] - Creating new log file: log.100000001
2018-06-28 17:40:58,978 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11231:ZooKeeperServer@949] - Client attempting to establish new session at /127.0.0.1:50833
2018-06-28 17:40:58,978 [myid:] - INFO  [SyncThread:2:FileTxnLog@213] - Creating new log file: log.100000001
2018-06-28 17:40:58,980 [myid:] - INFO  [CommitProcessor:2:ZooKeeperServer@694] - Established session 0x200065474ec0000 with negotiated timeout 30000 for client /127.0.0.1:50832
2018-06-28 17:40:58,980 [myid:] - INFO  [CommitProcessor:1:ZooKeeperServer@694] - Established session 0x100065474ec0000 with negotiated timeout 30000 for client /127.0.0.1:50831
2018-06-28 17:40:58,980 [myid:] - INFO  [main-SendThread(localhost:11227):ClientCnxn$SendThread@1303] - Session establishment complete on server localhost/127.0.0.1:11227, sessionid = 0x100065474ec0000, negotiated timeout = 30000
2018-06-28 17:40:58,980 [myid:] - INFO  [main-SendThread(localhost:11229):ClientCnxn$SendThread@1303] - Session establishment complete on server localhost/127.0.0.1:11229, sessionid = 0x200065474ec0000, negotiated timeout = 30000
2018-06-28 17:40:58,980 [myid:] - INFO  [CommitProcessor:3:ZooKeeperServer@694] - Established session 0x300065474ee0000 with negotiated timeout 30000 for client /127.0.0.1:50833
2018-06-28 17:40:58,980 [myid:] - INFO  [main-SendThread(localhost:11231):ClientCnxn$SendThread@1303] - Session establishment complete on server localhost/127.0.0.1:11231, sessionid = 0x300065474ee0000, negotiated timeout = 30000
2018-06-28 17:40:58,980 [myid:] - INFO  [main:ZxidRolloverTest@225] - Creating nodes 0 thru 10
2018-06-28 17:40:58,982 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@301] - Snapshotting: 0x100000004 to /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test4412993038255892531.junit.dir/version-2/snapshot.100000004
2018-06-28 17:40:58,982 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@301] - Snapshotting: 0x100000004 to /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test4356115805978574605.junit.dir/version-2/snapshot.100000004
2018-06-28 17:40:58,983 [myid:] - INFO  [SyncThread:3:FileTxnLog@213] - Creating new log file: log.100000006
2018-06-28 17:40:58,983 [myid:] - INFO  [SyncThread:1:FileTxnLog@213] - Creating new log file: log.100000006
2018-06-28 17:40:58,984 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@301] - Snapshotting: 0x100000005 to /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test1216897967743754487.junit.dir/version-2/snapshot.100000005
2018-06-28 17:40:58,985 [myid:] - INFO  [SyncThread:2:FileTxnLog@213] - Creating new log file: log.100000007
2018-06-28 17:40:58,988 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@301] - Snapshotting: 0x100000008 to /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test4412993038255892531.junit.dir/version-2/snapshot.100000008
2018-06-28 17:40:58,988 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@301] - Snapshotting: 0x100000008 to /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test4356115805978574605.junit.dir/version-2/snapshot.100000008
2018-06-28 17:40:58,989 [myid:] - INFO  [SyncThread:3:FileTxnLog@213] - Creating new log file: log.10000000a
2018-06-28 17:40:58,989 [myid:] - INFO  [SyncThread:1:FileTxnLog@213] - Creating new log file: log.10000000a
2018-06-28 17:40:58,992 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@301] - Snapshotting: 0x10000000b to /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test1216897967743754487.junit.dir/version-2/snapshot.10000000b
2018-06-28 17:40:58,993 [myid:] - INFO  [SyncThread:2:FileTxnLog@213] - Creating new log file: log.10000000d
2018-06-28 17:40:58,994 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@301] - Snapshotting: 0x10000000c to /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test4412993038255892531.junit.dir/version-2/snapshot.10000000c
2018-06-28 17:40:58,994 [myid:] - INFO  [main:ZxidRolloverTest@244] - Validating nodes 0 thru 10
2018-06-28 17:40:58,995 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000004
2018-06-28 17:40:58,997 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000005
2018-06-28 17:40:58,997 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000006
2018-06-28 17:40:58,998 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000007
2018-06-28 17:40:58,999 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000008
2018-06-28 17:40:59,001 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000009
2018-06-28 17:40:59,003 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000a
2018-06-28 17:40:59,004 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000b
2018-06-28 17:40:59,005 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000c
2018-06-28 17:40:59,006 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000d
2018-06-28 17:40:59,007 [myid:] - INFO  [main:QuorumUtil@227] - Shutting down quorum peer QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11231
2018-06-28 17:40:59,007 [myid:] - INFO  [main:Leader@520] - Shutting down
2018-06-28 17:40:59,007 [myid:] - INFO  [main:Leader@526] - Shutdown called
java.lang.Exception: shutdown Leader! reason: quorum Peer shutdown
	at org.apache.zookeeper.server.quorum.Leader.shutdown(Leader.java:526)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1023)
	at org.apache.zookeeper.test.QuorumUtil.shutdown(QuorumUtil.java:228)
	at org.apache.zookeeper.server.ZxidRolloverTest.shutdown(ZxidRolloverTest.java:183)
	at org.apache.zookeeper.server.ZxidRolloverTest.testRolloverThenLeaderRestart(ZxidRolloverTest.java:367)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:536)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1205)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1048)
2018-06-28 17:40:59,007 [myid:] - INFO  [LearnerCnxAcceptor-/127.0.0.1:12231:Leader$LearnerCnxAcceptor@340] - exception while shutting down acceptor: java.net.SocketException: Socket closed
2018-06-28 17:40:59,007 [myid:] - INFO  [main:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:50833 which had sessionid 0x300065474ee0000
2018-06-28 17:40:59,007 [myid:] - INFO  [main:ZooKeeperServer@502] - shutting down
2018-06-28 17:40:59,008 [myid:] - INFO  [main:SessionTrackerImpl@226] - Shutting down
2018-06-28 17:40:59,008 [myid:] - INFO  [main:PrepRequestProcessor@769] - Shutting down
2018-06-28 17:40:59,007 [myid:] - INFO  [main-SendThread(localhost:11231):ClientCnxn$SendThread@1162] - Unable to read additional data from server sessionid 0x300065474ee0000, likely server has closed socket, closing socket connection and attempting reconnect
2018-06-28 17:40:59,008 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::PrepRequestProcessor@144] - PrepRequestProcessor exited loop!
2018-06-28 17:40:59,008 [myid:] - INFO  [main:ProposalRequestProcessor@88] - Shutting down
2018-06-28 17:40:59,008 [myid:] - INFO  [main:CommitProcessor@184] - Shutting down
2018-06-28 17:40:59,008 [myid:] - INFO  [main:Leader$ToBeAppliedRequestProcessor@685] - Shutting down
2018-06-28 17:40:59,008 [myid:] - INFO  [main:FinalRequestProcessor@403] - shutdown of request processor complete
2018-06-28 17:40:59,008 [myid:] - INFO  [main:SyncRequestProcessor@208] - Shutting down
2018-06-28 17:40:59,008 [myid:] - INFO  [CommitProcessor:3:CommitProcessor@153] - CommitProcessor exited loop!
2018-06-28 17:40:59,008 [myid:] - INFO  [SyncThread:3:SyncRequestProcessor@186] - SyncRequestProcessor exited!
2018-06-28 17:40:59,009 [myid:] - WARN  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11229:Follower@90] - Exception when following the leader
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:63)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:99)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:153)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:86)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:981)
2018-06-28 17:40:59,009 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11231:NIOServerCnxnFactory@242] - NIOServerCnxn factory exited run method
2018-06-28 17:40:59,009 [myid:] - WARN  [LearnerHandler-/127.0.0.1:50826:LearnerHandler@661] - ******* GOODBYE /127.0.0.1:50826 ********
2018-06-28 17:40:59,009 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11229:Follower@169] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:169)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:985)
2018-06-28 17:40:59,009 [myid:] - WARN  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11231:QuorumPeer@997] - Unexpected exception
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at org.apache.zookeeper.server.quorum.Leader.lead(Leader.java:474)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:994)
2018-06-28 17:40:59,010 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11231:Leader@520] - Shutting down
2018-06-28 17:40:59,010 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1025] - Connection broken for id 3, my id = 2, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1010)
2018-06-28 17:40:59,010 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1028] - Interrupting SendWorker
2018-06-28 17:40:59,009 [myid:] - WARN  [LearnerHandler-/127.0.0.1:50827:LearnerHandler@661] - ******* GOODBYE /127.0.0.1:50827 ********
2018-06-28 17:40:59,010 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@941] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:418)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1094)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$700(QuorumCnxManager.java:74)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:929)
2018-06-28 17:40:59,010 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@951] - Send worker leaving thread
2018-06-28 17:40:59,009 [myid:] - WARN  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11227:Follower@90] - Exception when following the leader
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:63)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:99)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:153)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:86)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:981)
2018-06-28 17:40:59,010 [myid:] - WARN  [LearnerHandler-/127.0.0.1:50827:LearnerHandler@673] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1220)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:335)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:339)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:671)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:664)
2018-06-28 17:40:59,010 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1025] - Connection broken for id 2, my id = 3, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1010)
2018-06-28 17:40:59,011 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1028] - Interrupting SendWorker
2018-06-28 17:40:59,010 [myid:] - WARN  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11231:QuorumPeer@1009] - QuorumPeer main thread exited
2018-06-28 17:40:59,010 [myid:] - INFO  [main:QuorumUtil@231] - Shutting down leader election QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11231
2018-06-28 17:40:59,010 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@941] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:418)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1094)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$700(QuorumCnxManager.java:74)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:929)
2018-06-28 17:40:59,011 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@951] - Send worker leaving thread
2018-06-28 17:40:59,010 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11229:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:50832 which had sessionid 0x200065474ec0000
2018-06-28 17:40:59,010 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1025] - Connection broken for id 1, my id = 3, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1010)
2018-06-28 17:40:59,011 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1028] - Interrupting SendWorker
2018-06-28 17:40:59,010 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@941] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:418)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1094)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$700(QuorumCnxManager.java:74)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:929)
2018-06-28 17:40:59,012 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@951] - Send worker leaving thread
2018-06-28 17:40:59,009 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1025] - Connection broken for id 3, my id = 1, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1010)
2018-06-28 17:40:59,012 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1028] - Interrupting SendWorker
2018-06-28 17:40:59,009 [myid:] - ERROR [/127.0.0.1:12232:QuorumCnxManager$Listener@760] - Exception while listening
java.net.SocketException: Socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:409)
	at java.net.ServerSocket.implAccept(ServerSocket.java:545)
	at java.net.ServerSocket.accept(ServerSocket.java:513)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$Listener.run(QuorumCnxManager.java:741)
2018-06-28 17:40:59,009 [myid:] - WARN  [LearnerHandler-/127.0.0.1:50826:LearnerHandler@673] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1220)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:335)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:339)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:671)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:664)
2018-06-28 17:40:59,012 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@941] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:418)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1094)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$700(QuorumCnxManager.java:74)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:929)
2018-06-28 17:40:59,012 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@951] - Send worker leaving thread
2018-06-28 17:40:59,011 [myid:] - INFO  [main-SendThread(localhost:11229):ClientCnxn$SendThread@1162] - Unable to read additional data from server sessionid 0x200065474ec0000, likely server has closed socket, closing socket connection and attempting reconnect
2018-06-28 17:40:59,011 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11229:FollowerZooKeeperServer@140] - Shutting down
2018-06-28 17:40:59,011 [myid:] - INFO  [main:QuorumUtil@236] - Waiting for QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11231 to exit thread
2018-06-28 17:40:59,010 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11227:Follower@169] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:169)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:985)
2018-06-28 17:40:59,013 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11231
2018-06-28 17:40:59,013 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11227:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:50831 which had sessionid 0x100065474ec0000
2018-06-28 17:40:59,013 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11229:ZooKeeperServer@502] - shutting down
2018-06-28 17:40:59,013 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11229:FollowerRequestProcessor@107] - Shutting down
2018-06-28 17:40:59,013 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11227:FollowerZooKeeperServer@140] - Shutting down
2018-06-28 17:40:59,013 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11227:ZooKeeperServer@502] - shutting down
2018-06-28 17:40:59,013 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11227:FollowerRequestProcessor@107] - Shutting down
2018-06-28 17:40:59,013 [myid:] - INFO  [main-SendThread(localhost:11227):ClientCnxn$SendThread@1162] - Unable to read additional data from server sessionid 0x100065474ec0000, likely server has closed socket, closing socket connection and attempting reconnect
2018-06-28 17:40:59,013 [myid:] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@97] - FollowerRequestProcessor exited loop!
2018-06-28 17:40:59,013 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11227:CommitProcessor@184] - Shutting down
2018-06-28 17:40:59,013 [myid:] - INFO  [FollowerRequestProcessor:2:FollowerRequestProcessor@97] - FollowerRequestProcessor exited loop!
2018-06-28 17:40:59,013 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11229:CommitProcessor@184] - Shutting down
2018-06-28 17:40:59,014 [myid:] - INFO  [CommitProcessor:1:CommitProcessor@153] - CommitProcessor exited loop!
2018-06-28 17:40:59,014 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11227:FinalRequestProcessor@403] - shutdown of request processor complete
2018-06-28 17:40:59,014 [myid:] - INFO  [CommitProcessor:2:CommitProcessor@153] - CommitProcessor exited loop!
2018-06-28 17:40:59,014 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11229:FinalRequestProcessor@403] - shutdown of request processor complete
2018-06-28 17:40:59,015 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11227:SyncRequestProcessor@208] - Shutting down
2018-06-28 17:40:59,015 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11229:SyncRequestProcessor@208] - Shutting down
2018-06-28 17:40:59,015 [myid:] - INFO  [SyncThread:1:SyncRequestProcessor@186] - SyncRequestProcessor exited!
2018-06-28 17:40:59,015 [myid:] - INFO  [SyncThread:2:SyncRequestProcessor@186] - SyncRequestProcessor exited!
2018-06-28 17:40:59,015 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11227:QuorumPeer@909] - LOOKING
2018-06-28 17:40:59,015 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11229:QuorumPeer@909] - LOOKING
2018-06-28 17:40:59,015 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11227:FastLeaderElection@813] - New election. My id =  1, proposed zxid=0x10000000d
2018-06-28 17:40:59,015 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11229:FastLeaderElection@813] - New election. My id =  2, proposed zxid=0x10000000d
2018-06-28 17:40:59,015 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x10000000d (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:40:59,016 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x10000000d (n.zxid), 0x2 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:40:59,016 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x10000000d (n.zxid), 0x2 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:40:59,016 [myid:] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@584] - Cannot open channel to 3 at election address /127.0.0.1:12232
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:558)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:534)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:454)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:435)
	at java.lang.Thread.run(Thread.java:748)
2018-06-28 17:40:59,016 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@584] - Cannot open channel to 3 at election address /127.0.0.1:12232
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:558)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:534)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:454)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:435)
	at java.lang.Thread.run(Thread.java:748)
2018-06-28 17:40:59,016 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x10000000d (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:40:59,016 [myid:] - INFO  [WorkerSender[myid=1]:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:40:59,016 [myid:] - INFO  [WorkerSender[myid=2]:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:40:59,016 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x10000000d (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:40:59,017 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x10000000d (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:40:59,017 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@584] - Cannot open channel to 3 at election address /127.0.0.1:12232
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:558)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:534)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:454)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:435)
	at java.lang.Thread.run(Thread.java:748)
2018-06-28 17:40:59,017 [myid:] - INFO  [WorkerSender[myid=1]:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:40:59,217 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11227:QuorumPeer@979] - FOLLOWING
2018-06-28 17:40:59,217 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11229:QuorumPeer@991] - LEADING
2018-06-28 17:40:59,217 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11227:ZooKeeperServer@174] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test4356115805978574605.junit.dir/version-2 snapdir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test4356115805978574605.junit.dir/version-2
2018-06-28 17:40:59,217 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11229:ZooKeeperServer@174] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test1216897967743754487.junit.dir/version-2 snapdir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test1216897967743754487.junit.dir/version-2
2018-06-28 17:40:59,218 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11227:Follower@65] - FOLLOWING - LEADER ELECTION TOOK - 203
2018-06-28 17:40:59,218 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11229:Leader@380] - LEADING - LEADER ELECTION TOOK - 203
2018-06-28 17:40:59,218 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11227:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:40:59,219 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50838:LearnerHandler@346] - Follower sid: 1 : info : org.apache.zookeeper.server.quorum.QuorumPeer$QuorumServer@68019971
2018-06-28 17:40:59,221 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50838:LearnerHandler@401] - Synchronizing with Follower sid: 1 maxCommittedLog=0x10000000d minCommittedLog=0x100000001 peerLastZxid=0x10000000d
2018-06-28 17:40:59,221 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50838:LearnerHandler@410] - leader and follower are in sync, zxid=0x10000000d
2018-06-28 17:40:59,221 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50838:LearnerHandler@475] - Sending DIFF
2018-06-28 17:40:59,221 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11227:Learner@332] - Getting a diff from the leader 0x10000000d
2018-06-28 17:40:59,222 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50838:LearnerHandler@535] - Received NEWLEADER-ACK message from 1
2018-06-28 17:40:59,222 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11229:Leader@964] - Have quorum of supporters, sids: [ 1,2 ]; starting up and setting last processed zxid: 0x200000000
2018-06-28 17:40:59,355 [myid:] - INFO  [/127.0.0.1:12222:QuorumCnxManager$Listener@773] - Leaving listener
2018-06-28 17:40:59,677 [myid:] - INFO  [/127.0.0.1:12224:QuorumCnxManager$Listener@773] - Leaving listener
2018-06-28 17:40:59,682 [myid:] - INFO  [/127.0.0.1:12226:QuorumCnxManager$Listener@773] - Leaving listener
2018-06-28 17:41:00,016 [myid:] - INFO  [/127.0.0.1:12232:QuorumCnxManager$Listener@773] - Leaving listener
2018-06-28 17:41:00,113 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@409] - WorkerReceiver is down
2018-06-28 17:41:00,113 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@409] - WorkerReceiver is down
2018-06-28 17:41:00,114 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@409] - WorkerReceiver is down
2018-06-28 17:41:00,113 [myid:] - INFO  [WorkerSender[myid=1]:FastLeaderElection$Messenger$WorkerSender@440] - WorkerSender is down
2018-06-28 17:41:00,113 [myid:] - INFO  [WorkerSender[myid=3]:FastLeaderElection$Messenger$WorkerSender@440] - WorkerSender is down
2018-06-28 17:41:00,113 [myid:] - INFO  [WorkerSender[myid=2]:FastLeaderElection$Messenger$WorkerSender@440] - WorkerSender is down
2018-06-28 17:41:00,211 [myid:] - INFO  [main-SendThread(localhost:11229):ClientCnxn$SendThread@1029] - Opening socket connection to server localhost/127.0.0.1:11229. Will not attempt to authenticate using SASL (unknown error)
2018-06-28 17:41:00,212 [myid:] - INFO  [main-SendThread(localhost:11229):ClientCnxn$SendThread@879] - Socket connection established to localhost/127.0.0.1:11229, initiating session
2018-06-28 17:41:00,212 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11229:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:50839
2018-06-28 17:41:00,212 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11229:ZooKeeperServer@942] - Client attempting to renew session 0x200065474ec0000 at /127.0.0.1:50839
2018-06-28 17:41:00,213 [myid:] - INFO  [main-SendThread(localhost:11227):ClientCnxn$SendThread@1029] - Opening socket connection to server localhost/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
2018-06-28 17:41:00,213 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11229:ZooKeeperServer@694] - Established session 0x200065474ec0000 with negotiated timeout 30000 for client /127.0.0.1:50839
2018-06-28 17:41:00,213 [myid:] - INFO  [main-SendThread(localhost:11229):ClientCnxn$SendThread@1303] - Session establishment complete on server localhost/127.0.0.1:11229, sessionid = 0x200065474ec0000, negotiated timeout = 30000
2018-06-28 17:41:00,213 [myid:] - INFO  [main-SendThread(localhost:11227):ClientCnxn$SendThread@879] - Socket connection established to localhost/127.0.0.1:11227, initiating session
2018-06-28 17:41:00,213 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11227:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:50840
2018-06-28 17:41:00,214 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11227:ZooKeeperServer@942] - Client attempting to renew session 0x100065474ec0000 at /127.0.0.1:50840
2018-06-28 17:41:00,214 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11227:Learner@108] - Revalidating client: 0x100065474ec0000
2018-06-28 17:41:00,215 [myid:] - INFO  [main:QuorumUtil@186] - Creating QuorumPeer 3; public port 11231
2018-06-28 17:41:00,215 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11227:ZooKeeperServer@694] - Established session 0x100065474ec0000 with negotiated timeout 30000 for client /127.0.0.1:50840
2018-06-28 17:41:00,215 [myid:] - INFO  [main:ServerCnxnFactory@117] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2018-06-28 17:41:00,216 [myid:] - INFO  [main-SendThread(localhost:11227):ClientCnxn$SendThread@1303] - Session establishment complete on server localhost/127.0.0.1:11227, sessionid = 0x100065474ec0000, negotiated timeout = 30000
2018-06-28 17:41:00,216 [myid:] - INFO  [main:NIOServerCnxnFactory@89] - binding to port 0.0.0.0/0.0.0.0:11231
2018-06-28 17:41:00,217 [myid:] - INFO  [main:FileSnap@86] - Reading snapshot /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test4412993038255892531.junit.dir/version-2/snapshot.10000000c
2018-06-28 17:41:00,221 [myid:] - INFO  [ListenerThread:QuorumCnxManager$Listener@736] - My election bind port: /127.0.0.1:12232
2018-06-28 17:41:00,221 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11227
2018-06-28 17:41:00,222 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11227:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:50841
2018-06-28 17:41:00,222 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11231:QuorumPeer@909] - LOOKING
2018-06-28 17:41:00,222 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11227:NIOServerCnxn@908] - Processing stat command from /127.0.0.1:50841
2018-06-28 17:41:00,222 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11231:FastLeaderElection@813] - New election. My id =  3, proposed zxid=0x10000000d
2018-06-28 17:41:00,223 [myid:] - INFO  [Thread-19:NIOServerCnxn$StatCommand@687] - Stat command output
2018-06-28 17:41:00,223 [myid:] - INFO  [/127.0.0.1:12228:QuorumCnxManager$Listener@743] - Received connection request /127.0.0.1:50842
2018-06-28 17:41:00,224 [myid:] - INFO  [Thread-19:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:50841 (no session established for client)
2018-06-28 17:41:00,224 [myid:] - INFO  [/127.0.0.1:12230:QuorumCnxManager$Listener@743] - Received connection request /127.0.0.1:50843
2018-06-28 17:41:00,225 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x10000000d (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x1 (n.peerEpoch) FOLLOWING (my state)
2018-06-28 17:41:00,225 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x10000000d (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:00,225 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11229
2018-06-28 17:41:00,225 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x10000000d (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:00,226 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x10000000d (n.zxid), 0x2 (n.round), FOLLOWING (n.state), 1 (n.sid), 0x2 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:00,226 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x10000000d (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x1 (n.peerEpoch) LEADING (my state)
2018-06-28 17:41:00,226 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x10000000d (n.zxid), 0x2 (n.round), LOOKING (n.state), 3 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:00,226 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x10000000d (n.zxid), 0x2 (n.round), LOOKING (n.state), 3 (n.sid), 0x1 (n.peerEpoch) LEADING (my state)
2018-06-28 17:41:00,226 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11229:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:50844
2018-06-28 17:41:00,226 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x10000000d (n.zxid), 0x2 (n.round), LOOKING (n.state), 3 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:00,226 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x10000000d (n.zxid), 0x2 (n.round), LOOKING (n.state), 3 (n.sid), 0x1 (n.peerEpoch) FOLLOWING (my state)
2018-06-28 17:41:00,226 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x10000000d (n.zxid), 0x2 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:00,226 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11229:NIOServerCnxn@908] - Processing stat command from /127.0.0.1:50844
2018-06-28 17:41:00,226 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x10000000d (n.zxid), 0x2 (n.round), LEADING (n.state), 2 (n.sid), 0x2 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:00,227 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x10000000d (n.zxid), 0x2 (n.round), LEADING (n.state), 2 (n.sid), 0x2 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:00,227 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x10000000d (n.zxid), 0x2 (n.round), FOLLOWING (n.state), 1 (n.sid), 0x2 (n.peerEpoch) FOLLOWING (my state)
2018-06-28 17:41:00,227 [myid:] - INFO  [Thread-20:NIOServerCnxn$StatCommand@687] - Stat command output
2018-06-28 17:41:00,227 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11231:QuorumPeer@979] - FOLLOWING
2018-06-28 17:41:00,227 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11231:ZooKeeperServer@174] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test4412993038255892531.junit.dir/version-2 snapdir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test4412993038255892531.junit.dir/version-2
2018-06-28 17:41:00,227 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11231:Follower@65] - FOLLOWING - LEADER ELECTION TOOK - 4
2018-06-28 17:41:00,227 [myid:] - INFO  [Thread-20:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:50844 (no session established for client)
2018-06-28 17:41:00,227 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11231:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:41:00,228 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11231
2018-06-28 17:41:00,228 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11231:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:50846
2018-06-28 17:41:00,229 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50845:LearnerHandler@346] - Follower sid: 3 : info : org.apache.zookeeper.server.quorum.QuorumPeer$QuorumServer@6ffc15ad
2018-06-28 17:41:00,229 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11231:NIOServerCnxn@908] - Processing stat command from /127.0.0.1:50846
2018-06-28 17:41:00,230 [myid:] - INFO  [Thread-21:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:50846 (no session established for client)
2018-06-28 17:41:00,236 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50845:LearnerHandler@401] - Synchronizing with Follower sid: 3 maxCommittedLog=0x10000000d minCommittedLog=0x100000001 peerLastZxid=0x10000000d
2018-06-28 17:41:00,236 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50845:LearnerHandler@475] - Sending DIFF
2018-06-28 17:41:00,237 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11231:Learner@332] - Getting a diff from the leader 0x10000000d
2018-06-28 17:41:00,238 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50845:LearnerHandler@535] - Received NEWLEADER-ACK message from 3
2018-06-28 17:41:00,484 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11231
2018-06-28 17:41:00,485 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11231:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:50847
2018-06-28 17:41:00,485 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11231:NIOServerCnxn@908] - Processing stat command from /127.0.0.1:50847
2018-06-28 17:41:00,486 [myid:] - INFO  [Thread-23:NIOServerCnxn$StatCommand@687] - Stat command output
2018-06-28 17:41:00,487 [myid:] - INFO  [Thread-23:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:50847 (no session established for client)
2018-06-28 17:41:00,667 [myid:] - INFO  [SessionTracker:SessionTrackerImpl@163] - SessionTrackerImpl exited loop!
2018-06-28 17:41:00,667 [myid:] - INFO  [SessionTracker:SessionTrackerImpl@163] - SessionTrackerImpl exited loop!
2018-06-28 17:41:00,682 [myid:] - INFO  [main-SendThread(localhost:11231):ClientCnxn$SendThread@1029] - Opening socket connection to server localhost/127.0.0.1:11231. Will not attempt to authenticate using SASL (unknown error)
2018-06-28 17:41:00,683 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11231:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:50848
2018-06-28 17:41:00,683 [myid:] - INFO  [main-SendThread(localhost:11231):ClientCnxn$SendThread@879] - Socket connection established to localhost/127.0.0.1:11231, initiating session
2018-06-28 17:41:00,683 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11231:ZooKeeperServer@942] - Client attempting to renew session 0x300065474ee0000 at /127.0.0.1:50848
2018-06-28 17:41:00,683 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11231:Learner@108] - Revalidating client: 0x300065474ee0000
2018-06-28 17:41:00,686 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11231:ZooKeeperServer@694] - Established session 0x300065474ee0000 with negotiated timeout 30000 for client /127.0.0.1:50848
2018-06-28 17:41:00,686 [myid:] - INFO  [main-SendThread(localhost:11231):ClientCnxn$SendThread@1303] - Session establishment complete on server localhost/127.0.0.1:11231, sessionid = 0x300065474ee0000, negotiated timeout = 30000
2018-06-28 17:41:00,687 [myid:] - INFO  [main:ZxidRolloverTest@244] - Validating nodes 0 thru 10
2018-06-28 17:41:00,689 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000004
2018-06-28 17:41:00,692 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000005
2018-06-28 17:41:00,694 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000006
2018-06-28 17:41:00,697 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000007
2018-06-28 17:41:00,698 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000008
2018-06-28 17:41:00,700 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000009
2018-06-28 17:41:00,700 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000a
2018-06-28 17:41:00,702 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000b
2018-06-28 17:41:00,703 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000c
2018-06-28 17:41:00,704 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000d
2018-06-28 17:41:00,705 [myid:] - INFO  [main:ZxidRolloverTest@225] - Creating nodes 10 thru 20
2018-06-28 17:41:00,707 [myid:] - WARN  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11227:Follower@119] - Got zxid 0x200000001 expected 0x1
2018-06-28 17:41:00,707 [myid:] - WARN  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11231:Follower@119] - Got zxid 0x200000001 expected 0x1
2018-06-28 17:41:00,708 [myid:] - INFO  [SyncThread:3:FileTxnLog@213] - Creating new log file: log.200000001
2018-06-28 17:41:00,715 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@301] - Snapshotting: 0x200000003 to /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test1216897967743754487.junit.dir/version-2/snapshot.200000003
2018-06-28 17:41:00,715 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@301] - Snapshotting: 0x200000003 to /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test4412993038255892531.junit.dir/version-2/snapshot.200000003
2018-06-28 17:41:00,718 [myid:] - INFO  [SyncThread:2:FileTxnLog@213] - Creating new log file: log.200000005
2018-06-28 17:41:00,718 [myid:] - INFO  [SyncThread:3:FileTxnLog@213] - Creating new log file: log.200000005
2018-06-28 17:41:00,718 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@301] - Snapshotting: 0x200000004 to /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test4356115805978574605.junit.dir/version-2/snapshot.200000004
2018-06-28 17:41:00,720 [myid:] - INFO  [SyncThread:1:FileTxnLog@213] - Creating new log file: log.200000006
2018-06-28 17:41:00,728 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@301] - Snapshotting: 0x200000008 to /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test1216897967743754487.junit.dir/version-2/snapshot.200000008
2018-06-28 17:41:00,728 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@301] - Snapshotting: 0x200000008 to /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test4412993038255892531.junit.dir/version-2/snapshot.200000008
2018-06-28 17:41:00,732 [myid:] - INFO  [SyncThread:2:FileTxnLog@213] - Creating new log file: log.20000000a
2018-06-28 17:41:00,733 [myid:] - INFO  [SyncThread:3:FileTxnLog@213] - Creating new log file: log.20000000a
2018-06-28 17:41:00,733 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@301] - Snapshotting: 0x200000009 to /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test4356115805978574605.junit.dir/version-2/snapshot.200000009
2018-06-28 17:41:00,735 [myid:] - INFO  [main:ZxidRolloverTest@244] - Validating nodes 0 thru 20
2018-06-28 17:41:00,736 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000004
2018-06-28 17:41:00,737 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000005
2018-06-28 17:41:00,739 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000006
2018-06-28 17:41:00,741 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000007
2018-06-28 17:41:00,742 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000008
2018-06-28 17:41:00,744 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000009
2018-06-28 17:41:00,745 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000a
2018-06-28 17:41:00,746 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000b
2018-06-28 17:41:00,747 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000c
2018-06-28 17:41:00,748 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000d
2018-06-28 17:41:00,749 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000001
2018-06-28 17:41:00,750 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000002
2018-06-28 17:41:00,750 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000003
2018-06-28 17:41:00,751 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000004
2018-06-28 17:41:00,752 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000005
2018-06-28 17:41:00,753 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000006
2018-06-28 17:41:00,755 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000007
2018-06-28 17:41:00,757 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000008
2018-06-28 17:41:00,759 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000009
2018-06-28 17:41:00,760 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:20000000a
2018-06-28 17:41:00,761 [myid:] - INFO  [main:ZxidRolloverTest@225] - Creating nodes 20 thru 30
2018-06-28 17:41:00,761 [myid:] - WARN  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11227:Follower@119] - Got zxid 0x2fffffffd expected 0x20000000b
2018-06-28 17:41:00,761 [myid:] - WARN  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11231:Follower@119] - Got zxid 0x2fffffffd expected 0x20000000b
2018-06-28 17:41:00,761 [myid:] - INFO  [SyncThread:1:FileTxnLog@213] - Creating new log file: log.2fffffffd
2018-06-28 17:41:00,762 [myid:] - WARN  [LearnerHandler-/127.0.0.1:50845:Leader@613] - Commiting zxid 0x2fffffffd from /127.0.0.1:12229 not first!
2018-06-28 17:41:00,762 [myid:] - WARN  [LearnerHandler-/127.0.0.1:50845:Leader@615] - First is 0x20000000b
2018-06-28 17:41:00,765 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::Leader@520] - Shutting down
2018-06-28 17:41:00,765 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::Leader@526] - Shutdown called
java.lang.Exception: shutdown Leader! reason: zxid lower 32 bits have rolled over, forcing re-election, and therefore new epoch start
	at org.apache.zookeeper.server.quorum.Leader.shutdown(Leader.java:526)
	at org.apache.zookeeper.server.quorum.Leader.propose(Leader.java:772)
	at org.apache.zookeeper.server.quorum.ProposalRequestProcessor.processRequest(ProposalRequestProcessor.java:78)
	at org.apache.zookeeper.server.PrepRequestProcessor.pRequest(PrepRequestProcessor.java:681)
	at org.apache.zookeeper.server.PrepRequestProcessor.run(PrepRequestProcessor.java:134)
2018-06-28 17:41:00,765 [myid:] - INFO  [LearnerCnxAcceptor-/127.0.0.1:12229:Leader$LearnerCnxAcceptor@340] - exception while shutting down acceptor: java.net.SocketException: Socket closed
2018-06-28 17:41:00,766 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:50839 which had sessionid 0x200065474ec0000
2018-06-28 17:41:00,766 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::ZooKeeperServer@502] - shutting down
2018-06-28 17:41:00,766 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::SessionTrackerImpl@226] - Shutting down
2018-06-28 17:41:00,766 [myid:] - INFO  [main-SendThread(localhost:11229):ClientCnxn$SendThread@1162] - Unable to read additional data from server sessionid 0x200065474ec0000, likely server has closed socket, closing socket connection and attempting reconnect
2018-06-28 17:41:00,766 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::PrepRequestProcessor@769] - Shutting down
2018-06-28 17:41:00,766 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::ProposalRequestProcessor@88] - Shutting down
2018-06-28 17:41:00,766 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::CommitProcessor@184] - Shutting down
2018-06-28 17:41:00,766 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::Leader$ToBeAppliedRequestProcessor@685] - Shutting down
2018-06-28 17:41:00,766 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::FinalRequestProcessor@403] - shutdown of request processor complete
2018-06-28 17:41:00,766 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::SyncRequestProcessor@208] - Shutting down
2018-06-28 17:41:00,766 [myid:] - INFO  [CommitProcessor:2:CommitProcessor@153] - CommitProcessor exited loop!
2018-06-28 17:41:00,766 [myid:] - INFO  [SyncThread:2:SyncRequestProcessor@186] - SyncRequestProcessor exited!
2018-06-28 17:41:00,768 [myid:] - WARN  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11231:Follower@90] - Exception when following the leader
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:63)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:99)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:153)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:86)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:981)
2018-06-28 17:41:00,768 [myid:] - WARN  [LearnerHandler-/127.0.0.1:50838:LearnerHandler@661] - ******* GOODBYE /127.0.0.1:50838 ********
2018-06-28 17:41:00,768 [myid:] - WARN  [LearnerHandler-/127.0.0.1:50845:LearnerHandler@661] - ******* GOODBYE /127.0.0.1:50845 ********
2018-06-28 17:41:00,768 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::PrepRequestProcessor@138] - zxid lower 32 bits have rolled over, forcing re-election, and therefore new epoch start
2018-06-28 17:41:00,768 [myid:] - WARN  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11227:Follower@90] - Exception when following the leader
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:63)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:99)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:153)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:86)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:981)
2018-06-28 17:41:00,768 [myid:] - ERROR [ProcessThread(sid:2 cport:-1)::ZooKeeperCriticalThread@49] - Severe unrecoverable error, from thread : ProcessThread(sid:2 cport:-1):
org.apache.zookeeper.server.RequestProcessor$RequestProcessorException: zxid lower 32 bits have rolled over, forcing re-election, and therefore new epoch start
	at org.apache.zookeeper.server.quorum.ProposalRequestProcessor.processRequest(ProposalRequestProcessor.java:80)
	at org.apache.zookeeper.server.PrepRequestProcessor.pRequest(PrepRequestProcessor.java:681)
	at org.apache.zookeeper.server.PrepRequestProcessor.run(PrepRequestProcessor.java:134)
Caused by: org.apache.zookeeper.server.quorum.Leader$XidRolloverException: zxid lower 32 bits have rolled over, forcing re-election, and therefore new epoch start
	at org.apache.zookeeper.server.quorum.Leader.propose(Leader.java:773)
	at org.apache.zookeeper.server.quorum.ProposalRequestProcessor.processRequest(ProposalRequestProcessor.java:78)
	... 2 more
2018-06-28 17:41:00,768 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11231:Follower@169] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:169)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:985)
2018-06-28 17:41:00,768 [myid:] - WARN  [LearnerHandler-/127.0.0.1:50845:LearnerHandler@673] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1220)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:335)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:339)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:671)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:664)
2018-06-28 17:41:00,769 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11231:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:50848 which had sessionid 0x300065474ee0000
2018-06-28 17:41:00,768 [myid:] - WARN  [LearnerHandler-/127.0.0.1:50838:LearnerHandler@673] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1220)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:335)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:339)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:671)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:664)
2018-06-28 17:41:00,769 [myid:] - INFO  [main-SendThread(localhost:11231):ClientCnxn$SendThread@1162] - Unable to read additional data from server sessionid 0x300065474ee0000, likely server has closed socket, closing socket connection and attempting reconnect
2018-06-28 17:41:00,769 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11231:FollowerZooKeeperServer@140] - Shutting down
2018-06-28 17:41:00,770 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11231:ZooKeeperServer@502] - shutting down
2018-06-28 17:41:00,770 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11231:FollowerRequestProcessor@107] - Shutting down
2018-06-28 17:41:00,769 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::ZooKeeperServerListenerImpl@42] - Thread ProcessThread(sid:2 cport:-1): exits, error code 1
2018-06-28 17:41:00,770 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::PrepRequestProcessor@144] - PrepRequestProcessor exited loop!
2018-06-28 17:41:00,768 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11227:Follower@169] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:169)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:985)
2018-06-28 17:41:00,770 [myid:] - INFO  [FollowerRequestProcessor:3:FollowerRequestProcessor@97] - FollowerRequestProcessor exited loop!
2018-06-28 17:41:00,770 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11231:CommitProcessor@184] - Shutting down
2018-06-28 17:41:00,771 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11231:FinalRequestProcessor@403] - shutdown of request processor complete
2018-06-28 17:41:00,771 [myid:] - INFO  [CommitProcessor:3:CommitProcessor@153] - CommitProcessor exited loop!
2018-06-28 17:41:00,771 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11227:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:50840 which had sessionid 0x100065474ec0000
2018-06-28 17:41:00,771 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11227:FollowerZooKeeperServer@140] - Shutting down
2018-06-28 17:41:00,771 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11227:ZooKeeperServer@502] - shutting down
2018-06-28 17:41:00,771 [myid:] - INFO  [main-SendThread(localhost:11227):ClientCnxn$SendThread@1162] - Unable to read additional data from server sessionid 0x100065474ec0000, likely server has closed socket, closing socket connection and attempting reconnect
2018-06-28 17:41:00,772 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11227:FollowerRequestProcessor@107] - Shutting down
2018-06-28 17:41:00,772 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11227:CommitProcessor@184] - Shutting down
2018-06-28 17:41:00,772 [myid:] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@97] - FollowerRequestProcessor exited loop!
2018-06-28 17:41:00,772 [myid:] - INFO  [CommitProcessor:1:CommitProcessor@153] - CommitProcessor exited loop!
2018-06-28 17:41:00,772 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11227:FinalRequestProcessor@403] - shutdown of request processor complete
2018-06-28 17:41:00,774 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11231:SyncRequestProcessor@208] - Shutting down
2018-06-28 17:41:00,774 [myid:] - INFO  [SyncThread:3:SyncRequestProcessor@186] - SyncRequestProcessor exited!
2018-06-28 17:41:00,774 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11231:QuorumPeer@909] - LOOKING
2018-06-28 17:41:00,774 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11227:SyncRequestProcessor@208] - Shutting down
2018-06-28 17:41:00,775 [myid:] - INFO  [SyncThread:1:SyncRequestProcessor@186] - SyncRequestProcessor exited!
2018-06-28 17:41:00,775 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11227:QuorumPeer@909] - LOOKING
2018-06-28 17:41:00,775 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11231:FastLeaderElection@813] - New election. My id =  3, proposed zxid=0x2fffffffe
2018-06-28 17:41:00,775 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11227:FastLeaderElection@813] - New election. My id =  1, proposed zxid=0x2fffffffe
2018-06-28 17:41:00,776 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x2fffffffe (n.zxid), 0x3 (n.round), LOOKING (n.state), 3 (n.sid), 0x2 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:00,776 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x2fffffffe (n.zxid), 0x3 (n.round), LOOKING (n.state), 1 (n.sid), 0x2 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:00,776 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x2fffffffe (n.zxid), 0x3 (n.round), LOOKING (n.state), 1 (n.sid), 0x2 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:00,776 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x2fffffffe (n.zxid), 0x3 (n.round), LOOKING (n.state), 3 (n.sid), 0x2 (n.peerEpoch) LEADING (my state)
2018-06-28 17:41:00,776 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x2fffffffe (n.zxid), 0x3 (n.round), LOOKING (n.state), 3 (n.sid), 0x2 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:00,776 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x2fffffffe (n.zxid), 0x3 (n.round), LOOKING (n.state), 1 (n.sid), 0x2 (n.peerEpoch) LEADING (my state)
2018-06-28 17:41:00,776 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x2fffffffe (n.zxid), 0x3 (n.round), LOOKING (n.state), 1 (n.sid), 0x2 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:00,776 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x10000000d (n.zxid), 0x2 (n.round), LEADING (n.state), 2 (n.sid), 0x2 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:00,776 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x10000000d (n.zxid), 0x2 (n.round), LEADING (n.state), 2 (n.sid), 0x2 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:00,776 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x2fffffffe (n.zxid), 0x3 (n.round), LOOKING (n.state), 1 (n.sid), 0x2 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:00,776 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x2fffffffe (n.zxid), 0x3 (n.round), LOOKING (n.state), 1 (n.sid), 0x2 (n.peerEpoch) LEADING (my state)
2018-06-28 17:41:00,777 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x10000000d (n.zxid), 0x2 (n.round), LEADING (n.state), 2 (n.sid), 0x2 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:00,979 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11231:QuorumPeer@991] - LEADING
2018-06-28 17:41:00,979 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11227:QuorumPeer@979] - FOLLOWING
2018-06-28 17:41:00,979 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11231:ZooKeeperServer@174] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test4412993038255892531.junit.dir/version-2 snapdir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test4412993038255892531.junit.dir/version-2
2018-06-28 17:41:00,979 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11227:ZooKeeperServer@174] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test4356115805978574605.junit.dir/version-2 snapdir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test4356115805978574605.junit.dir/version-2
2018-06-28 17:41:00,980 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11231:Leader@380] - LEADING - LEADER ELECTION TOOK - 205
2018-06-28 17:41:00,980 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11227:Follower@65] - FOLLOWING - LEADER ELECTION TOOK - 205
2018-06-28 17:41:00,981 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11227:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:41:00,983 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50849:LearnerHandler@346] - Follower sid: 1 : info : org.apache.zookeeper.server.quorum.QuorumPeer$QuorumServer@68019971
2018-06-28 17:41:00,985 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50849:LearnerHandler@401] - Synchronizing with Follower sid: 1 maxCommittedLog=0x2fffffffe minCommittedLog=0x10000000d peerLastZxid=0x2fffffffe
2018-06-28 17:41:00,985 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50849:LearnerHandler@410] - leader and follower are in sync, zxid=0x2fffffffe
2018-06-28 17:41:00,985 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50849:LearnerHandler@475] - Sending DIFF
2018-06-28 17:41:00,986 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11227:Learner@332] - Getting a diff from the leader 0x2fffffffe
2018-06-28 17:41:00,987 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50849:LearnerHandler@535] - Received NEWLEADER-ACK message from 1
2018-06-28 17:41:00,988 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11231:Leader@964] - Have quorum of supporters, sids: [ 1,3 ]; starting up and setting last processed zxid: 0x300000000
2018-06-28 17:41:01,226 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11229:Leader@520] - Shutting down
2018-06-28 17:41:01,227 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11229:QuorumPeer@909] - LOOKING
2018-06-28 17:41:01,228 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11229:FastLeaderElection@813] - New election. My id =  2, proposed zxid=0x2fffffffe
2018-06-28 17:41:01,228 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x2fffffffe (n.zxid), 0x3 (n.round), LOOKING (n.state), 2 (n.sid), 0x2 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:01,229 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x2fffffffe (n.zxid), 0x3 (n.round), LOOKING (n.state), 2 (n.sid), 0x2 (n.peerEpoch) LEADING (my state)
2018-06-28 17:41:01,229 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x2fffffffe (n.zxid), 0x3 (n.round), LOOKING (n.state), 2 (n.sid), 0x2 (n.peerEpoch) FOLLOWING (my state)
2018-06-28 17:41:01,230 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x2fffffffe (n.zxid), 0x3 (n.round), LEADING (n.state), 3 (n.sid), 0x3 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:01,230 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x2fffffffe (n.zxid), 0x3 (n.round), FOLLOWING (n.state), 1 (n.sid), 0x3 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:01,230 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11229:QuorumPeer@979] - FOLLOWING
2018-06-28 17:41:01,231 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11229:ZooKeeperServer@174] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test1216897967743754487.junit.dir/version-2 snapdir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test1216897967743754487.junit.dir/version-2
2018-06-28 17:41:01,231 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11229:Follower@65] - FOLLOWING - LEADER ELECTION TOOK - 3
2018-06-28 17:41:01,231 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11229:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:41:01,234 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50850:LearnerHandler@346] - Follower sid: 2 : info : org.apache.zookeeper.server.quorum.QuorumPeer$QuorumServer@3f161a9e
2018-06-28 17:41:01,235 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50850:LearnerHandler@401] - Synchronizing with Follower sid: 2 maxCommittedLog=0x2fffffffe minCommittedLog=0x10000000d peerLastZxid=0x2fffffffe
2018-06-28 17:41:01,236 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50850:LearnerHandler@475] - Sending DIFF
2018-06-28 17:41:01,236 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11229:Learner@332] - Getting a diff from the leader 0x2fffffffe
2018-06-28 17:41:01,238 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50850:LearnerHandler@535] - Received NEWLEADER-ACK message from 2
2018-06-28 17:41:01,711 [myid:] - INFO  [WorkerSender[myid=3]:FastLeaderElection$Messenger$WorkerSender@440] - WorkerSender is down
2018-06-28 17:41:01,711 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@409] - WorkerReceiver is down
2018-06-28 17:41:02,269 [myid:] - INFO  [main-SendThread(localhost:11231):ClientCnxn$SendThread@1029] - Opening socket connection to server localhost/127.0.0.1:11231. Will not attempt to authenticate using SASL (unknown error)
2018-06-28 17:41:02,270 [myid:] - INFO  [main-SendThread(localhost:11231):ClientCnxn$SendThread@879] - Socket connection established to localhost/127.0.0.1:11231, initiating session
2018-06-28 17:41:02,270 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11231:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:50851
2018-06-28 17:41:02,270 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11231:ZooKeeperServer@942] - Client attempting to renew session 0x300065474ee0000 at /127.0.0.1:50851
2018-06-28 17:41:02,271 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11231:ZooKeeperServer@694] - Established session 0x300065474ee0000 with negotiated timeout 30000 for client /127.0.0.1:50851
2018-06-28 17:41:02,271 [myid:] - INFO  [main-SendThread(localhost:11231):ClientCnxn$SendThread@1303] - Session establishment complete on server localhost/127.0.0.1:11231, sessionid = 0x300065474ee0000, negotiated timeout = 30000
2018-06-28 17:41:02,341 [myid:] - INFO  [main-SendThread(localhost:11229):ClientCnxn$SendThread@1029] - Opening socket connection to server localhost/127.0.0.1:11229. Will not attempt to authenticate using SASL (unknown error)
2018-06-28 17:41:02,342 [myid:] - INFO  [main-SendThread(localhost:11229):ClientCnxn$SendThread@879] - Socket connection established to localhost/127.0.0.1:11229, initiating session
2018-06-28 17:41:02,342 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11229:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:50852
2018-06-28 17:41:02,343 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11229:ZooKeeperServer@942] - Client attempting to renew session 0x200065474ec0000 at /127.0.0.1:50852
2018-06-28 17:41:02,343 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11229:Learner@108] - Revalidating client: 0x200065474ec0000
2018-06-28 17:41:02,345 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11229:ZooKeeperServer@694] - Established session 0x200065474ec0000 with negotiated timeout 30000 for client /127.0.0.1:50852
2018-06-28 17:41:02,345 [myid:] - INFO  [main-SendThread(localhost:11229):ClientCnxn$SendThread@1303] - Session establishment complete on server localhost/127.0.0.1:11229, sessionid = 0x200065474ec0000, negotiated timeout = 30000
2018-06-28 17:41:02,346 [myid:] - INFO  [main:QuorumUtil@227] - Shutting down quorum peer QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11229
2018-06-28 17:41:02,346 [myid:] - INFO  [main:Follower@169] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:169)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1026)
	at org.apache.zookeeper.test.QuorumUtil.shutdown(QuorumUtil.java:228)
	at org.apache.zookeeper.server.ZxidRolloverTest.shutdown(ZxidRolloverTest.java:183)
	at org.apache.zookeeper.server.ZxidRolloverTest.testRolloverThenLeaderRestart(ZxidRolloverTest.java:379)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:536)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1205)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1048)
2018-06-28 17:41:02,346 [myid:] - INFO  [main:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:50852 which had sessionid 0x200065474ec0000
2018-06-28 17:41:02,347 [myid:] - INFO  [main:FollowerZooKeeperServer@140] - Shutting down
2018-06-28 17:41:02,347 [myid:] - INFO  [main:ZooKeeperServer@502] - shutting down
2018-06-28 17:41:02,347 [myid:] - INFO  [main:FollowerRequestProcessor@107] - Shutting down
2018-06-28 17:41:02,347 [myid:] - INFO  [main-SendThread(localhost:11229):ClientCnxn$SendThread@1162] - Unable to read additional data from server sessionid 0x200065474ec0000, likely server has closed socket, closing socket connection and attempting reconnect
2018-06-28 17:41:02,347 [myid:] - INFO  [FollowerRequestProcessor:2:FollowerRequestProcessor@97] - FollowerRequestProcessor exited loop!
2018-06-28 17:41:02,347 [myid:] - INFO  [main:CommitProcessor@184] - Shutting down
2018-06-28 17:41:02,347 [myid:] - INFO  [main:FinalRequestProcessor@403] - shutdown of request processor complete
2018-06-28 17:41:02,347 [myid:] - INFO  [CommitProcessor:2:CommitProcessor@153] - CommitProcessor exited loop!
2018-06-28 17:41:02,349 [myid:] - INFO  [main:SyncRequestProcessor@208] - Shutting down
2018-06-28 17:41:02,349 [myid:] - INFO  [SyncThread:2:SyncRequestProcessor@186] - SyncRequestProcessor exited!
2018-06-28 17:41:02,350 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11229:NIOServerCnxnFactory@242] - NIOServerCnxn factory exited run method
2018-06-28 17:41:02,350 [myid:] - ERROR [/127.0.0.1:12230:QuorumCnxManager$Listener@760] - Exception while listening
java.net.SocketException: Socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:409)
	at java.net.ServerSocket.implAccept(ServerSocket.java:545)
	at java.net.ServerSocket.accept(ServerSocket.java:513)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$Listener.run(QuorumCnxManager.java:741)
2018-06-28 17:41:02,352 [myid:] - INFO  [main:QuorumUtil@231] - Shutting down leader election QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11229
2018-06-28 17:41:02,351 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1025] - Connection broken for id 3, my id = 2, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1010)
2018-06-28 17:41:02,352 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1028] - Interrupting SendWorker
2018-06-28 17:41:02,350 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1025] - Connection broken for id 1, my id = 2, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1010)
2018-06-28 17:41:02,352 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1028] - Interrupting SendWorker
2018-06-28 17:41:02,350 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1025] - Connection broken for id 2, my id = 3, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1010)
2018-06-28 17:41:02,353 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1028] - Interrupting SendWorker
2018-06-28 17:41:02,350 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@941] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:418)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1094)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$700(QuorumCnxManager.java:74)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:929)
2018-06-28 17:41:02,350 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1025] - Connection broken for id 2, my id = 1, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1010)
2018-06-28 17:41:02,353 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1028] - Interrupting SendWorker
2018-06-28 17:41:02,350 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@941] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:418)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1094)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$700(QuorumCnxManager.java:74)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:929)
2018-06-28 17:41:02,354 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@951] - Send worker leaving thread
2018-06-28 17:41:02,353 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@941] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:418)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1094)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$700(QuorumCnxManager.java:74)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:929)
2018-06-28 17:41:02,354 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@951] - Send worker leaving thread
2018-06-28 17:41:02,353 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@951] - Send worker leaving thread
2018-06-28 17:41:02,353 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@941] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:418)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1094)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$700(QuorumCnxManager.java:74)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:929)
2018-06-28 17:41:02,354 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@951] - Send worker leaving thread
2018-06-28 17:41:02,352 [myid:] - INFO  [main:QuorumUtil@236] - Waiting for QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11229 to exit thread
2018-06-28 17:41:02,666 [myid:] - INFO  [SessionTracker:SessionTrackerImpl@163] - SessionTrackerImpl exited loop!
2018-06-28 17:41:02,802 [myid:] - INFO  [main-SendThread(localhost:11227):ClientCnxn$SendThread@1029] - Opening socket connection to server localhost/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
2018-06-28 17:41:02,803 [myid:] - INFO  [main-SendThread(localhost:11227):ClientCnxn$SendThread@879] - Socket connection established to localhost/127.0.0.1:11227, initiating session
2018-06-28 17:41:02,803 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11227:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:50853
2018-06-28 17:41:02,803 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11227:ZooKeeperServer@942] - Client attempting to renew session 0x100065474ec0000 at /127.0.0.1:50853
2018-06-28 17:41:02,804 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11227:Learner@108] - Revalidating client: 0x100065474ec0000
2018-06-28 17:41:02,805 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11227:ZooKeeperServer@694] - Established session 0x100065474ec0000 with negotiated timeout 30000 for client /127.0.0.1:50853
2018-06-28 17:41:02,805 [myid:] - INFO  [main-SendThread(localhost:11227):ClientCnxn$SendThread@1303] - Session establishment complete on server localhost/127.0.0.1:11227, sessionid = 0x100065474ec0000, negotiated timeout = 30000
2018-06-28 17:41:03,001 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11229:Follower@169] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:169)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:985)
2018-06-28 17:41:03,001 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11229:FollowerZooKeeperServer@140] - Shutting down
2018-06-28 17:41:03,001 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11229:SyncRequestProcessor@208] - Shutting down
2018-06-28 17:41:03,002 [myid:] - WARN  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11229:QuorumPeer@1009] - QuorumPeer main thread exited
2018-06-28 17:41:03,003 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11229
2018-06-28 17:41:03,352 [myid:] - INFO  [/127.0.0.1:12230:QuorumCnxManager$Listener@773] - Leaving listener
2018-06-28 17:41:04,135 [myid:] - INFO  [main-SendThread(localhost:11229):ClientCnxn$SendThread@1029] - Opening socket connection to server localhost/127.0.0.1:11229. Will not attempt to authenticate using SASL (unknown error)
2018-06-28 17:41:04,135 [myid:] - INFO  [main-SendThread(localhost:11229):ClientCnxn$SendThread@1166] - Socket error occurred: localhost/127.0.0.1:11229: Connection refused
2018-06-28 17:41:04,232 [myid:] - INFO  [WorkerSender[myid=2]:FastLeaderElection$Messenger$WorkerSender@440] - WorkerSender is down
2018-06-28 17:41:04,233 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@409] - WorkerReceiver is down
2018-06-28 17:41:04,242 [myid:] - INFO  [main:QuorumUtil@186] - Creating QuorumPeer 2; public port 11229
2018-06-28 17:41:04,242 [myid:] - INFO  [main:ServerCnxnFactory@117] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2018-06-28 17:41:04,242 [myid:] - INFO  [main:NIOServerCnxnFactory@89] - binding to port 0.0.0.0/0.0.0.0:11229
2018-06-28 17:41:04,243 [myid:] - INFO  [main:FileSnap@86] - Reading snapshot /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test1216897967743754487.junit.dir/version-2/snapshot.200000008
2018-06-28 17:41:04,246 [myid:] - INFO  [ListenerThread:QuorumCnxManager$Listener@736] - My election bind port: /127.0.0.1:12230
2018-06-28 17:41:04,246 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11227
2018-06-28 17:41:04,247 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11227:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:50856
2018-06-28 17:41:04,247 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11229:QuorumPeer@909] - LOOKING
2018-06-28 17:41:04,247 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11227:NIOServerCnxn@908] - Processing stat command from /127.0.0.1:50856
2018-06-28 17:41:04,248 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11229:FastLeaderElection@813] - New election. My id =  2, proposed zxid=0x2fffffffe
2018-06-28 17:41:04,248 [myid:] - INFO  [Thread-26:NIOServerCnxn$StatCommand@687] - Stat command output
2018-06-28 17:41:04,248 [myid:] - INFO  [Thread-26:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:50856 (no session established for client)
2018-06-28 17:41:04,248 [myid:] - INFO  [/127.0.0.1:12228:QuorumCnxManager$Listener@743] - Received connection request /127.0.0.1:50857
2018-06-28 17:41:04,248 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11229
2018-06-28 17:41:04,249 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x2fffffffe (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x3 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:04,249 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11229:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:50858
2018-06-28 17:41:04,249 [myid:] - INFO  [/127.0.0.1:12232:QuorumCnxManager$Listener@743] - Received connection request /127.0.0.1:50859
2018-06-28 17:41:04,249 [myid:] - INFO  [WorkerSender[myid=2]:QuorumCnxManager@347] - Have smaller server identifier, so dropping the connection: (3, 2)
2018-06-28 17:41:04,250 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x2fffffffe (n.zxid), 0x3 (n.round), FOLLOWING (n.state), 1 (n.sid), 0x3 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:04,249 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x2fffffffe (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x3 (n.peerEpoch) FOLLOWING (my state)
2018-06-28 17:41:04,250 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11229:NIOServerCnxn@908] - Processing stat command from /127.0.0.1:50858
2018-06-28 17:41:04,250 [myid:] - INFO  [/127.0.0.1:12230:QuorumCnxManager$Listener@743] - Received connection request /127.0.0.1:50860
2018-06-28 17:41:04,250 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x2fffffffe (n.zxid), 0x3 (n.round), FOLLOWING (n.state), 1 (n.sid), 0x3 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:04,252 [myid:] - INFO  [Thread-27:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:50858 (no session established for client)
2018-06-28 17:41:04,253 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x2fffffffe (n.zxid), 0x3 (n.round), LEADING (n.state), 3 (n.sid), 0x3 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:04,253 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x2fffffffe (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x3 (n.peerEpoch) LEADING (my state)
2018-06-28 17:41:04,253 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11229:QuorumPeer@979] - FOLLOWING
2018-06-28 17:41:04,253 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11229:ZooKeeperServer@174] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test1216897967743754487.junit.dir/version-2 snapdir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test1216897967743754487.junit.dir/version-2
2018-06-28 17:41:04,253 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x2fffffffe (n.zxid), 0x3 (n.round), LEADING (n.state), 3 (n.sid), 0x3 (n.peerEpoch) FOLLOWING (my state)
2018-06-28 17:41:04,253 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11229:Follower@65] - FOLLOWING - LEADER ELECTION TOOK - 5
2018-06-28 17:41:04,253 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11229:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:41:04,254 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50861:LearnerHandler@346] - Follower sid: 2 : info : org.apache.zookeeper.server.quorum.QuorumPeer$QuorumServer@3f161a9e
2018-06-28 17:41:04,255 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50861:LearnerHandler@401] - Synchronizing with Follower sid: 2 maxCommittedLog=0x2fffffffe minCommittedLog=0x10000000d peerLastZxid=0x2fffffffe
2018-06-28 17:41:04,255 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50861:LearnerHandler@475] - Sending DIFF
2018-06-28 17:41:04,255 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11229:Learner@332] - Getting a diff from the leader 0x2fffffffe
2018-06-28 17:41:04,256 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50861:LearnerHandler@535] - Received NEWLEADER-ACK message from 2
2018-06-28 17:41:04,502 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11229
2018-06-28 17:41:04,503 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11229:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:50862
2018-06-28 17:41:04,504 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11229:NIOServerCnxn@908] - Processing stat command from /127.0.0.1:50862
2018-06-28 17:41:04,504 [myid:] - INFO  [Thread-29:NIOServerCnxn$StatCommand@687] - Stat command output
2018-06-28 17:41:04,506 [myid:] - INFO  [Thread-29:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:50862 (no session established for client)
2018-06-28 17:41:04,507 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11231
2018-06-28 17:41:04,508 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11231:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:50863
2018-06-28 17:41:04,509 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11231:NIOServerCnxn@908] - Processing stat command from /127.0.0.1:50863
2018-06-28 17:41:04,509 [myid:] - INFO  [Thread-30:NIOServerCnxn$StatCommand@687] - Stat command output
2018-06-28 17:41:04,510 [myid:] - INFO  [Thread-30:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:50863 (no session established for client)
2018-06-28 17:41:05,889 [myid:] - INFO  [main-SendThread(localhost:11229):ClientCnxn$SendThread@1029] - Opening socket connection to server localhost/127.0.0.1:11229. Will not attempt to authenticate using SASL (unknown error)
2018-06-28 17:41:05,889 [myid:] - INFO  [main-SendThread(localhost:11229):ClientCnxn$SendThread@879] - Socket connection established to localhost/127.0.0.1:11229, initiating session
2018-06-28 17:41:05,889 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11229:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:50864
2018-06-28 17:41:05,889 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11229:ZooKeeperServer@942] - Client attempting to renew session 0x200065474ec0000 at /127.0.0.1:50864
2018-06-28 17:41:05,890 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11229:Learner@108] - Revalidating client: 0x200065474ec0000
2018-06-28 17:41:05,891 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11229:ZooKeeperServer@694] - Established session 0x200065474ec0000 with negotiated timeout 30000 for client /127.0.0.1:50864
2018-06-28 17:41:05,891 [myid:] - INFO  [main-SendThread(localhost:11229):ClientCnxn$SendThread@1303] - Session establishment complete on server localhost/127.0.0.1:11229, sessionid = 0x200065474ec0000, negotiated timeout = 30000
2018-06-28 17:41:05,892 [myid:] - INFO  [main:ZxidRolloverTest@244] - Validating nodes 0 thru 22
2018-06-28 17:41:05,893 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000004
2018-06-28 17:41:05,894 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000005
2018-06-28 17:41:05,895 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000006
2018-06-28 17:41:05,896 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000007
2018-06-28 17:41:05,897 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000008
2018-06-28 17:41:05,898 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000009
2018-06-28 17:41:05,898 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000a
2018-06-28 17:41:05,899 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000b
2018-06-28 17:41:05,900 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000c
2018-06-28 17:41:05,901 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000d
2018-06-28 17:41:05,902 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000001
2018-06-28 17:41:05,903 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000002
2018-06-28 17:41:05,903 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000003
2018-06-28 17:41:05,904 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000004
2018-06-28 17:41:05,905 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000005
2018-06-28 17:41:05,906 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000006
2018-06-28 17:41:05,906 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000007
2018-06-28 17:41:05,909 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000008
2018-06-28 17:41:05,910 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000009
2018-06-28 17:41:05,911 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:20000000a
2018-06-28 17:41:05,913 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:2fffffffd
2018-06-28 17:41:05,914 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:2fffffffe
2018-06-28 17:41:05,914 [myid:] - INFO  [main:ZxidRolloverTest@225] - Creating nodes 22 thru 32
2018-06-28 17:41:05,916 [myid:] - WARN  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11227:Follower@119] - Got zxid 0x300000001 expected 0x1
2018-06-28 17:41:05,916 [myid:] - WARN  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11229:Follower@119] - Got zxid 0x300000001 expected 0x1
2018-06-28 17:41:05,916 [myid:] - INFO  [SyncThread:2:FileTxnLog@213] - Creating new log file: log.300000001
2018-06-28 17:41:05,927 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@301] - Snapshotting: 0x300000004 to /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test4412993038255892531.junit.dir/version-2/snapshot.300000004
2018-06-28 17:41:05,928 [myid:] - INFO  [SyncThread:3:FileTxnLog@213] - Creating new log file: log.300000006
2018-06-28 17:41:05,929 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@301] - Snapshotting: 0x300000005 to /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test1216897967743754487.junit.dir/version-2/snapshot.300000005
2018-06-28 17:41:05,929 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@301] - Snapshotting: 0x300000005 to /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test4356115805978574605.junit.dir/version-2/snapshot.300000005
2018-06-28 17:41:05,931 [myid:] - INFO  [SyncThread:2:FileTxnLog@213] - Creating new log file: log.300000007
2018-06-28 17:41:05,932 [myid:] - INFO  [SyncThread:1:FileTxnLog@213] - Creating new log file: log.300000007
2018-06-28 17:41:05,936 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@301] - Snapshotting: 0x300000009 to /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test4412993038255892531.junit.dir/version-2/snapshot.300000009
2018-06-28 17:41:05,937 [myid:] - INFO  [main:QuorumUtil@227] - Shutting down quorum peer QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11231
2018-06-28 17:41:05,937 [myid:] - INFO  [main:Leader@520] - Shutting down
2018-06-28 17:41:05,937 [myid:] - INFO  [main:Leader@526] - Shutdown called
java.lang.Exception: shutdown Leader! reason: quorum Peer shutdown
	at org.apache.zookeeper.server.quorum.Leader.shutdown(Leader.java:526)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1023)
	at org.apache.zookeeper.test.QuorumUtil.shutdown(QuorumUtil.java:228)
	at org.apache.zookeeper.server.ZxidRolloverTest.shutdown(ZxidRolloverTest.java:183)
	at org.apache.zookeeper.server.ZxidRolloverTest.testRolloverThenLeaderRestart(ZxidRolloverTest.java:386)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:536)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1205)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1048)
2018-06-28 17:41:05,937 [myid:] - INFO  [LearnerCnxAcceptor-/127.0.0.1:12231:Leader$LearnerCnxAcceptor@340] - exception while shutting down acceptor: java.net.SocketException: Socket closed
2018-06-28 17:41:05,937 [myid:] - INFO  [main:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:50851 which had sessionid 0x300065474ee0000
2018-06-28 17:41:05,938 [myid:] - INFO  [main:ZooKeeperServer@502] - shutting down
2018-06-28 17:41:05,938 [myid:] - INFO  [main-SendThread(localhost:11231):ClientCnxn$SendThread@1162] - Unable to read additional data from server sessionid 0x300065474ee0000, likely server has closed socket, closing socket connection and attempting reconnect
2018-06-28 17:41:05,938 [myid:] - INFO  [main:SessionTrackerImpl@226] - Shutting down
2018-06-28 17:41:05,938 [myid:] - INFO  [main:PrepRequestProcessor@769] - Shutting down
2018-06-28 17:41:05,938 [myid:] - INFO  [main:ProposalRequestProcessor@88] - Shutting down
2018-06-28 17:41:05,938 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::PrepRequestProcessor@144] - PrepRequestProcessor exited loop!
2018-06-28 17:41:05,938 [myid:] - INFO  [main:CommitProcessor@184] - Shutting down
2018-06-28 17:41:05,938 [myid:] - INFO  [main:Leader$ToBeAppliedRequestProcessor@685] - Shutting down
2018-06-28 17:41:05,938 [myid:] - INFO  [main:FinalRequestProcessor@403] - shutdown of request processor complete
2018-06-28 17:41:05,938 [myid:] - INFO  [main:SyncRequestProcessor@208] - Shutting down
2018-06-28 17:41:05,938 [myid:] - INFO  [CommitProcessor:3:CommitProcessor@153] - CommitProcessor exited loop!
2018-06-28 17:41:05,938 [myid:] - INFO  [SyncThread:3:SyncRequestProcessor@186] - SyncRequestProcessor exited!
2018-06-28 17:41:05,940 [myid:] - WARN  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11229:Follower@90] - Exception when following the leader
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:63)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:99)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:153)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:86)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:981)
2018-06-28 17:41:05,940 [myid:] - WARN  [LearnerHandler-/127.0.0.1:50850:LearnerHandler@661] - ******* GOODBYE /127.0.0.1:50850 ********
2018-06-28 17:41:05,940 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11231:NIOServerCnxnFactory@242] - NIOServerCnxn factory exited run method
2018-06-28 17:41:05,940 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11229:Follower@169] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:169)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:985)
2018-06-28 17:41:05,940 [myid:] - WARN  [LearnerHandler-/127.0.0.1:50849:LearnerHandler@661] - ******* GOODBYE /127.0.0.1:50849 ********
2018-06-28 17:41:05,940 [myid:] - WARN  [LearnerHandler-/127.0.0.1:50861:LearnerHandler@661] - ******* GOODBYE /127.0.0.1:50861 ********
2018-06-28 17:41:05,940 [myid:] - WARN  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11227:Follower@90] - Exception when following the leader
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:63)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:99)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:153)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:86)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:981)
2018-06-28 17:41:05,942 [myid:] - INFO  [main:QuorumUtil@231] - Shutting down leader election QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11231
2018-06-28 17:41:05,942 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11227:Follower@169] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:169)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:985)
2018-06-28 17:41:05,942 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1025] - Connection broken for id 2, my id = 3, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1010)
2018-06-28 17:41:05,942 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1028] - Interrupting SendWorker
2018-06-28 17:41:05,942 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@941] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:418)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1094)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$700(QuorumCnxManager.java:74)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:929)
2018-06-28 17:41:05,943 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@951] - Send worker leaving thread
2018-06-28 17:41:05,941 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1025] - Connection broken for id 3, my id = 2, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1010)
2018-06-28 17:41:05,943 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1028] - Interrupting SendWorker
2018-06-28 17:41:05,941 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@941] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:418)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1094)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$700(QuorumCnxManager.java:74)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:929)
2018-06-28 17:41:05,943 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@951] - Send worker leaving thread
2018-06-28 17:41:05,941 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1025] - Connection broken for id 1, my id = 3, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1010)
2018-06-28 17:41:05,943 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1028] - Interrupting SendWorker
2018-06-28 17:41:05,941 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1025] - Connection broken for id 3, my id = 1, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1010)
2018-06-28 17:41:05,943 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1028] - Interrupting SendWorker
2018-06-28 17:41:05,941 [myid:] - WARN  [LearnerHandler-/127.0.0.1:50861:LearnerHandler@673] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1220)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:335)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:339)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:671)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:664)
2018-06-28 17:41:05,941 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11229:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:50864 which had sessionid 0x200065474ec0000
2018-06-28 17:41:05,941 [myid:] - ERROR [/127.0.0.1:12232:QuorumCnxManager$Listener@760] - Exception while listening
java.net.SocketException: Socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:409)
	at java.net.ServerSocket.implAccept(ServerSocket.java:545)
	at java.net.ServerSocket.accept(ServerSocket.java:513)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$Listener.run(QuorumCnxManager.java:741)
2018-06-28 17:41:05,941 [myid:] - WARN  [LearnerHandler-/127.0.0.1:50849:LearnerHandler@673] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1220)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:335)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:339)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:671)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:664)
2018-06-28 17:41:05,941 [myid:] - WARN  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11231:QuorumPeer@997] - Unexpected exception
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at org.apache.zookeeper.server.quorum.Leader.lead(Leader.java:474)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:994)
2018-06-28 17:41:05,944 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11231:Leader@520] - Shutting down
2018-06-28 17:41:05,944 [myid:] - WARN  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11231:QuorumPeer@1009] - QuorumPeer main thread exited
2018-06-28 17:41:05,940 [myid:] - WARN  [LearnerHandler-/127.0.0.1:50850:LearnerHandler@673] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1220)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:335)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:339)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:671)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:664)
2018-06-28 17:41:05,944 [myid:] - INFO  [main-SendThread(localhost:11229):ClientCnxn$SendThread@1162] - Unable to read additional data from server sessionid 0x200065474ec0000, likely server has closed socket, closing socket connection and attempting reconnect
2018-06-28 17:41:05,944 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11229:FollowerZooKeeperServer@140] - Shutting down
2018-06-28 17:41:05,944 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@941] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:418)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1094)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$700(QuorumCnxManager.java:74)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:929)
2018-06-28 17:41:05,945 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@951] - Send worker leaving thread
2018-06-28 17:41:05,943 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@941] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:418)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1094)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$700(QuorumCnxManager.java:74)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:929)
2018-06-28 17:41:05,945 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@951] - Send worker leaving thread
2018-06-28 17:41:05,942 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11227:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:50853 which had sessionid 0x100065474ec0000
2018-06-28 17:41:05,942 [myid:] - INFO  [main:QuorumUtil@236] - Waiting for QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11231 to exit thread
2018-06-28 17:41:05,945 [myid:] - INFO  [main-SendThread(localhost:11227):ClientCnxn$SendThread@1162] - Unable to read additional data from server sessionid 0x100065474ec0000, likely server has closed socket, closing socket connection and attempting reconnect
2018-06-28 17:41:05,945 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11231
2018-06-28 17:41:05,945 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11227:FollowerZooKeeperServer@140] - Shutting down
2018-06-28 17:41:05,946 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11227:ZooKeeperServer@502] - shutting down
2018-06-28 17:41:05,946 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11227:FollowerRequestProcessor@107] - Shutting down
2018-06-28 17:41:05,945 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11229:ZooKeeperServer@502] - shutting down
2018-06-28 17:41:05,946 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11229:FollowerRequestProcessor@107] - Shutting down
2018-06-28 17:41:05,946 [myid:] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@97] - FollowerRequestProcessor exited loop!
2018-06-28 17:41:05,946 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11227:CommitProcessor@184] - Shutting down
2018-06-28 17:41:05,946 [myid:] - INFO  [FollowerRequestProcessor:2:FollowerRequestProcessor@97] - FollowerRequestProcessor exited loop!
2018-06-28 17:41:05,946 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11229:CommitProcessor@184] - Shutting down
2018-06-28 17:41:05,946 [myid:] - INFO  [CommitProcessor:1:CommitProcessor@153] - CommitProcessor exited loop!
2018-06-28 17:41:05,946 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11227:FinalRequestProcessor@403] - shutdown of request processor complete
2018-06-28 17:41:05,946 [myid:] - INFO  [CommitProcessor:2:CommitProcessor@153] - CommitProcessor exited loop!
2018-06-28 17:41:05,946 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11229:FinalRequestProcessor@403] - shutdown of request processor complete
2018-06-28 17:41:05,947 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11227:SyncRequestProcessor@208] - Shutting down
2018-06-28 17:41:05,947 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11229:SyncRequestProcessor@208] - Shutting down
2018-06-28 17:41:05,947 [myid:] - INFO  [SyncThread:1:SyncRequestProcessor@186] - SyncRequestProcessor exited!
2018-06-28 17:41:05,947 [myid:] - INFO  [SyncThread:2:SyncRequestProcessor@186] - SyncRequestProcessor exited!
2018-06-28 17:41:05,947 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11227:QuorumPeer@909] - LOOKING
2018-06-28 17:41:05,947 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11229:QuorumPeer@909] - LOOKING
2018-06-28 17:41:05,947 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11227:FastLeaderElection@813] - New election. My id =  1, proposed zxid=0x30000000a
2018-06-28 17:41:05,947 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11229:FastLeaderElection@813] - New election. My id =  2, proposed zxid=0x30000000a
2018-06-28 17:41:05,948 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x30000000a (n.zxid), 0x4 (n.round), LOOKING (n.state), 1 (n.sid), 0x3 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:05,948 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x30000000a (n.zxid), 0x4 (n.round), LOOKING (n.state), 2 (n.sid), 0x3 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:05,948 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x30000000a (n.zxid), 0x4 (n.round), LOOKING (n.state), 2 (n.sid), 0x3 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:05,948 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x30000000a (n.zxid), 0x4 (n.round), LOOKING (n.state), 1 (n.sid), 0x3 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:05,948 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@584] - Cannot open channel to 3 at election address /127.0.0.1:12232
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:558)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:534)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:454)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:435)
	at java.lang.Thread.run(Thread.java:748)
2018-06-28 17:41:05,948 [myid:] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@584] - Cannot open channel to 3 at election address /127.0.0.1:12232
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:558)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:534)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:454)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:435)
	at java.lang.Thread.run(Thread.java:748)
2018-06-28 17:41:05,948 [myid:] - INFO  [WorkerSender[myid=1]:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:41:05,949 [myid:] - INFO  [WorkerSender[myid=2]:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:41:05,949 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x30000000a (n.zxid), 0x4 (n.round), LOOKING (n.state), 1 (n.sid), 0x3 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:05,949 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x30000000a (n.zxid), 0x4 (n.round), LOOKING (n.state), 1 (n.sid), 0x3 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:05,949 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@584] - Cannot open channel to 3 at election address /127.0.0.1:12232
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:558)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:534)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:454)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:435)
	at java.lang.Thread.run(Thread.java:748)
2018-06-28 17:41:05,950 [myid:] - INFO  [WorkerSender[myid=1]:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:41:06,150 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11229:QuorumPeer@991] - LEADING
2018-06-28 17:41:06,151 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11229:ZooKeeperServer@174] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test1216897967743754487.junit.dir/version-2 snapdir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test1216897967743754487.junit.dir/version-2
2018-06-28 17:41:06,151 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11227:QuorumPeer@979] - FOLLOWING
2018-06-28 17:41:06,151 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11227:ZooKeeperServer@174] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test4356115805978574605.junit.dir/version-2 snapdir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test4356115805978574605.junit.dir/version-2
2018-06-28 17:41:06,151 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11229:Leader@380] - LEADING - LEADER ELECTION TOOK - 203
2018-06-28 17:41:06,151 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11227:Follower@65] - FOLLOWING - LEADER ELECTION TOOK - 204
2018-06-28 17:41:06,152 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11227:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:41:06,153 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50869:LearnerHandler@346] - Follower sid: 1 : info : org.apache.zookeeper.server.quorum.QuorumPeer$QuorumServer@68019971
2018-06-28 17:41:06,155 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50869:LearnerHandler@401] - Synchronizing with Follower sid: 1 maxCommittedLog=0x30000000a minCommittedLog=0x200000009 peerLastZxid=0x30000000a
2018-06-28 17:41:06,155 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50869:LearnerHandler@410] - leader and follower are in sync, zxid=0x30000000a
2018-06-28 17:41:06,155 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50869:LearnerHandler@475] - Sending DIFF
2018-06-28 17:41:06,156 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11227:Learner@332] - Getting a diff from the leader 0x30000000a
2018-06-28 17:41:06,157 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50869:LearnerHandler@535] - Received NEWLEADER-ACK message from 1
2018-06-28 17:41:06,157 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11229:Leader@964] - Have quorum of supporters, sids: [ 1,2 ]; starting up and setting last processed zxid: 0x400000000
2018-06-28 17:41:06,666 [myid:] - INFO  [SessionTracker:SessionTrackerImpl@163] - SessionTrackerImpl exited loop!
2018-06-28 17:41:06,948 [myid:] - INFO  [/127.0.0.1:12232:QuorumCnxManager$Listener@773] - Leaving listener
2018-06-28 17:41:07,249 [myid:] - INFO  [main-SendThread(localhost:11227):ClientCnxn$SendThread@1029] - Opening socket connection to server localhost/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
2018-06-28 17:41:07,249 [myid:] - INFO  [main-SendThread(localhost:11227):ClientCnxn$SendThread@879] - Socket connection established to localhost/127.0.0.1:11227, initiating session
2018-06-28 17:41:07,249 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11227:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:50870
2018-06-28 17:41:07,250 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11227:ZooKeeperServer@942] - Client attempting to renew session 0x100065474ec0000 at /127.0.0.1:50870
2018-06-28 17:41:07,250 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11227:Learner@108] - Revalidating client: 0x100065474ec0000
2018-06-28 17:41:07,251 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11227:ZooKeeperServer@694] - Established session 0x100065474ec0000 with negotiated timeout 30000 for client /127.0.0.1:50870
2018-06-28 17:41:07,251 [myid:] - INFO  [main-SendThread(localhost:11227):ClientCnxn$SendThread@1303] - Session establishment complete on server localhost/127.0.0.1:11227, sessionid = 0x100065474ec0000, negotiated timeout = 30000
2018-06-28 17:41:07,254 [myid:] - INFO  [WorkerSender[myid=3]:FastLeaderElection$Messenger$WorkerSender@440] - WorkerSender is down
2018-06-28 17:41:07,254 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@409] - WorkerReceiver is down
2018-06-28 17:41:07,738 [myid:] - INFO  [main-SendThread(localhost:11229):ClientCnxn$SendThread@1029] - Opening socket connection to server localhost/127.0.0.1:11229. Will not attempt to authenticate using SASL (unknown error)
2018-06-28 17:41:07,739 [myid:] - INFO  [main-SendThread(localhost:11229):ClientCnxn$SendThread@879] - Socket connection established to localhost/127.0.0.1:11229, initiating session
2018-06-28 17:41:07,739 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11229:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:50871
2018-06-28 17:41:07,739 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11229:ZooKeeperServer@942] - Client attempting to renew session 0x200065474ec0000 at /127.0.0.1:50871
2018-06-28 17:41:07,740 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11229:ZooKeeperServer@694] - Established session 0x200065474ec0000 with negotiated timeout 30000 for client /127.0.0.1:50871
2018-06-28 17:41:07,740 [myid:] - INFO  [main-SendThread(localhost:11229):ClientCnxn$SendThread@1303] - Session establishment complete on server localhost/127.0.0.1:11229, sessionid = 0x200065474ec0000, negotiated timeout = 30000
2018-06-28 17:41:07,740 [myid:] - INFO  [main:QuorumUtil@186] - Creating QuorumPeer 3; public port 11231
2018-06-28 17:41:07,741 [myid:] - INFO  [main:ServerCnxnFactory@117] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2018-06-28 17:41:07,741 [myid:] - INFO  [main:NIOServerCnxnFactory@89] - binding to port 0.0.0.0/0.0.0.0:11231
2018-06-28 17:41:07,742 [myid:] - INFO  [main:FileSnap@86] - Reading snapshot /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test4412993038255892531.junit.dir/version-2/snapshot.300000009
2018-06-28 17:41:07,745 [myid:] - INFO  [ListenerThread:QuorumCnxManager$Listener@736] - My election bind port: /127.0.0.1:12232
2018-06-28 17:41:07,745 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11227
2018-06-28 17:41:07,746 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11227:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:50872
2018-06-28 17:41:07,747 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11227:NIOServerCnxn@908] - Processing stat command from /127.0.0.1:50872
2018-06-28 17:41:07,747 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11231:QuorumPeer@909] - LOOKING
2018-06-28 17:41:07,747 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11231:FastLeaderElection@813] - New election. My id =  3, proposed zxid=0x30000000a
2018-06-28 17:41:07,747 [myid:] - INFO  [Thread-32:NIOServerCnxn$StatCommand@687] - Stat command output
2018-06-28 17:41:07,747 [myid:] - INFO  [Thread-32:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:50872 (no session established for client)
2018-06-28 17:41:07,748 [myid:] - INFO  [/127.0.0.1:12228:QuorumCnxManager$Listener@743] - Received connection request /127.0.0.1:50873
2018-06-28 17:41:07,748 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11229
2018-06-28 17:41:07,749 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11229:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:50874
2018-06-28 17:41:07,750 [myid:] - INFO  [/127.0.0.1:12230:QuorumCnxManager$Listener@743] - Received connection request /127.0.0.1:50875
2018-06-28 17:41:07,750 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x30000000a (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x3 (n.peerEpoch) FOLLOWING (my state)
2018-06-28 17:41:07,750 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x30000000a (n.zxid), 0x4 (n.round), LOOKING (n.state), 1 (n.sid), 0x3 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:07,750 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11229:NIOServerCnxn@908] - Processing stat command from /127.0.0.1:50874
2018-06-28 17:41:07,751 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x30000000a (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x3 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:07,751 [myid:] - INFO  [Thread-33:NIOServerCnxn$StatCommand@687] - Stat command output
2018-06-28 17:41:07,751 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x30000000a (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x3 (n.peerEpoch) LEADING (my state)
2018-06-28 17:41:07,751 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x30000000a (n.zxid), 0x4 (n.round), LOOKING (n.state), 3 (n.sid), 0x3 (n.peerEpoch) FOLLOWING (my state)
2018-06-28 17:41:07,751 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x30000000a (n.zxid), 0x4 (n.round), FOLLOWING (n.state), 1 (n.sid), 0x4 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:07,752 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x30000000a (n.zxid), 0x4 (n.round), LOOKING (n.state), 3 (n.sid), 0x3 (n.peerEpoch) LEADING (my state)
2018-06-28 17:41:07,752 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x30000000a (n.zxid), 0x4 (n.round), LOOKING (n.state), 3 (n.sid), 0x3 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:07,752 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x30000000a (n.zxid), 0x4 (n.round), LOOKING (n.state), 3 (n.sid), 0x3 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:07,752 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x30000000a (n.zxid), 0x4 (n.round), LOOKING (n.state), 2 (n.sid), 0x3 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:07,752 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x30000000a (n.zxid), 0x4 (n.round), LEADING (n.state), 2 (n.sid), 0x4 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:07,752 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x30000000a (n.zxid), 0x4 (n.round), FOLLOWING (n.state), 1 (n.sid), 0x4 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:07,752 [myid:] - INFO  [Thread-33:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:50874 (no session established for client)
2018-06-28 17:41:07,752 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x30000000a (n.zxid), 0x4 (n.round), LEADING (n.state), 2 (n.sid), 0x4 (n.peerEpoch) FOLLOWING (my state)
2018-06-28 17:41:07,753 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11231:QuorumPeer@979] - FOLLOWING
2018-06-28 17:41:07,753 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11231
2018-06-28 17:41:07,753 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11231:ZooKeeperServer@174] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test4412993038255892531.junit.dir/version-2 snapdir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test4412993038255892531.junit.dir/version-2
2018-06-28 17:41:07,754 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11231:Follower@65] - FOLLOWING - LEADER ELECTION TOOK - 7
2018-06-28 17:41:07,754 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11231:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:50876
2018-06-28 17:41:07,754 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11231:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:41:07,755 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11231:NIOServerCnxn@908] - Processing stat command from /127.0.0.1:50876
2018-06-28 17:41:07,756 [myid:] - INFO  [Thread-34:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:50876 (no session established for client)
2018-06-28 17:41:07,756 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50877:LearnerHandler@346] - Follower sid: 3 : info : org.apache.zookeeper.server.quorum.QuorumPeer$QuorumServer@6ffc15ad
2018-06-28 17:41:07,757 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50877:LearnerHandler@401] - Synchronizing with Follower sid: 3 maxCommittedLog=0x30000000a minCommittedLog=0x200000009 peerLastZxid=0x30000000a
2018-06-28 17:41:07,757 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50877:LearnerHandler@475] - Sending DIFF
2018-06-28 17:41:07,758 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11231:Learner@332] - Getting a diff from the leader 0x30000000a
2018-06-28 17:41:07,759 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50877:LearnerHandler@535] - Received NEWLEADER-ACK message from 3
2018-06-28 17:41:08,011 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11231
2018-06-28 17:41:08,012 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11231:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:50878
2018-06-28 17:41:08,012 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11231:NIOServerCnxn@908] - Processing stat command from /127.0.0.1:50878
2018-06-28 17:41:08,013 [myid:] - INFO  [Thread-36:NIOServerCnxn$StatCommand@687] - Stat command output
2018-06-28 17:41:08,013 [myid:] - INFO  [Thread-36:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:50878 (no session established for client)
2018-06-28 17:41:08,034 [myid:] - INFO  [main-SendThread(localhost:11231):ClientCnxn$SendThread@1029] - Opening socket connection to server localhost/127.0.0.1:11231. Will not attempt to authenticate using SASL (unknown error)
2018-06-28 17:41:08,034 [myid:] - INFO  [main-SendThread(localhost:11231):ClientCnxn$SendThread@879] - Socket connection established to localhost/127.0.0.1:11231, initiating session
2018-06-28 17:41:08,034 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11231:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:50879
2018-06-28 17:41:08,034 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11231:ZooKeeperServer@942] - Client attempting to renew session 0x300065474ee0000 at /127.0.0.1:50879
2018-06-28 17:41:08,034 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11231:Learner@108] - Revalidating client: 0x300065474ee0000
2018-06-28 17:41:08,036 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11231:ZooKeeperServer@694] - Established session 0x300065474ee0000 with negotiated timeout 30000 for client /127.0.0.1:50879
2018-06-28 17:41:08,036 [myid:] - INFO  [main-SendThread(localhost:11231):ClientCnxn$SendThread@1303] - Session establishment complete on server localhost/127.0.0.1:11231, sessionid = 0x300065474ee0000, negotiated timeout = 30000
2018-06-28 17:41:08,036 [myid:] - INFO  [main:ZxidRolloverTest@244] - Validating nodes 0 thru 32
2018-06-28 17:41:08,037 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000004
2018-06-28 17:41:08,037 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000005
2018-06-28 17:41:08,038 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000006
2018-06-28 17:41:08,038 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000007
2018-06-28 17:41:08,039 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000008
2018-06-28 17:41:08,040 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000009
2018-06-28 17:41:08,040 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000a
2018-06-28 17:41:08,041 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000b
2018-06-28 17:41:08,042 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000c
2018-06-28 17:41:08,042 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000d
2018-06-28 17:41:08,043 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000001
2018-06-28 17:41:08,044 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000002
2018-06-28 17:41:08,045 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000003
2018-06-28 17:41:08,045 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000004
2018-06-28 17:41:08,046 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000005
2018-06-28 17:41:08,047 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000006
2018-06-28 17:41:08,048 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000007
2018-06-28 17:41:08,049 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000008
2018-06-28 17:41:08,050 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000009
2018-06-28 17:41:08,051 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:20000000a
2018-06-28 17:41:08,051 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:2fffffffd
2018-06-28 17:41:08,052 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:2fffffffe
2018-06-28 17:41:08,053 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:300000001
2018-06-28 17:41:08,054 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:300000002
2018-06-28 17:41:08,055 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:300000003
2018-06-28 17:41:08,055 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:300000004
2018-06-28 17:41:08,056 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:300000005
2018-06-28 17:41:08,056 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:300000006
2018-06-28 17:41:08,057 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:300000007
2018-06-28 17:41:08,058 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:300000008
2018-06-28 17:41:08,059 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:300000009
2018-06-28 17:41:08,060 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:30000000a
2018-06-28 17:41:08,060 [myid:] - INFO  [main:ZxidRolloverTest@225] - Creating nodes 32 thru 42
2018-06-28 17:41:08,063 [myid:] - WARN  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11231:Follower@119] - Got zxid 0x400000001 expected 0x1
2018-06-28 17:41:08,063 [myid:] - WARN  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11227:Follower@119] - Got zxid 0x400000001 expected 0x1
2018-06-28 17:41:08,063 [myid:] - INFO  [SyncThread:3:FileTxnLog@213] - Creating new log file: log.400000001
2018-06-28 17:41:08,070 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@301] - Snapshotting: 0x400000004 to /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test1216897967743754487.junit.dir/version-2/snapshot.400000004
2018-06-28 17:41:08,070 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@301] - Snapshotting: 0x400000004 to /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test4356115805978574605.junit.dir/version-2/snapshot.400000004
2018-06-28 17:41:08,072 [myid:] - INFO  [SyncThread:2:FileTxnLog@213] - Creating new log file: log.400000006
2018-06-28 17:41:08,072 [myid:] - INFO  [SyncThread:1:FileTxnLog@213] - Creating new log file: log.400000006
2018-06-28 17:41:08,072 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@301] - Snapshotting: 0x400000005 to /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test4412993038255892531.junit.dir/version-2/snapshot.400000005
2018-06-28 17:41:08,075 [myid:] - INFO  [SyncThread:3:FileTxnLog@213] - Creating new log file: log.400000007
2018-06-28 17:41:08,081 [myid:] - INFO  [main:ZxidRolloverTest@213] - tearDown starting
2018-06-28 17:41:08,082 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::PrepRequestProcessor@487] - Processed session termination for sessionid: 0x100065474ec0000
2018-06-28 17:41:08,082 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@301] - Snapshotting: 0x40000000a to /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test4412993038255892531.junit.dir/version-2/snapshot.40000000a
2018-06-28 17:41:08,083 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@301] - Snapshotting: 0x40000000a to /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test4356115805978574605.junit.dir/version-2/snapshot.40000000a
2018-06-28 17:41:08,083 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@301] - Snapshotting: 0x40000000a to /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test1216897967743754487.junit.dir/version-2/snapshot.40000000a
2018-06-28 17:41:08,085 [myid:] - INFO  [main:ZooKeeper@693] - Session: 0x100065474ec0000 closed
2018-06-28 17:41:08,085 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@522] - EventThread shut down for session: 0x100065474ec0000
2018-06-28 17:41:08,085 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11227:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:50870 which had sessionid 0x100065474ec0000
2018-06-28 17:41:08,086 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::PrepRequestProcessor@487] - Processed session termination for sessionid: 0x200065474ec0000
2018-06-28 17:41:08,086 [myid:] - INFO  [SyncThread:2:FileTxnLog@213] - Creating new log file: log.40000000c
2018-06-28 17:41:08,086 [myid:] - INFO  [SyncThread:3:FileTxnLog@213] - Creating new log file: log.40000000c
2018-06-28 17:41:08,086 [myid:] - INFO  [SyncThread:1:FileTxnLog@213] - Creating new log file: log.40000000c
2018-06-28 17:41:08,089 [myid:] - INFO  [main:ZooKeeper@693] - Session: 0x200065474ec0000 closed
2018-06-28 17:41:08,089 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@522] - EventThread shut down for session: 0x200065474ec0000
2018-06-28 17:41:08,089 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11229:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:50871 which had sessionid 0x200065474ec0000
2018-06-28 17:41:08,089 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::PrepRequestProcessor@487] - Processed session termination for sessionid: 0x300065474ee0000
2018-06-28 17:41:08,090 [myid:] - INFO  [main:ZooKeeper@693] - Session: 0x300065474ee0000 closed
2018-06-28 17:41:08,090 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11231:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:50879 which had sessionid 0x300065474ee0000
2018-06-28 17:41:08,090 [myid:] - INFO  [main:QuorumUtil@227] - Shutting down quorum peer QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11227
2018-06-28 17:41:08,090 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@522] - EventThread shut down for session: 0x300065474ee0000
2018-06-28 17:41:08,090 [myid:] - INFO  [main:Follower@169] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:169)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1026)
	at org.apache.zookeeper.test.QuorumUtil.shutdown(QuorumUtil.java:228)
	at org.apache.zookeeper.test.QuorumUtil.shutdownAll(QuorumUtil.java:215)
	at org.apache.zookeeper.server.ZxidRolloverTest.tearDown(ZxidRolloverTest.java:217)
	at junit.framework.TestCase.runBare(TestCase.java:146)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:536)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1205)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1048)
2018-06-28 17:41:08,091 [myid:] - INFO  [main:FollowerZooKeeperServer@140] - Shutting down
2018-06-28 17:41:08,091 [myid:] - INFO  [main:ZooKeeperServer@502] - shutting down
2018-06-28 17:41:08,091 [myid:] - INFO  [main:FollowerRequestProcessor@107] - Shutting down
2018-06-28 17:41:08,091 [myid:] - INFO  [main:CommitProcessor@184] - Shutting down
2018-06-28 17:41:08,091 [myid:] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@97] - FollowerRequestProcessor exited loop!
2018-06-28 17:41:08,091 [myid:] - INFO  [CommitProcessor:1:CommitProcessor@153] - CommitProcessor exited loop!
2018-06-28 17:41:08,091 [myid:] - INFO  [main:FinalRequestProcessor@403] - shutdown of request processor complete
2018-06-28 17:41:08,092 [myid:] - INFO  [main:SyncRequestProcessor@208] - Shutting down
2018-06-28 17:41:08,092 [myid:] - INFO  [SyncThread:1:SyncRequestProcessor@186] - SyncRequestProcessor exited!
2018-06-28 17:41:08,092 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11227:NIOServerCnxnFactory@242] - NIOServerCnxn factory exited run method
2018-06-28 17:41:08,093 [myid:] - ERROR [/127.0.0.1:12228:QuorumCnxManager$Listener@760] - Exception while listening
java.net.SocketException: Socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:409)
	at java.net.ServerSocket.implAccept(ServerSocket.java:545)
	at java.net.ServerSocket.accept(ServerSocket.java:513)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$Listener.run(QuorumCnxManager.java:741)
2018-06-28 17:41:08,093 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1025] - Connection broken for id 2, my id = 1, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1010)
2018-06-28 17:41:08,094 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1028] - Interrupting SendWorker
2018-06-28 17:41:08,093 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1025] - Connection broken for id 1, my id = 2, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1010)
2018-06-28 17:41:08,094 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1028] - Interrupting SendWorker
2018-06-28 17:41:08,093 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@941] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:418)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1094)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$700(QuorumCnxManager.java:74)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:929)
2018-06-28 17:41:08,095 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@941] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:418)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1094)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$700(QuorumCnxManager.java:74)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:929)
2018-06-28 17:41:08,095 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@951] - Send worker leaving thread
2018-06-28 17:41:08,095 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@951] - Send worker leaving thread
2018-06-28 17:41:08,094 [myid:] - INFO  [main:QuorumUtil@231] - Shutting down leader election QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11227
2018-06-28 17:41:08,094 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@941] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:418)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1094)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$700(QuorumCnxManager.java:74)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:929)
2018-06-28 17:41:08,095 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@951] - Send worker leaving thread
2018-06-28 17:41:08,094 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1025] - Connection broken for id 3, my id = 1, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1010)
2018-06-28 17:41:08,095 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1028] - Interrupting SendWorker
2018-06-28 17:41:08,093 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1025] - Connection broken for id 1, my id = 3, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1010)
2018-06-28 17:41:08,096 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1028] - Interrupting SendWorker
2018-06-28 17:41:08,095 [myid:] - INFO  [main:QuorumUtil@236] - Waiting for QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11227 to exit thread
2018-06-28 17:41:08,096 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@941] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:418)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1094)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$700(QuorumCnxManager.java:74)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:929)
2018-06-28 17:41:08,096 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@951] - Send worker leaving thread
2018-06-28 17:41:08,162 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11227:Follower@169] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:169)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:985)
2018-06-28 17:41:08,162 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11227:FollowerZooKeeperServer@140] - Shutting down
2018-06-28 17:41:08,162 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11227:SyncRequestProcessor@208] - Shutting down
2018-06-28 17:41:08,162 [myid:] - WARN  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11227:QuorumPeer@1009] - QuorumPeer main thread exited
2018-06-28 17:41:08,163 [myid:] - INFO  [main:QuorumUtil@227] - Shutting down quorum peer QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11229
2018-06-28 17:41:08,163 [myid:] - INFO  [main:Leader@520] - Shutting down
2018-06-28 17:41:08,163 [myid:] - INFO  [main:Leader@526] - Shutdown called
java.lang.Exception: shutdown Leader! reason: quorum Peer shutdown
	at org.apache.zookeeper.server.quorum.Leader.shutdown(Leader.java:526)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1023)
	at org.apache.zookeeper.test.QuorumUtil.shutdown(QuorumUtil.java:228)
	at org.apache.zookeeper.test.QuorumUtil.shutdownAll(QuorumUtil.java:215)
	at org.apache.zookeeper.server.ZxidRolloverTest.tearDown(ZxidRolloverTest.java:217)
	at junit.framework.TestCase.runBare(TestCase.java:146)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:536)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1205)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1048)
2018-06-28 17:41:08,163 [myid:] - INFO  [main:ZooKeeperServer@502] - shutting down
2018-06-28 17:41:08,163 [myid:] - INFO  [LearnerCnxAcceptor-/127.0.0.1:12229:Leader$LearnerCnxAcceptor@340] - exception while shutting down acceptor: java.net.SocketException: Socket closed
2018-06-28 17:41:08,163 [myid:] - INFO  [main:SessionTrackerImpl@226] - Shutting down
2018-06-28 17:41:08,164 [myid:] - INFO  [main:PrepRequestProcessor@769] - Shutting down
2018-06-28 17:41:08,164 [myid:] - INFO  [main:ProposalRequestProcessor@88] - Shutting down
2018-06-28 17:41:08,164 [myid:] - INFO  [main:CommitProcessor@184] - Shutting down
2018-06-28 17:41:08,164 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::PrepRequestProcessor@144] - PrepRequestProcessor exited loop!
2018-06-28 17:41:08,164 [myid:] - INFO  [CommitProcessor:2:CommitProcessor@153] - CommitProcessor exited loop!
2018-06-28 17:41:08,164 [myid:] - INFO  [main:Leader$ToBeAppliedRequestProcessor@685] - Shutting down
2018-06-28 17:41:08,164 [myid:] - INFO  [main:FinalRequestProcessor@403] - shutdown of request processor complete
2018-06-28 17:41:08,164 [myid:] - INFO  [main:SyncRequestProcessor@208] - Shutting down
2018-06-28 17:41:08,164 [myid:] - INFO  [SyncThread:2:SyncRequestProcessor@186] - SyncRequestProcessor exited!
2018-06-28 17:41:08,165 [myid:] - WARN  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11231:Follower@90] - Exception when following the leader
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:63)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:99)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:153)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:86)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:981)
2018-06-28 17:41:08,166 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11229:NIOServerCnxnFactory@242] - NIOServerCnxn factory exited run method
2018-06-28 17:41:08,165 [myid:] - WARN  [LearnerHandler-/127.0.0.1:50877:LearnerHandler@661] - ******* GOODBYE /127.0.0.1:50877 ********
2018-06-28 17:41:08,165 [myid:] - WARN  [LearnerHandler-/127.0.0.1:50869:LearnerHandler@661] - ******* GOODBYE /127.0.0.1:50869 ********
2018-06-28 17:41:08,166 [myid:] - WARN  [LearnerHandler-/127.0.0.1:50869:LearnerHandler@673] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1220)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:335)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:339)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:671)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:664)
2018-06-28 17:41:08,167 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1025] - Connection broken for id 2, my id = 3, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1010)
2018-06-28 17:41:08,167 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@941] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:418)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1094)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$700(QuorumCnxManager.java:74)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:929)
2018-06-28 17:41:08,166 [myid:] - ERROR [/127.0.0.1:12230:QuorumCnxManager$Listener@760] - Exception while listening
java.net.SocketException: Socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:409)
	at java.net.ServerSocket.implAccept(ServerSocket.java:545)
	at java.net.ServerSocket.accept(ServerSocket.java:513)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$Listener.run(QuorumCnxManager.java:741)
2018-06-28 17:41:08,166 [myid:] - WARN  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11229:QuorumPeer@997] - Unexpected exception
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at org.apache.zookeeper.server.quorum.Leader.lead(Leader.java:474)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:994)
2018-06-28 17:41:08,168 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11229:Leader@520] - Shutting down
2018-06-28 17:41:08,166 [myid:] - WARN  [LearnerHandler-/127.0.0.1:50877:LearnerHandler@673] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1220)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:335)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:339)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:671)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:664)
2018-06-28 17:41:08,166 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11231:Follower@169] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:169)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:985)
2018-06-28 17:41:08,168 [myid:] - WARN  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11229:QuorumPeer@1009] - QuorumPeer main thread exited
2018-06-28 17:41:08,167 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@951] - Send worker leaving thread
2018-06-28 17:41:08,167 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1028] - Interrupting SendWorker
2018-06-28 17:41:08,167 [myid:] - INFO  [main:QuorumUtil@231] - Shutting down leader election QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11229
2018-06-28 17:41:08,167 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1025] - Connection broken for id 3, my id = 2, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1010)
2018-06-28 17:41:08,169 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1028] - Interrupting SendWorker
2018-06-28 17:41:08,169 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@941] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:418)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1094)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$700(QuorumCnxManager.java:74)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:929)
2018-06-28 17:41:08,169 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@951] - Send worker leaving thread
2018-06-28 17:41:08,169 [myid:] - INFO  [main:QuorumUtil@236] - Waiting for QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11229 to exit thread
2018-06-28 17:41:08,168 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11231:FollowerZooKeeperServer@140] - Shutting down
2018-06-28 17:41:08,169 [myid:] - INFO  [main:QuorumUtil@227] - Shutting down quorum peer QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11231
2018-06-28 17:41:08,169 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11231:ZooKeeperServer@502] - shutting down
2018-06-28 17:41:08,170 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11231:FollowerRequestProcessor@107] - Shutting down
2018-06-28 17:41:08,169 [myid:] - INFO  [main:Follower@169] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:169)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1026)
	at org.apache.zookeeper.test.QuorumUtil.shutdown(QuorumUtil.java:228)
	at org.apache.zookeeper.test.QuorumUtil.shutdownAll(QuorumUtil.java:215)
	at org.apache.zookeeper.server.ZxidRolloverTest.tearDown(ZxidRolloverTest.java:217)
	at junit.framework.TestCase.runBare(TestCase.java:146)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:536)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1205)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1048)
2018-06-28 17:41:08,170 [myid:] - INFO  [FollowerRequestProcessor:3:FollowerRequestProcessor@97] - FollowerRequestProcessor exited loop!
2018-06-28 17:41:08,170 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11231:CommitProcessor@184] - Shutting down
2018-06-28 17:41:08,170 [myid:] - INFO  [main:FollowerZooKeeperServer@140] - Shutting down
2018-06-28 17:41:08,170 [myid:] - INFO  [CommitProcessor:3:CommitProcessor@153] - CommitProcessor exited loop!
2018-06-28 17:41:08,170 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11231:FinalRequestProcessor@403] - shutdown of request processor complete
2018-06-28 17:41:08,171 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11231:SyncRequestProcessor@208] - Shutting down
2018-06-28 17:41:08,171 [myid:] - INFO  [main:SyncRequestProcessor@208] - Shutting down
2018-06-28 17:41:08,171 [myid:] - INFO  [SyncThread:3:SyncRequestProcessor@186] - SyncRequestProcessor exited!
2018-06-28 17:41:08,171 [myid:] - WARN  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11231:QuorumPeer@1009] - QuorumPeer main thread exited
2018-06-28 17:41:08,171 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11231:NIOServerCnxnFactory@242] - NIOServerCnxn factory exited run method
2018-06-28 17:41:08,172 [myid:] - ERROR [/127.0.0.1:12232:QuorumCnxManager$Listener@760] - Exception while listening
java.net.SocketException: Socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:409)
	at java.net.ServerSocket.implAccept(ServerSocket.java:545)
	at java.net.ServerSocket.accept(ServerSocket.java:513)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$Listener.run(QuorumCnxManager.java:741)
2018-06-28 17:41:08,172 [myid:] - INFO  [main:QuorumUtil@231] - Shutting down leader election QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11231
2018-06-28 17:41:08,172 [myid:] - INFO  [main:QuorumUtil@236] - Waiting for QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11231 to exit thread
2018-06-28 17:41:08,172 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11227
2018-06-28 17:41:08,173 [myid:] - INFO  [main:QuorumUtil@220] - 127.0.0.1:11227 is no longer accepting client connections
2018-06-28 17:41:08,173 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11229
2018-06-28 17:41:08,173 [myid:] - INFO  [main:QuorumUtil@220] - 127.0.0.1:11229 is no longer accepting client connections
2018-06-28 17:41:08,173 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11231
2018-06-28 17:41:08,173 [myid:] - INFO  [main:QuorumUtil@220] - 127.0.0.1:11231 is no longer accepting client connections
2018-06-28 17:41:08,174 [myid:] - INFO  [main:ZxidRolloverTest@57] - STARTING testRolloverThenFollowerRestart
2018-06-28 17:41:08,184 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11233
2018-06-28 17:41:08,184 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11234
2018-06-28 17:41:08,184 [myid:] - INFO  [main:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:41:08,185 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11235
2018-06-28 17:41:08,185 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11236
2018-06-28 17:41:08,185 [myid:] - INFO  [main:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:41:08,185 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11237
2018-06-28 17:41:08,185 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11238
2018-06-28 17:41:08,185 [myid:] - INFO  [main:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:41:08,185 [myid:] - INFO  [main:QuorumUtil@110] - Creating QuorumPeer 1; public port 11233
2018-06-28 17:41:08,186 [myid:] - INFO  [main:ServerCnxnFactory@117] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2018-06-28 17:41:08,186 [myid:] - INFO  [main:NIOServerCnxnFactory@89] - binding to port 0.0.0.0/0.0.0.0:11233
2018-06-28 17:41:08,186 [myid:] - INFO  [main:QuorumUtil@110] - Creating QuorumPeer 2; public port 11235
2018-06-28 17:41:08,186 [myid:] - INFO  [main:ServerCnxnFactory@117] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2018-06-28 17:41:08,187 [myid:] - INFO  [main:NIOServerCnxnFactory@89] - binding to port 0.0.0.0/0.0.0.0:11235
2018-06-28 17:41:08,187 [myid:] - INFO  [main:QuorumUtil@110] - Creating QuorumPeer 3; public port 11237
2018-06-28 17:41:08,187 [myid:] - INFO  [main:ServerCnxnFactory@117] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2018-06-28 17:41:08,187 [myid:] - INFO  [main:NIOServerCnxnFactory@89] - binding to port 0.0.0.0/0.0.0.0:11237
2018-06-28 17:41:08,187 [myid:] - INFO  [main:QuorumUtil@227] - Shutting down quorum peer QuorumPeer
2018-06-28 17:41:08,188 [myid:] - INFO  [main:QuorumUtil@234] - No election available to shutdown QuorumPeer
2018-06-28 17:41:08,188 [myid:] - INFO  [main:QuorumUtil@236] - Waiting for QuorumPeer to exit thread
2018-06-28 17:41:08,188 [myid:] - INFO  [main:QuorumUtil@227] - Shutting down quorum peer QuorumPeer
2018-06-28 17:41:08,188 [myid:] - INFO  [main:QuorumUtil@234] - No election available to shutdown QuorumPeer
2018-06-28 17:41:08,188 [myid:] - INFO  [main:QuorumUtil@236] - Waiting for QuorumPeer to exit thread
2018-06-28 17:41:08,188 [myid:] - INFO  [main:QuorumUtil@227] - Shutting down quorum peer QuorumPeer
2018-06-28 17:41:08,188 [myid:] - INFO  [main:QuorumUtil@234] - No election available to shutdown QuorumPeer
2018-06-28 17:41:08,188 [myid:] - INFO  [main:QuorumUtil@236] - Waiting for QuorumPeer to exit thread
2018-06-28 17:41:08,188 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11233
2018-06-28 17:41:08,188 [myid:] - INFO  [main:QuorumUtil@220] - 127.0.0.1:11233 is no longer accepting client connections
2018-06-28 17:41:08,188 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11235
2018-06-28 17:41:08,189 [myid:] - INFO  [main:QuorumUtil@220] - 127.0.0.1:11235 is no longer accepting client connections
2018-06-28 17:41:08,189 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11237
2018-06-28 17:41:08,189 [myid:] - INFO  [main:QuorumUtil@220] - 127.0.0.1:11237 is no longer accepting client connections
2018-06-28 17:41:08,189 [myid:] - INFO  [main:QuorumUtil@186] - Creating QuorumPeer 1; public port 11233
2018-06-28 17:41:08,189 [myid:] - INFO  [main:ServerCnxnFactory@117] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2018-06-28 17:41:08,189 [myid:] - INFO  [main:NIOServerCnxnFactory@89] - binding to port 0.0.0.0/0.0.0.0:11233
2018-06-28 17:41:08,190 [myid:] - INFO  [main:QuorumPeer@668] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2018-06-28 17:41:08,191 [myid:] - INFO  [main:QuorumPeer@683] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2018-06-28 17:41:08,192 [myid:] - INFO  [ListenerThread:QuorumCnxManager$Listener@736] - My election bind port: /127.0.0.1:12234
2018-06-28 17:41:08,193 [myid:] - INFO  [main:QuorumUtil@132] - Started QuorumPeer 1
2018-06-28 17:41:08,193 [myid:] - INFO  [main:QuorumUtil@186] - Creating QuorumPeer 2; public port 11235
2018-06-28 17:41:08,193 [myid:] - INFO  [main:ServerCnxnFactory@117] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2018-06-28 17:41:08,194 [myid:] - INFO  [main:NIOServerCnxnFactory@89] - binding to port 0.0.0.0/0.0.0.0:11235
2018-06-28 17:41:08,194 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11233:QuorumPeer@909] - LOOKING
2018-06-28 17:41:08,194 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11233:FastLeaderElection@813] - New election. My id =  1, proposed zxid=0x0
2018-06-28 17:41:08,194 [myid:] - INFO  [main:QuorumPeer@668] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2018-06-28 17:41:08,195 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:08,195 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@584] - Cannot open channel to 2 at election address /127.0.0.1:12236
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:558)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:534)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:454)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:435)
	at java.lang.Thread.run(Thread.java:748)
2018-06-28 17:41:08,195 [myid:] - INFO  [WorkerSender[myid=1]:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:41:08,196 [myid:] - INFO  [main:QuorumPeer@683] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2018-06-28 17:41:08,196 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@584] - Cannot open channel to 3 at election address /127.0.0.1:12238
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:558)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:534)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:454)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:435)
	at java.lang.Thread.run(Thread.java:748)
2018-06-28 17:41:08,197 [myid:] - INFO  [WorkerSender[myid=1]:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:41:08,197 [myid:] - INFO  [ListenerThread:QuorumCnxManager$Listener@736] - My election bind port: /127.0.0.1:12236
2018-06-28 17:41:08,198 [myid:] - INFO  [main:QuorumUtil@132] - Started QuorumPeer 2
2018-06-28 17:41:08,198 [myid:] - INFO  [main:QuorumUtil@186] - Creating QuorumPeer 3; public port 11237
2018-06-28 17:41:08,198 [myid:] - INFO  [main:ServerCnxnFactory@117] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2018-06-28 17:41:08,199 [myid:] - INFO  [main:NIOServerCnxnFactory@89] - binding to port 0.0.0.0/0.0.0.0:11237
2018-06-28 17:41:08,199 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11235:QuorumPeer@909] - LOOKING
2018-06-28 17:41:08,199 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11235:FastLeaderElection@813] - New election. My id =  2, proposed zxid=0x0
2018-06-28 17:41:08,199 [myid:] - INFO  [main:QuorumPeer@668] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2018-06-28 17:41:08,200 [myid:] - INFO  [/127.0.0.1:12234:QuorumCnxManager$Listener@743] - Received connection request /127.0.0.1:50888
2018-06-28 17:41:08,200 [myid:] - INFO  [main:QuorumPeer@683] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2018-06-28 17:41:08,201 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:08,201 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:08,201 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:08,201 [myid:] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@584] - Cannot open channel to 3 at election address /127.0.0.1:12238
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:558)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:534)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:454)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:435)
	at java.lang.Thread.run(Thread.java:748)
2018-06-28 17:41:08,202 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:08,202 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@584] - Cannot open channel to 3 at election address /127.0.0.1:12238
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:558)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:534)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:454)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:435)
	at java.lang.Thread.run(Thread.java:748)
2018-06-28 17:41:08,202 [myid:] - INFO  [WorkerSender[myid=2]:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:41:08,202 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:08,203 [myid:] - INFO  [WorkerSender[myid=1]:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:41:08,203 [myid:] - INFO  [main:QuorumUtil@132] - Started QuorumPeer 3
2018-06-28 17:41:08,204 [myid:] - INFO  [main:QuorumUtil@135] - Checking ports 127.0.0.1:11233,127.0.0.1:11235,127.0.0.1:11237
2018-06-28 17:41:08,203 [myid:] - INFO  [ListenerThread:QuorumCnxManager$Listener@736] - My election bind port: /127.0.0.1:12238
2018-06-28 17:41:08,204 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11237:QuorumPeer@909] - LOOKING
2018-06-28 17:41:08,204 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11233
2018-06-28 17:41:08,204 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11237:FastLeaderElection@813] - New election. My id =  3, proposed zxid=0x0
2018-06-28 17:41:08,205 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11233:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:50891
2018-06-28 17:41:08,205 [myid:] - INFO  [/127.0.0.1:12234:QuorumCnxManager$Listener@743] - Received connection request /127.0.0.1:50892
2018-06-28 17:41:08,205 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11233:NIOServerCnxn@908] - Processing stat command from /127.0.0.1:50891
2018-06-28 17:41:08,206 [myid:] - INFO  [/127.0.0.1:12236:QuorumCnxManager$Listener@743] - Received connection request /127.0.0.1:50893
2018-06-28 17:41:08,207 [myid:] - INFO  [Thread-38:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:50891 (no session established for client)
2018-06-28 17:41:08,207 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:08,207 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:08,207 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:08,208 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:08,208 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:08,208 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:08,208 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:08,208 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:08,208 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:08,208 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:08,208 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:08,409 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11235:QuorumPeer@979] - FOLLOWING
2018-06-28 17:41:08,409 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11233:QuorumPeer@979] - FOLLOWING
2018-06-28 17:41:08,409 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11233:ZooKeeperServer@174] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test767438958121257644.junit.dir/version-2 snapdir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test767438958121257644.junit.dir/version-2
2018-06-28 17:41:08,409 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11237:QuorumPeer@991] - LEADING
2018-06-28 17:41:08,410 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11233:Follower@65] - FOLLOWING - LEADER ELECTION TOOK - 215
2018-06-28 17:41:08,409 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11235:ZooKeeperServer@174] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test929980678425759234.junit.dir/version-2 snapdir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test929980678425759234.junit.dir/version-2
2018-06-28 17:41:08,410 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11237:ZooKeeperServer@174] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test6976223008401699005.junit.dir/version-2 snapdir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test6976223008401699005.junit.dir/version-2
2018-06-28 17:41:08,410 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11235:Follower@65] - FOLLOWING - LEADER ELECTION TOOK - 210
2018-06-28 17:41:08,410 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11233:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:41:08,410 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11237:Leader@380] - LEADING - LEADER ELECTION TOOK - 206
2018-06-28 17:41:08,410 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11235:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:41:08,413 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50894:LearnerHandler@346] - Follower sid: 1 : info : org.apache.zookeeper.server.quorum.QuorumPeer$QuorumServer@4b7998ec
2018-06-28 17:41:08,413 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50895:LearnerHandler@346] - Follower sid: 2 : info : org.apache.zookeeper.server.quorum.QuorumPeer$QuorumServer@fc35dc2
2018-06-28 17:41:08,416 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50894:LearnerHandler@401] - Synchronizing with Follower sid: 1 maxCommittedLog=0x0 minCommittedLog=0x0 peerLastZxid=0x0
2018-06-28 17:41:08,416 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50895:LearnerHandler@401] - Synchronizing with Follower sid: 2 maxCommittedLog=0x0 minCommittedLog=0x0 peerLastZxid=0x0
2018-06-28 17:41:08,416 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50894:LearnerHandler@410] - leader and follower are in sync, zxid=0x0
2018-06-28 17:41:08,417 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50894:LearnerHandler@475] - Sending DIFF
2018-06-28 17:41:08,417 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50895:LearnerHandler@410] - leader and follower are in sync, zxid=0x0
2018-06-28 17:41:08,417 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50895:LearnerHandler@475] - Sending DIFF
2018-06-28 17:41:08,417 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11233:Learner@332] - Getting a diff from the leader 0x0
2018-06-28 17:41:08,418 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11235:Learner@332] - Getting a diff from the leader 0x0
2018-06-28 17:41:08,421 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50895:LearnerHandler@535] - Received NEWLEADER-ACK message from 2
2018-06-28 17:41:08,421 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50894:LearnerHandler@535] - Received NEWLEADER-ACK message from 1
2018-06-28 17:41:08,422 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11237:Leader@964] - Have quorum of supporters, sids: [ 2,3 ]; starting up and setting last processed zxid: 0x100000000
2018-06-28 17:41:08,460 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11233
2018-06-28 17:41:08,461 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11233:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:50896
2018-06-28 17:41:08,461 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11233:NIOServerCnxn@908] - Processing stat command from /127.0.0.1:50896
2018-06-28 17:41:08,461 [myid:] - INFO  [Thread-41:NIOServerCnxn$StatCommand@687] - Stat command output
2018-06-28 17:41:08,462 [myid:] - INFO  [Thread-41:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:50896 (no session established for client)
2018-06-28 17:41:08,462 [myid:] - INFO  [main:QuorumUtil@139] - 127.0.0.1:11233 is accepting client connections
2018-06-28 17:41:08,462 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11235
2018-06-28 17:41:08,463 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11235:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:50897
2018-06-28 17:41:08,463 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11235:NIOServerCnxn@908] - Processing stat command from /127.0.0.1:50897
2018-06-28 17:41:08,463 [myid:] - INFO  [Thread-42:NIOServerCnxn$StatCommand@687] - Stat command output
2018-06-28 17:41:08,464 [myid:] - INFO  [Thread-42:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:50897 (no session established for client)
2018-06-28 17:41:08,464 [myid:] - INFO  [main:QuorumUtil@139] - 127.0.0.1:11235 is accepting client connections
2018-06-28 17:41:08,464 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11237
2018-06-28 17:41:08,465 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11237:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:50898
2018-06-28 17:41:08,465 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11237:NIOServerCnxn@908] - Processing stat command from /127.0.0.1:50898
2018-06-28 17:41:08,466 [myid:] - INFO  [Thread-43:NIOServerCnxn$StatCommand@687] - Stat command output
2018-06-28 17:41:08,467 [myid:] - INFO  [Thread-43:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:50898 (no session established for client)
2018-06-28 17:41:08,467 [myid:] - INFO  [main:QuorumUtil@139] - 127.0.0.1:11237 is accepting client connections
2018-06-28 17:41:08,468 [myid:] - INFO  [main:JMXEnv@199] - JMXEnv.dump() follows
2018-06-28 17:41:08,470 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.2
2018-06-28 17:41:08,470 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1
2018-06-28 17:41:08,470 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree
2018-06-28 17:41:08,470 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.3
2018-06-28 17:41:08,470 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.3
2018-06-28 17:41:08,470 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1
2018-06-28 17:41:08,470 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2
2018-06-28 17:41:08,470 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2
2018-06-28 17:41:08,470 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.1
2018-06-28 17:41:08,471 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3
2018-06-28 17:41:08,471 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower,name3=InMemoryDataTree
2018-06-28 17:41:08,471 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader
2018-06-28 17:41:08,471 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.2
2018-06-28 17:41:08,471 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.1
2018-06-28 17:41:08,471 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3
2018-06-28 17:41:08,471 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader,name3=InMemoryDataTree
2018-06-28 17:41:08,471 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower
2018-06-28 17:41:08,471 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower
2018-06-28 17:41:08,476 [myid:] - INFO  [main:JMXEnv@118] - expect:InMemoryDataTree
2018-06-28 17:41:08,477 [myid:] - INFO  [main:JMXEnv@121] - found:InMemoryDataTree org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree
2018-06-28 17:41:08,477 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id1,name1=replica.1,name2=
2018-06-28 17:41:08,477 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id1,name1=replica.1,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower
2018-06-28 17:41:08,477 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id2,name1=replica.2,name2=
2018-06-28 17:41:08,477 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id2,name1=replica.2,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower,name3=InMemoryDataTree
2018-06-28 17:41:08,477 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id3,name1=replica.3,name2=
2018-06-28 17:41:08,477 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id3,name1=replica.3,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader
2018-06-28 17:41:08,477 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id1,name1=replica.1
2018-06-28 17:41:08,477 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id1,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1
2018-06-28 17:41:08,477 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id1,name1=replica.2
2018-06-28 17:41:08,477 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id1,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.2
2018-06-28 17:41:08,477 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id1,name1=replica.3
2018-06-28 17:41:08,477 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id1,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.3
2018-06-28 17:41:08,477 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id2,name1=replica.1
2018-06-28 17:41:08,478 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id2,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.1
2018-06-28 17:41:08,478 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id2,name1=replica.2
2018-06-28 17:41:08,478 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id2,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2
2018-06-28 17:41:08,478 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id2,name1=replica.3
2018-06-28 17:41:08,478 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id2,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.3
2018-06-28 17:41:08,478 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id3,name1=replica.1
2018-06-28 17:41:08,478 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id3,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.1
2018-06-28 17:41:08,478 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id3,name1=replica.2
2018-06-28 17:41:08,478 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id3,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.2
2018-06-28 17:41:08,478 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id3,name1=replica.3
2018-06-28 17:41:08,478 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id3,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3
2018-06-28 17:41:08,478 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id1
2018-06-28 17:41:08,478 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id1 org.apache.ZooKeeperService:name0=ReplicatedServer_id1
2018-06-28 17:41:08,478 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id2
2018-06-28 17:41:08,478 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id2 org.apache.ZooKeeperService:name0=ReplicatedServer_id2
2018-06-28 17:41:08,478 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id3
2018-06-28 17:41:08,478 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id3 org.apache.ZooKeeperService:name0=ReplicatedServer_id3
2018-06-28 17:41:08,479 [myid:] - INFO  [main:ZooKeeper@442] - Initiating client connection, connectString=127.0.0.1:11233 sessionTimeout=30000 watcher=org.apache.zookeeper.test.ClientBase$CountdownWatcher@396a51ab
2018-06-28 17:41:08,479 [myid:] - INFO  [main:ZooKeeper@442] - Initiating client connection, connectString=127.0.0.1:11235 sessionTimeout=30000 watcher=org.apache.zookeeper.test.ClientBase$CountdownWatcher@51081592
2018-06-28 17:41:08,480 [myid:] - INFO  [main:ZooKeeper@442] - Initiating client connection, connectString=127.0.0.1:11237 sessionTimeout=30000 watcher=org.apache.zookeeper.test.ClientBase$CountdownWatcher@7f9a81e8
2018-06-28 17:41:08,481 [myid:] - INFO  [main-SendThread(localhost:11233):ClientCnxn$SendThread@1029] - Opening socket connection to server localhost/127.0.0.1:11233. Will not attempt to authenticate using SASL (unknown error)
2018-06-28 17:41:08,481 [myid:] - INFO  [main-SendThread(localhost:11235):ClientCnxn$SendThread@1029] - Opening socket connection to server localhost/127.0.0.1:11235. Will not attempt to authenticate using SASL (unknown error)
2018-06-28 17:41:08,481 [myid:] - INFO  [main-SendThread(localhost:11237):ClientCnxn$SendThread@1029] - Opening socket connection to server localhost/127.0.0.1:11237. Will not attempt to authenticate using SASL (unknown error)
2018-06-28 17:41:08,482 [myid:] - INFO  [main-SendThread(localhost:11235):ClientCnxn$SendThread@879] - Socket connection established to localhost/127.0.0.1:11235, initiating session
2018-06-28 17:41:08,482 [myid:] - INFO  [main-SendThread(localhost:11237):ClientCnxn$SendThread@879] - Socket connection established to localhost/127.0.0.1:11237, initiating session
2018-06-28 17:41:08,482 [myid:] - INFO  [main-SendThread(localhost:11233):ClientCnxn$SendThread@879] - Socket connection established to localhost/127.0.0.1:11233, initiating session
2018-06-28 17:41:08,482 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11233:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:50900
2018-06-28 17:41:08,482 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11235:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:50901
2018-06-28 17:41:08,482 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11237:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:50902
2018-06-28 17:41:08,482 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11235:ZooKeeperServer@949] - Client attempting to establish new session at /127.0.0.1:50901
2018-06-28 17:41:08,482 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11237:ZooKeeperServer@949] - Client attempting to establish new session at /127.0.0.1:50902
2018-06-28 17:41:08,482 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11233:ZooKeeperServer@949] - Client attempting to establish new session at /127.0.0.1:50900
2018-06-28 17:41:08,483 [myid:] - INFO  [SyncThread:3:FileTxnLog@213] - Creating new log file: log.100000001
2018-06-28 17:41:08,484 [myid:] - WARN  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11233:Follower@119] - Got zxid 0x100000001 expected 0x1
2018-06-28 17:41:08,484 [myid:] - WARN  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11235:Follower@119] - Got zxid 0x100000001 expected 0x1
2018-06-28 17:41:08,484 [myid:] - INFO  [SyncThread:1:FileTxnLog@213] - Creating new log file: log.100000001
2018-06-28 17:41:08,484 [myid:] - INFO  [SyncThread:2:FileTxnLog@213] - Creating new log file: log.100000001
2018-06-28 17:41:08,487 [myid:] - INFO  [CommitProcessor:1:ZooKeeperServer@694] - Established session 0x10006549a090000 with negotiated timeout 30000 for client /127.0.0.1:50900
2018-06-28 17:41:08,487 [myid:] - INFO  [main-SendThread(localhost:11237):ClientCnxn$SendThread@1303] - Session establishment complete on server localhost/127.0.0.1:11237, sessionid = 0x30006549a0d0000, negotiated timeout = 30000
2018-06-28 17:41:08,487 [myid:] - INFO  [main-SendThread(localhost:11233):ClientCnxn$SendThread@1303] - Session establishment complete on server localhost/127.0.0.1:11233, sessionid = 0x10006549a090000, negotiated timeout = 30000
2018-06-28 17:41:08,487 [myid:] - INFO  [main-SendThread(localhost:11235):ClientCnxn$SendThread@1303] - Session establishment complete on server localhost/127.0.0.1:11235, sessionid = 0x20006549a0a0000, negotiated timeout = 30000
2018-06-28 17:41:08,487 [myid:] - INFO  [CommitProcessor:2:ZooKeeperServer@694] - Established session 0x20006549a0a0000 with negotiated timeout 30000 for client /127.0.0.1:50901
2018-06-28 17:41:08,487 [myid:] - INFO  [CommitProcessor:3:ZooKeeperServer@694] - Established session 0x30006549a0d0000 with negotiated timeout 30000 for client /127.0.0.1:50902
2018-06-28 17:41:08,488 [myid:] - INFO  [main:ZxidRolloverTest@225] - Creating nodes 0 thru 10
2018-06-28 17:41:08,491 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@301] - Snapshotting: 0x100000004 to /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test6976223008401699005.junit.dir/version-2/snapshot.100000004
2018-06-28 17:41:08,491 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@301] - Snapshotting: 0x100000004 to /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test929980678425759234.junit.dir/version-2/snapshot.100000004
2018-06-28 17:41:08,491 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@301] - Snapshotting: 0x100000004 to /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test767438958121257644.junit.dir/version-2/snapshot.100000004
2018-06-28 17:41:08,492 [myid:] - INFO  [SyncThread:3:FileTxnLog@213] - Creating new log file: log.100000006
2018-06-28 17:41:08,492 [myid:] - INFO  [SyncThread:2:FileTxnLog@213] - Creating new log file: log.100000006
2018-06-28 17:41:08,492 [myid:] - INFO  [SyncThread:1:FileTxnLog@213] - Creating new log file: log.100000006
2018-06-28 17:41:08,500 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@301] - Snapshotting: 0x10000000a to /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test6976223008401699005.junit.dir/version-2/snapshot.10000000a
2018-06-28 17:41:08,500 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@301] - Snapshotting: 0x10000000a to /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test929980678425759234.junit.dir/version-2/snapshot.10000000a
2018-06-28 17:41:08,500 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@301] - Snapshotting: 0x10000000a to /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test767438958121257644.junit.dir/version-2/snapshot.10000000a
2018-06-28 17:41:08,502 [myid:] - INFO  [SyncThread:3:FileTxnLog@213] - Creating new log file: log.10000000c
2018-06-28 17:41:08,504 [myid:] - INFO  [SyncThread:2:FileTxnLog@213] - Creating new log file: log.10000000c
2018-06-28 17:41:08,504 [myid:] - INFO  [SyncThread:1:FileTxnLog@213] - Creating new log file: log.10000000c
2018-06-28 17:41:08,508 [myid:] - INFO  [main:ZxidRolloverTest@225] - Creating nodes 10 thru 20
2018-06-28 17:41:08,509 [myid:] - WARN  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11233:Follower@119] - Got zxid 0x1fffffffd expected 0x10000000e
2018-06-28 17:41:08,509 [myid:] - WARN  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11235:Follower@119] - Got zxid 0x1fffffffd expected 0x10000000e
2018-06-28 17:41:08,509 [myid:] - WARN  [LearnerHandler-/127.0.0.1:50894:Leader@613] - Commiting zxid 0x1fffffffd from /127.0.0.1:12237 not first!
2018-06-28 17:41:08,509 [myid:] - WARN  [LearnerHandler-/127.0.0.1:50894:Leader@615] - First is 0x10000000e
2018-06-28 17:41:08,510 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::Leader@520] - Shutting down
2018-06-28 17:41:08,511 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::Leader@526] - Shutdown called
java.lang.Exception: shutdown Leader! reason: zxid lower 32 bits have rolled over, forcing re-election, and therefore new epoch start
	at org.apache.zookeeper.server.quorum.Leader.shutdown(Leader.java:526)
	at org.apache.zookeeper.server.quorum.Leader.propose(Leader.java:772)
	at org.apache.zookeeper.server.quorum.ProposalRequestProcessor.processRequest(ProposalRequestProcessor.java:78)
	at org.apache.zookeeper.server.PrepRequestProcessor.pRequest(PrepRequestProcessor.java:681)
	at org.apache.zookeeper.server.PrepRequestProcessor.run(PrepRequestProcessor.java:134)
2018-06-28 17:41:08,511 [myid:] - INFO  [LearnerCnxAcceptor-/127.0.0.1:12237:Leader$LearnerCnxAcceptor@340] - exception while shutting down acceptor: java.net.SocketException: Socket closed
2018-06-28 17:41:08,511 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:50902 which had sessionid 0x30006549a0d0000
2018-06-28 17:41:08,511 [myid:] - INFO  [main-SendThread(localhost:11237):ClientCnxn$SendThread@1162] - Unable to read additional data from server sessionid 0x30006549a0d0000, likely server has closed socket, closing socket connection and attempting reconnect
2018-06-28 17:41:08,511 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::ZooKeeperServer@502] - shutting down
2018-06-28 17:41:08,511 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::SessionTrackerImpl@226] - Shutting down
2018-06-28 17:41:08,512 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::PrepRequestProcessor@769] - Shutting down
2018-06-28 17:41:08,512 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::ProposalRequestProcessor@88] - Shutting down
2018-06-28 17:41:08,512 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::CommitProcessor@184] - Shutting down
2018-06-28 17:41:08,512 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::Leader$ToBeAppliedRequestProcessor@685] - Shutting down
2018-06-28 17:41:08,512 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::FinalRequestProcessor@403] - shutdown of request processor complete
2018-06-28 17:41:08,512 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::SyncRequestProcessor@208] - Shutting down
2018-06-28 17:41:08,512 [myid:] - INFO  [CommitProcessor:3:CommitProcessor@153] - CommitProcessor exited loop!
2018-06-28 17:41:08,512 [myid:] - INFO  [SyncThread:3:SyncRequestProcessor@186] - SyncRequestProcessor exited!
2018-06-28 17:41:08,513 [myid:] - WARN  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11233:Follower@90] - Exception when following the leader
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:63)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:99)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:153)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:86)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:981)
2018-06-28 17:41:08,514 [myid:] - WARN  [LearnerHandler-/127.0.0.1:50895:LearnerHandler@661] - ******* GOODBYE /127.0.0.1:50895 ********
2018-06-28 17:41:08,514 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::PrepRequestProcessor@138] - zxid lower 32 bits have rolled over, forcing re-election, and therefore new epoch start
2018-06-28 17:41:08,514 [myid:] - WARN  [LearnerHandler-/127.0.0.1:50894:LearnerHandler@661] - ******* GOODBYE /127.0.0.1:50894 ********
2018-06-28 17:41:08,514 [myid:] - WARN  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11235:Follower@90] - Exception when following the leader
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:63)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:99)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:153)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:86)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:981)
2018-06-28 17:41:08,514 [myid:] - WARN  [LearnerHandler-/127.0.0.1:50894:LearnerHandler@673] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1220)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:335)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:339)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:671)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:664)
2018-06-28 17:41:08,515 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11235:Follower@169] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:169)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:985)
2018-06-28 17:41:08,514 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11233:Follower@169] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:169)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:985)
2018-06-28 17:41:08,514 [myid:] - ERROR [ProcessThread(sid:3 cport:-1)::ZooKeeperCriticalThread@49] - Severe unrecoverable error, from thread : ProcessThread(sid:3 cport:-1):
org.apache.zookeeper.server.RequestProcessor$RequestProcessorException: zxid lower 32 bits have rolled over, forcing re-election, and therefore new epoch start
	at org.apache.zookeeper.server.quorum.ProposalRequestProcessor.processRequest(ProposalRequestProcessor.java:80)
	at org.apache.zookeeper.server.PrepRequestProcessor.pRequest(PrepRequestProcessor.java:681)
	at org.apache.zookeeper.server.PrepRequestProcessor.run(PrepRequestProcessor.java:134)
Caused by: org.apache.zookeeper.server.quorum.Leader$XidRolloverException: zxid lower 32 bits have rolled over, forcing re-election, and therefore new epoch start
	at org.apache.zookeeper.server.quorum.Leader.propose(Leader.java:773)
	at org.apache.zookeeper.server.quorum.ProposalRequestProcessor.processRequest(ProposalRequestProcessor.java:78)
	... 2 more
2018-06-28 17:41:08,514 [myid:] - WARN  [LearnerHandler-/127.0.0.1:50895:LearnerHandler@673] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1220)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:335)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:339)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:671)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:664)
2018-06-28 17:41:08,515 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::ZooKeeperServerListenerImpl@42] - Thread ProcessThread(sid:3 cport:-1): exits, error code 1
2018-06-28 17:41:08,515 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::PrepRequestProcessor@144] - PrepRequestProcessor exited loop!
2018-06-28 17:41:08,515 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11233:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:50900 which had sessionid 0x10006549a090000
2018-06-28 17:41:08,515 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11235:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:50901 which had sessionid 0x20006549a0a0000
2018-06-28 17:41:08,516 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11233:FollowerZooKeeperServer@140] - Shutting down
2018-06-28 17:41:08,517 [myid:] - INFO  [main-SendThread(localhost:11235):ClientCnxn$SendThread@1162] - Unable to read additional data from server sessionid 0x20006549a0a0000, likely server has closed socket, closing socket connection and attempting reconnect
2018-06-28 17:41:08,517 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11233:ZooKeeperServer@502] - shutting down
2018-06-28 17:41:08,517 [myid:] - INFO  [main-SendThread(localhost:11233):ClientCnxn$SendThread@1162] - Unable to read additional data from server sessionid 0x10006549a090000, likely server has closed socket, closing socket connection and attempting reconnect
2018-06-28 17:41:08,517 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11235:FollowerZooKeeperServer@140] - Shutting down
2018-06-28 17:41:08,517 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11235:ZooKeeperServer@502] - shutting down
2018-06-28 17:41:08,517 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11235:FollowerRequestProcessor@107] - Shutting down
2018-06-28 17:41:08,517 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11233:FollowerRequestProcessor@107] - Shutting down
2018-06-28 17:41:08,517 [myid:] - INFO  [FollowerRequestProcessor:2:FollowerRequestProcessor@97] - FollowerRequestProcessor exited loop!
2018-06-28 17:41:08,517 [myid:] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@97] - FollowerRequestProcessor exited loop!
2018-06-28 17:41:08,517 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11233:CommitProcessor@184] - Shutting down
2018-06-28 17:41:08,517 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11235:CommitProcessor@184] - Shutting down
2018-06-28 17:41:08,518 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11235:FinalRequestProcessor@403] - shutdown of request processor complete
2018-06-28 17:41:08,518 [myid:] - INFO  [CommitProcessor:1:CommitProcessor@153] - CommitProcessor exited loop!
2018-06-28 17:41:08,518 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11233:FinalRequestProcessor@403] - shutdown of request processor complete
2018-06-28 17:41:08,518 [myid:] - INFO  [CommitProcessor:2:CommitProcessor@153] - CommitProcessor exited loop!
2018-06-28 17:41:08,519 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11233:SyncRequestProcessor@208] - Shutting down
2018-06-28 17:41:08,519 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11235:SyncRequestProcessor@208] - Shutting down
2018-06-28 17:41:08,520 [myid:] - INFO  [SyncThread:1:SyncRequestProcessor@186] - SyncRequestProcessor exited!
2018-06-28 17:41:08,520 [myid:] - INFO  [SyncThread:2:SyncRequestProcessor@186] - SyncRequestProcessor exited!
2018-06-28 17:41:08,520 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11233:QuorumPeer@909] - LOOKING
2018-06-28 17:41:08,520 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11235:QuorumPeer@909] - LOOKING
2018-06-28 17:41:08,521 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11233:FastLeaderElection@813] - New election. My id =  1, proposed zxid=0x1fffffffe
2018-06-28 17:41:08,521 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11235:FastLeaderElection@813] - New election. My id =  2, proposed zxid=0x1fffffffe
2018-06-28 17:41:08,521 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:08,521 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:08,521 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:08,521 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEpoch) LEADING (my state)
2018-06-28 17:41:08,521 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:08,521 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) LEADING (my state)
2018-06-28 17:41:08,521 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:08,522 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LEADING (n.state), 3 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:08,522 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) LEADING (my state)
2018-06-28 17:41:08,522 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LEADING (n.state), 3 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:08,522 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:08,522 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LEADING (n.state), 3 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:08,664 [myid:] - INFO  [SessionTracker:SessionTrackerImpl@163] - SessionTrackerImpl exited loop!
2018-06-28 17:41:08,670 [myid:] - INFO  [SessionTracker:SessionTrackerImpl@163] - SessionTrackerImpl exited loop!
2018-06-28 17:41:08,727 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11233:QuorumPeer@979] - FOLLOWING
2018-06-28 17:41:08,728 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11233:ZooKeeperServer@174] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test767438958121257644.junit.dir/version-2 snapdir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test767438958121257644.junit.dir/version-2
2018-06-28 17:41:08,727 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11235:QuorumPeer@991] - LEADING
2018-06-28 17:41:08,728 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11235:ZooKeeperServer@174] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test929980678425759234.junit.dir/version-2 snapdir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test929980678425759234.junit.dir/version-2
2018-06-28 17:41:08,728 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11233:Follower@65] - FOLLOWING - LEADER ELECTION TOOK - 207
2018-06-28 17:41:08,728 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11235:Leader@380] - LEADING - LEADER ELECTION TOOK - 207
2018-06-28 17:41:08,728 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11233:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:41:08,729 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50903:LearnerHandler@346] - Follower sid: 1 : info : org.apache.zookeeper.server.quorum.QuorumPeer$QuorumServer@4b7998ec
2018-06-28 17:41:08,732 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50903:LearnerHandler@401] - Synchronizing with Follower sid: 1 maxCommittedLog=0x1fffffffe minCommittedLog=0x100000001 peerLastZxid=0x1fffffffe
2018-06-28 17:41:08,732 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50903:LearnerHandler@410] - leader and follower are in sync, zxid=0x1fffffffe
2018-06-28 17:41:08,732 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50903:LearnerHandler@475] - Sending DIFF
2018-06-28 17:41:08,733 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11233:Learner@332] - Getting a diff from the leader 0x1fffffffe
2018-06-28 17:41:08,735 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50903:LearnerHandler@535] - Received NEWLEADER-ACK message from 1
2018-06-28 17:41:08,735 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11235:Leader@964] - Have quorum of supporters, sids: [ 1,2 ]; starting up and setting last processed zxid: 0x200000000
2018-06-28 17:41:09,095 [myid:] - INFO  [/127.0.0.1:12228:QuorumCnxManager$Listener@773] - Leaving listener
2018-06-28 17:41:09,170 [myid:] - INFO  [/127.0.0.1:12230:QuorumCnxManager$Listener@773] - Leaving listener
2018-06-28 17:41:09,176 [myid:] - INFO  [/127.0.0.1:12232:QuorumCnxManager$Listener@773] - Leaving listener
2018-06-28 17:41:09,426 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11237:Leader@520] - Shutting down
2018-06-28 17:41:09,426 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11237:QuorumPeer@909] - LOOKING
2018-06-28 17:41:09,427 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11237:FastLeaderElection@813] - New election. My id =  3, proposed zxid=0x1fffffffe
2018-06-28 17:41:09,427 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 3 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:09,427 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 3 (n.sid), 0x1 (n.peerEpoch) LEADING (my state)
2018-06-28 17:41:09,427 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 3 (n.sid), 0x1 (n.peerEpoch) FOLLOWING (my state)
2018-06-28 17:41:09,428 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LEADING (n.state), 2 (n.sid), 0x2 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:09,428 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), FOLLOWING (n.state), 1 (n.sid), 0x2 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:09,428 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11237:QuorumPeer@979] - FOLLOWING
2018-06-28 17:41:09,428 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11237:ZooKeeperServer@174] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test6976223008401699005.junit.dir/version-2 snapdir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test6976223008401699005.junit.dir/version-2
2018-06-28 17:41:09,428 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11237:Follower@65] - FOLLOWING - LEADER ELECTION TOOK - 1
2018-06-28 17:41:09,428 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11237:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:41:09,430 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50904:LearnerHandler@346] - Follower sid: 3 : info : org.apache.zookeeper.server.quorum.QuorumPeer$QuorumServer@2a16b9dc
2018-06-28 17:41:09,437 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50904:LearnerHandler@401] - Synchronizing with Follower sid: 3 maxCommittedLog=0x1fffffffe minCommittedLog=0x100000001 peerLastZxid=0x1fffffffe
2018-06-28 17:41:09,438 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50904:LearnerHandler@475] - Sending DIFF
2018-06-28 17:41:09,438 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11237:Learner@332] - Getting a diff from the leader 0x1fffffffe
2018-06-28 17:41:09,440 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50904:LearnerHandler@535] - Received NEWLEADER-ACK message from 3
2018-06-28 17:41:09,831 [myid:] - INFO  [main-SendThread(localhost:11237):ClientCnxn$SendThread@1029] - Opening socket connection to server localhost/127.0.0.1:11237. Will not attempt to authenticate using SASL (unknown error)
2018-06-28 17:41:09,831 [myid:] - INFO  [main-SendThread(localhost:11237):ClientCnxn$SendThread@879] - Socket connection established to localhost/127.0.0.1:11237, initiating session
2018-06-28 17:41:09,831 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11237:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:50905
2018-06-28 17:41:09,832 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11237:ZooKeeperServer@942] - Client attempting to renew session 0x30006549a0d0000 at /127.0.0.1:50905
2018-06-28 17:41:09,832 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11237:Learner@108] - Revalidating client: 0x30006549a0d0000
2018-06-28 17:41:09,833 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11237:ZooKeeperServer@694] - Established session 0x30006549a0d0000 with negotiated timeout 30000 for client /127.0.0.1:50905
2018-06-28 17:41:09,833 [myid:] - INFO  [main-SendThread(localhost:11237):ClientCnxn$SendThread@1303] - Session establishment complete on server localhost/127.0.0.1:11237, sessionid = 0x30006549a0d0000, negotiated timeout = 30000
2018-06-28 17:41:10,250 [myid:] - INFO  [main-SendThread(localhost:11233):ClientCnxn$SendThread@1029] - Opening socket connection to server localhost/127.0.0.1:11233. Will not attempt to authenticate using SASL (unknown error)
2018-06-28 17:41:10,250 [myid:] - INFO  [main-SendThread(localhost:11233):ClientCnxn$SendThread@879] - Socket connection established to localhost/127.0.0.1:11233, initiating session
2018-06-28 17:41:10,250 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11233:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:50906
2018-06-28 17:41:10,251 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11233:ZooKeeperServer@942] - Client attempting to renew session 0x10006549a090000 at /127.0.0.1:50906
2018-06-28 17:41:10,251 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11233:Learner@108] - Revalidating client: 0x10006549a090000
2018-06-28 17:41:10,252 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11233:ZooKeeperServer@694] - Established session 0x10006549a090000 with negotiated timeout 30000 for client /127.0.0.1:50906
2018-06-28 17:41:10,252 [myid:] - INFO  [main-SendThread(localhost:11233):ClientCnxn$SendThread@1303] - Session establishment complete on server localhost/127.0.0.1:11233, sessionid = 0x10006549a090000, negotiated timeout = 30000
2018-06-28 17:41:10,411 [myid:] - INFO  [main-SendThread(localhost:11235):ClientCnxn$SendThread@1029] - Opening socket connection to server localhost/127.0.0.1:11235. Will not attempt to authenticate using SASL (unknown error)
2018-06-28 17:41:10,412 [myid:] - INFO  [main-SendThread(localhost:11235):ClientCnxn$SendThread@879] - Socket connection established to localhost/127.0.0.1:11235, initiating session
2018-06-28 17:41:10,412 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11235:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:50907
2018-06-28 17:41:10,412 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11235:ZooKeeperServer@942] - Client attempting to renew session 0x20006549a0a0000 at /127.0.0.1:50907
2018-06-28 17:41:10,412 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11235:ZooKeeperServer@694] - Established session 0x20006549a0a0000 with negotiated timeout 30000 for client /127.0.0.1:50907
2018-06-28 17:41:10,412 [myid:] - INFO  [main-SendThread(localhost:11235):ClientCnxn$SendThread@1303] - Session establishment complete on server localhost/127.0.0.1:11235, sessionid = 0x20006549a0a0000, negotiated timeout = 30000
2018-06-28 17:41:10,413 [myid:] - INFO  [main:QuorumUtil@227] - Shutting down quorum peer QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11233
2018-06-28 17:41:10,413 [myid:] - INFO  [main:Follower@169] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:169)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1026)
	at org.apache.zookeeper.test.QuorumUtil.shutdown(QuorumUtil.java:228)
	at org.apache.zookeeper.server.ZxidRolloverTest.shutdown(ZxidRolloverTest.java:183)
	at org.apache.zookeeper.server.ZxidRolloverTest.testRolloverThenFollowerRestart(ZxidRolloverTest.java:325)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:536)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1205)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1048)
2018-06-28 17:41:10,413 [myid:] - INFO  [main:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:50906 which had sessionid 0x10006549a090000
2018-06-28 17:41:10,413 [myid:] - INFO  [main:FollowerZooKeeperServer@140] - Shutting down
2018-06-28 17:41:10,413 [myid:] - INFO  [main-SendThread(localhost:11233):ClientCnxn$SendThread@1162] - Unable to read additional data from server sessionid 0x10006549a090000, likely server has closed socket, closing socket connection and attempting reconnect
2018-06-28 17:41:10,413 [myid:] - INFO  [main:ZooKeeperServer@502] - shutting down
2018-06-28 17:41:10,413 [myid:] - INFO  [main:FollowerRequestProcessor@107] - Shutting down
2018-06-28 17:41:10,414 [myid:] - INFO  [main:CommitProcessor@184] - Shutting down
2018-06-28 17:41:10,414 [myid:] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@97] - FollowerRequestProcessor exited loop!
2018-06-28 17:41:10,414 [myid:] - INFO  [CommitProcessor:1:CommitProcessor@153] - CommitProcessor exited loop!
2018-06-28 17:41:10,414 [myid:] - INFO  [main:FinalRequestProcessor@403] - shutdown of request processor complete
2018-06-28 17:41:10,415 [myid:] - INFO  [main:SyncRequestProcessor@208] - Shutting down
2018-06-28 17:41:10,415 [myid:] - INFO  [SyncThread:1:SyncRequestProcessor@186] - SyncRequestProcessor exited!
2018-06-28 17:41:10,415 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11233:NIOServerCnxnFactory@242] - NIOServerCnxn factory exited run method
2018-06-28 17:41:10,416 [myid:] - ERROR [/127.0.0.1:12234:QuorumCnxManager$Listener@760] - Exception while listening
java.net.SocketException: Socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:409)
	at java.net.ServerSocket.implAccept(ServerSocket.java:545)
	at java.net.ServerSocket.accept(ServerSocket.java:513)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$Listener.run(QuorumCnxManager.java:741)
2018-06-28 17:41:10,416 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@941] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:418)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1094)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$700(QuorumCnxManager.java:74)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:929)
2018-06-28 17:41:10,417 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@951] - Send worker leaving thread
2018-06-28 17:41:10,416 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1025] - Connection broken for id 1, my id = 3, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1010)
2018-06-28 17:41:10,418 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1028] - Interrupting SendWorker
2018-06-28 17:41:10,416 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1025] - Connection broken for id 2, my id = 1, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1010)
2018-06-28 17:41:10,418 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1028] - Interrupting SendWorker
2018-06-28 17:41:10,416 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@941] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:418)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1094)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$700(QuorumCnxManager.java:74)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:929)
2018-06-28 17:41:10,419 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@951] - Send worker leaving thread
2018-06-28 17:41:10,416 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1025] - Connection broken for id 1, my id = 2, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1010)
2018-06-28 17:41:10,419 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1028] - Interrupting SendWorker
2018-06-28 17:41:10,418 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@941] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:418)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1094)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$700(QuorumCnxManager.java:74)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:929)
2018-06-28 17:41:10,417 [myid:] - INFO  [main:QuorumUtil@231] - Shutting down leader election QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11233
2018-06-28 17:41:10,417 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1025] - Connection broken for id 3, my id = 1, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1010)
2018-06-28 17:41:10,420 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1028] - Interrupting SendWorker
2018-06-28 17:41:10,420 [myid:] - INFO  [main:QuorumUtil@236] - Waiting for QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11233 to exit thread
2018-06-28 17:41:10,419 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@951] - Send worker leaving thread
2018-06-28 17:41:10,419 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@941] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:418)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1094)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$700(QuorumCnxManager.java:74)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:929)
2018-06-28 17:41:10,420 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@951] - Send worker leaving thread
2018-06-28 17:41:10,744 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11233:Follower@169] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:169)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:985)
2018-06-28 17:41:10,744 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11233:FollowerZooKeeperServer@140] - Shutting down
2018-06-28 17:41:10,744 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11233:SyncRequestProcessor@208] - Shutting down
2018-06-28 17:41:10,744 [myid:] - WARN  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11233:QuorumPeer@1009] - QuorumPeer main thread exited
2018-06-28 17:41:10,746 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11233
2018-06-28 17:41:10,753 [myid:] - INFO  [WorkerSender[myid=1]:FastLeaderElection$Messenger$WorkerSender@440] - WorkerSender is down
2018-06-28 17:41:10,753 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@409] - WorkerReceiver is down
2018-06-28 17:41:10,753 [myid:] - INFO  [WorkerSender[myid=2]:FastLeaderElection$Messenger$WorkerSender@440] - WorkerSender is down
2018-06-28 17:41:10,753 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@409] - WorkerReceiver is down
2018-06-28 17:41:10,753 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@409] - WorkerReceiver is down
2018-06-28 17:41:10,753 [myid:] - INFO  [WorkerSender[myid=3]:FastLeaderElection$Messenger$WorkerSender@440] - WorkerSender is down
2018-06-28 17:41:11,419 [myid:] - INFO  [/127.0.0.1:12234:QuorumCnxManager$Listener@773] - Leaving listener
2018-06-28 17:41:12,231 [myid:] - INFO  [main-SendThread(localhost:11233):ClientCnxn$SendThread@1029] - Opening socket connection to server localhost/127.0.0.1:11233. Will not attempt to authenticate using SASL (unknown error)
2018-06-28 17:41:12,232 [myid:] - INFO  [main-SendThread(localhost:11233):ClientCnxn$SendThread@1166] - Socket error occurred: localhost/127.0.0.1:11233: Connection refused
2018-06-28 17:41:12,333 [myid:] - INFO  [main:QuorumUtil@186] - Creating QuorumPeer 1; public port 11233
2018-06-28 17:41:12,334 [myid:] - INFO  [main:ServerCnxnFactory@117] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2018-06-28 17:41:12,334 [myid:] - INFO  [main:NIOServerCnxnFactory@89] - binding to port 0.0.0.0/0.0.0.0:11233
2018-06-28 17:41:12,335 [myid:] - INFO  [main:FileSnap@86] - Reading snapshot /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test767438958121257644.junit.dir/version-2/snapshot.10000000a
2018-06-28 17:41:12,337 [myid:] - INFO  [ListenerThread:QuorumCnxManager$Listener@736] - My election bind port: /127.0.0.1:12234
2018-06-28 17:41:12,338 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11233
2018-06-28 17:41:12,338 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11233:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:50910
2018-06-28 17:41:12,339 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11233:QuorumPeer@909] - LOOKING
2018-06-28 17:41:12,339 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11233:FastLeaderElection@813] - New election. My id =  1, proposed zxid=0x1fffffffe
2018-06-28 17:41:12,339 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11233:NIOServerCnxn@908] - Processing stat command from /127.0.0.1:50910
2018-06-28 17:41:12,339 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x1fffffffe (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x2 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:12,339 [myid:] - INFO  [/127.0.0.1:12236:QuorumCnxManager$Listener@743] - Received connection request /127.0.0.1:50911
2018-06-28 17:41:12,339 [myid:] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@347] - Have smaller server identifier, so dropping the connection: (2, 1)
2018-06-28 17:41:12,339 [myid:] - INFO  [Thread-46:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:50910 (no session established for client)
2018-06-28 17:41:12,340 [myid:] - INFO  [/127.0.0.1:12234:QuorumCnxManager$Listener@743] - Received connection request /127.0.0.1:50912
2018-06-28 17:41:12,340 [myid:] - INFO  [/127.0.0.1:12238:QuorumCnxManager$Listener@743] - Received connection request /127.0.0.1:50913
2018-06-28 17:41:12,340 [myid:] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@347] - Have smaller server identifier, so dropping the connection: (3, 1)
2018-06-28 17:41:12,342 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:12,342 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x1fffffffe (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x2 (n.peerEpoch) LEADING (my state)
2018-06-28 17:41:12,342 [myid:] - INFO  [/127.0.0.1:12234:QuorumCnxManager$Listener@743] - Received connection request /127.0.0.1:50914
2018-06-28 17:41:12,342 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x2 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:12,343 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LEADING (n.state), 2 (n.sid), 0x2 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:12,343 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x2 (n.peerEpoch) LEADING (my state)
2018-06-28 17:41:12,344 [myid:] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@347] - Have smaller server identifier, so dropping the connection: (3, 1)
2018-06-28 17:41:12,344 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x2 (n.peerEpoch) FOLLOWING (my state)
2018-06-28 17:41:12,344 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 3 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:12,344 [myid:] - INFO  [/127.0.0.1:12238:QuorumCnxManager$Listener@743] - Received connection request /127.0.0.1:50915
2018-06-28 17:41:12,344 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LEADING (n.state), 2 (n.sid), 0x2 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:12,344 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), FOLLOWING (n.state), 3 (n.sid), 0x2 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:12,344 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@941] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:418)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1094)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$700(QuorumCnxManager.java:74)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:929)
2018-06-28 17:41:12,345 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11233:QuorumPeer@979] - FOLLOWING
2018-06-28 17:41:12,345 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@951] - Send worker leaving thread
2018-06-28 17:41:12,344 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1025] - Connection broken for id 1, my id = 3, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1010)
2018-06-28 17:41:12,345 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1028] - Interrupting SendWorker
2018-06-28 17:41:12,344 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1025] - Connection broken for id 3, my id = 1, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1010)
2018-06-28 17:41:12,346 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1028] - Interrupting SendWorker
2018-06-28 17:41:12,345 [myid:] - INFO  [/127.0.0.1:12234:QuorumCnxManager$Listener@743] - Received connection request /127.0.0.1:50916
2018-06-28 17:41:12,345 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11233:ZooKeeperServer@174] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test767438958121257644.junit.dir/version-2 snapdir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test767438958121257644.junit.dir/version-2
2018-06-28 17:41:12,346 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@941] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:418)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1094)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$700(QuorumCnxManager.java:74)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:929)
2018-06-28 17:41:12,346 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@951] - Send worker leaving thread
2018-06-28 17:41:12,346 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11233:Follower@65] - FOLLOWING - LEADER ELECTION TOOK - 8
2018-06-28 17:41:12,347 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), FOLLOWING (n.state), 3 (n.sid), 0x2 (n.peerEpoch) FOLLOWING (my state)
2018-06-28 17:41:12,347 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x2 (n.peerEpoch) FOLLOWING (my state)
2018-06-28 17:41:12,347 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11233:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:41:12,347 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), FOLLOWING (n.state), 3 (n.sid), 0x2 (n.peerEpoch) FOLLOWING (my state)
2018-06-28 17:41:12,348 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50917:LearnerHandler@346] - Follower sid: 1 : info : org.apache.zookeeper.server.quorum.QuorumPeer$QuorumServer@4b7998ec
2018-06-28 17:41:12,348 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50917:LearnerHandler@401] - Synchronizing with Follower sid: 1 maxCommittedLog=0x1fffffffe minCommittedLog=0x100000001 peerLastZxid=0x1fffffffe
2018-06-28 17:41:12,348 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50917:LearnerHandler@475] - Sending DIFF
2018-06-28 17:41:12,348 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11233:Learner@332] - Getting a diff from the leader 0x1fffffffe
2018-06-28 17:41:12,356 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50917:LearnerHandler@535] - Received NEWLEADER-ACK message from 1
2018-06-28 17:41:12,432 [myid:] - INFO  [WorkerSender[myid=1]:FastLeaderElection$Messenger$WorkerSender@440] - WorkerSender is down
2018-06-28 17:41:12,432 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@409] - WorkerReceiver is down
2018-06-28 17:41:12,592 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11233
2018-06-28 17:41:12,593 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11233:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:50918
2018-06-28 17:41:12,593 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11233:NIOServerCnxn@908] - Processing stat command from /127.0.0.1:50918
2018-06-28 17:41:12,593 [myid:] - INFO  [Thread-48:NIOServerCnxn$StatCommand@687] - Stat command output
2018-06-28 17:41:12,595 [myid:] - INFO  [Thread-48:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:50918 (no session established for client)
2018-06-28 17:41:12,595 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11235
2018-06-28 17:41:12,596 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11235:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:50919
2018-06-28 17:41:12,596 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11235:NIOServerCnxn@908] - Processing stat command from /127.0.0.1:50919
2018-06-28 17:41:12,596 [myid:] - INFO  [Thread-49:NIOServerCnxn$StatCommand@687] - Stat command output
2018-06-28 17:41:12,597 [myid:] - INFO  [Thread-49:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:50919 (no session established for client)
2018-06-28 17:41:12,597 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11237
2018-06-28 17:41:12,598 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11237:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:50920
2018-06-28 17:41:12,598 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11237:NIOServerCnxn@908] - Processing stat command from /127.0.0.1:50920
2018-06-28 17:41:12,598 [myid:] - INFO  [Thread-50:NIOServerCnxn$StatCommand@687] - Stat command output
2018-06-28 17:41:12,598 [myid:] - INFO  [Thread-50:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:50920 (no session established for client)
2018-06-28 17:41:13,510 [myid:] - INFO  [main-SendThread(localhost:11233):ClientCnxn$SendThread@1029] - Opening socket connection to server localhost/127.0.0.1:11233. Will not attempt to authenticate using SASL (unknown error)
2018-06-28 17:41:13,511 [myid:] - INFO  [main-SendThread(localhost:11233):ClientCnxn$SendThread@879] - Socket connection established to localhost/127.0.0.1:11233, initiating session
2018-06-28 17:41:13,511 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11233:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:50921
2018-06-28 17:41:13,511 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11233:ZooKeeperServer@942] - Client attempting to renew session 0x10006549a090000 at /127.0.0.1:50921
2018-06-28 17:41:13,511 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11233:Learner@108] - Revalidating client: 0x10006549a090000
2018-06-28 17:41:13,513 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11233:ZooKeeperServer@694] - Established session 0x10006549a090000 with negotiated timeout 30000 for client /127.0.0.1:50921
2018-06-28 17:41:13,513 [myid:] - INFO  [main-SendThread(localhost:11233):ClientCnxn$SendThread@1303] - Session establishment complete on server localhost/127.0.0.1:11233, sessionid = 0x10006549a090000, negotiated timeout = 30000
2018-06-28 17:41:13,516 [myid:] - INFO  [main:ZxidRolloverTest@244] - Validating nodes 0 thru 12
2018-06-28 17:41:13,516 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000004
2018-06-28 17:41:13,517 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000005
2018-06-28 17:41:13,518 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000006
2018-06-28 17:41:13,519 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000007
2018-06-28 17:41:13,519 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000008
2018-06-28 17:41:13,520 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000009
2018-06-28 17:41:13,521 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000a
2018-06-28 17:41:13,522 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000b
2018-06-28 17:41:13,522 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000c
2018-06-28 17:41:13,523 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000d
2018-06-28 17:41:13,524 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:1fffffffd
2018-06-28 17:41:13,525 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:1fffffffe
2018-06-28 17:41:13,525 [myid:] - INFO  [main:ZxidRolloverTest@225] - Creating nodes 12 thru 22
2018-06-28 17:41:13,527 [myid:] - WARN  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11237:Follower@119] - Got zxid 0x200000001 expected 0x1
2018-06-28 17:41:13,527 [myid:] - WARN  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11233:Follower@119] - Got zxid 0x200000001 expected 0x1
2018-06-28 17:41:13,528 [myid:] - INFO  [SyncThread:1:FileTxnLog@213] - Creating new log file: log.200000001
2018-06-28 17:41:13,534 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@301] - Snapshotting: 0x200000005 to /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test929980678425759234.junit.dir/version-2/snapshot.200000005
2018-06-28 17:41:13,534 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@301] - Snapshotting: 0x200000005 to /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test6976223008401699005.junit.dir/version-2/snapshot.200000005
2018-06-28 17:41:13,534 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@301] - Snapshotting: 0x200000005 to /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test767438958121257644.junit.dir/version-2/snapshot.200000005
2018-06-28 17:41:13,535 [myid:] - INFO  [SyncThread:2:FileTxnLog@213] - Creating new log file: log.200000007
2018-06-28 17:41:13,535 [myid:] - INFO  [SyncThread:3:FileTxnLog@213] - Creating new log file: log.200000007
2018-06-28 17:41:13,535 [myid:] - INFO  [SyncThread:1:FileTxnLog@213] - Creating new log file: log.200000007
2018-06-28 17:41:13,541 [myid:] - INFO  [main:ZxidRolloverTest@244] - Validating nodes 0 thru 22
2018-06-28 17:41:13,541 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000004
2018-06-28 17:41:13,542 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000005
2018-06-28 17:41:13,543 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000006
2018-06-28 17:41:13,543 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000007
2018-06-28 17:41:13,544 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000008
2018-06-28 17:41:13,544 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000009
2018-06-28 17:41:13,545 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000a
2018-06-28 17:41:13,545 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000b
2018-06-28 17:41:13,546 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000c
2018-06-28 17:41:13,546 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000d
2018-06-28 17:41:13,547 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:1fffffffd
2018-06-28 17:41:13,547 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:1fffffffe
2018-06-28 17:41:13,548 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000001
2018-06-28 17:41:13,548 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000002
2018-06-28 17:41:13,549 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000003
2018-06-28 17:41:13,549 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000004
2018-06-28 17:41:13,550 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000005
2018-06-28 17:41:13,550 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000006
2018-06-28 17:41:13,551 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000007
2018-06-28 17:41:13,551 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000008
2018-06-28 17:41:13,552 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000009
2018-06-28 17:41:13,553 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:20000000a
2018-06-28 17:41:13,553 [myid:] - INFO  [main:ZxidRolloverTest@225] - Creating nodes 22 thru 32
2018-06-28 17:41:13,553 [myid:] - WARN  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11233:Follower@119] - Got zxid 0x2fffffffd expected 0x20000000b
2018-06-28 17:41:13,553 [myid:] - WARN  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11237:Follower@119] - Got zxid 0x2fffffffd expected 0x20000000b
2018-06-28 17:41:13,554 [myid:] - WARN  [LearnerHandler-/127.0.0.1:50917:Leader@613] - Commiting zxid 0x2fffffffd from /127.0.0.1:12235 not first!
2018-06-28 17:41:13,554 [myid:] - WARN  [LearnerHandler-/127.0.0.1:50917:Leader@615] - First is 0x20000000b
2018-06-28 17:41:13,555 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@301] - Snapshotting: 0x2fffffffd to /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test929980678425759234.junit.dir/version-2/snapshot.2fffffffd
2018-06-28 17:41:13,555 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@301] - Snapshotting: 0x2fffffffd to /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test767438958121257644.junit.dir/version-2/snapshot.2fffffffd
2018-06-28 17:41:13,555 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@301] - Snapshotting: 0x2fffffffd to /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test6976223008401699005.junit.dir/version-2/snapshot.2fffffffd
2018-06-28 17:41:13,556 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::Leader@520] - Shutting down
2018-06-28 17:41:13,556 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::Leader@526] - Shutdown called
java.lang.Exception: shutdown Leader! reason: zxid lower 32 bits have rolled over, forcing re-election, and therefore new epoch start
	at org.apache.zookeeper.server.quorum.Leader.shutdown(Leader.java:526)
	at org.apache.zookeeper.server.quorum.Leader.propose(Leader.java:772)
	at org.apache.zookeeper.server.quorum.ProposalRequestProcessor.processRequest(ProposalRequestProcessor.java:78)
	at org.apache.zookeeper.server.PrepRequestProcessor.pRequest(PrepRequestProcessor.java:681)
	at org.apache.zookeeper.server.PrepRequestProcessor.run(PrepRequestProcessor.java:134)
2018-06-28 17:41:13,556 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:50907 which had sessionid 0x20006549a0a0000
2018-06-28 17:41:13,556 [myid:] - INFO  [LearnerCnxAcceptor-/127.0.0.1:12235:Leader$LearnerCnxAcceptor@340] - exception while shutting down acceptor: java.net.SocketException: Socket closed
2018-06-28 17:41:13,556 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::ZooKeeperServer@502] - shutting down
2018-06-28 17:41:13,556 [myid:] - INFO  [main-SendThread(localhost:11235):ClientCnxn$SendThread@1162] - Unable to read additional data from server sessionid 0x20006549a0a0000, likely server has closed socket, closing socket connection and attempting reconnect
2018-06-28 17:41:13,557 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::SessionTrackerImpl@226] - Shutting down
2018-06-28 17:41:13,557 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::PrepRequestProcessor@769] - Shutting down
2018-06-28 17:41:13,557 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::ProposalRequestProcessor@88] - Shutting down
2018-06-28 17:41:13,557 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::CommitProcessor@184] - Shutting down
2018-06-28 17:41:13,557 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::Leader$ToBeAppliedRequestProcessor@685] - Shutting down
2018-06-28 17:41:13,557 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::FinalRequestProcessor@403] - shutdown of request processor complete
2018-06-28 17:41:13,557 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::SyncRequestProcessor@208] - Shutting down
2018-06-28 17:41:13,557 [myid:] - INFO  [CommitProcessor:2:CommitProcessor@153] - CommitProcessor exited loop!
2018-06-28 17:41:13,557 [myid:] - INFO  [SyncThread:2:SyncRequestProcessor@186] - SyncRequestProcessor exited!
2018-06-28 17:41:13,558 [myid:] - WARN  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11233:Follower@90] - Exception when following the leader
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:63)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:99)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:153)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:86)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:981)
2018-06-28 17:41:13,558 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::PrepRequestProcessor@138] - zxid lower 32 bits have rolled over, forcing re-election, and therefore new epoch start
2018-06-28 17:41:13,558 [myid:] - WARN  [LearnerHandler-/127.0.0.1:50903:LearnerHandler@661] - ******* GOODBYE /127.0.0.1:50903 ********
2018-06-28 17:41:13,558 [myid:] - WARN  [LearnerHandler-/127.0.0.1:50904:LearnerHandler@661] - ******* GOODBYE /127.0.0.1:50904 ********
2018-06-28 17:41:13,558 [myid:] - WARN  [LearnerHandler-/127.0.0.1:50917:LearnerHandler@661] - ******* GOODBYE /127.0.0.1:50917 ********
2018-06-28 17:41:13,558 [myid:] - WARN  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11237:Follower@90] - Exception when following the leader
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:63)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:99)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:153)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:86)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:981)
2018-06-28 17:41:13,558 [myid:] - WARN  [LearnerHandler-/127.0.0.1:50917:LearnerHandler@673] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1220)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:335)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:339)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:671)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:664)
2018-06-28 17:41:13,558 [myid:] - WARN  [LearnerHandler-/127.0.0.1:50904:LearnerHandler@673] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1220)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:335)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:339)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:671)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:664)
2018-06-28 17:41:13,558 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11233:Follower@169] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:169)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:985)
2018-06-28 17:41:13,558 [myid:] - WARN  [LearnerHandler-/127.0.0.1:50903:LearnerHandler@673] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1220)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:335)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:339)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:671)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:664)
2018-06-28 17:41:13,559 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11233:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:50921 which had sessionid 0x10006549a090000
2018-06-28 17:41:13,558 [myid:] - ERROR [ProcessThread(sid:2 cport:-1)::ZooKeeperCriticalThread@49] - Severe unrecoverable error, from thread : ProcessThread(sid:2 cport:-1):
org.apache.zookeeper.server.RequestProcessor$RequestProcessorException: zxid lower 32 bits have rolled over, forcing re-election, and therefore new epoch start
	at org.apache.zookeeper.server.quorum.ProposalRequestProcessor.processRequest(ProposalRequestProcessor.java:80)
	at org.apache.zookeeper.server.PrepRequestProcessor.pRequest(PrepRequestProcessor.java:681)
	at org.apache.zookeeper.server.PrepRequestProcessor.run(PrepRequestProcessor.java:134)
Caused by: org.apache.zookeeper.server.quorum.Leader$XidRolloverException: zxid lower 32 bits have rolled over, forcing re-election, and therefore new epoch start
	at org.apache.zookeeper.server.quorum.Leader.propose(Leader.java:773)
	at org.apache.zookeeper.server.quorum.ProposalRequestProcessor.processRequest(ProposalRequestProcessor.java:78)
	... 2 more
2018-06-28 17:41:13,559 [myid:] - INFO  [main-SendThread(localhost:11233):ClientCnxn$SendThread@1162] - Unable to read additional data from server sessionid 0x10006549a090000, likely server has closed socket, closing socket connection and attempting reconnect
2018-06-28 17:41:13,559 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11233:FollowerZooKeeperServer@140] - Shutting down
2018-06-28 17:41:13,559 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11233:ZooKeeperServer@502] - shutting down
2018-06-28 17:41:13,559 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11233:FollowerRequestProcessor@107] - Shutting down
2018-06-28 17:41:13,558 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11237:Follower@169] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:169)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:985)
2018-06-28 17:41:13,559 [myid:] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@97] - FollowerRequestProcessor exited loop!
2018-06-28 17:41:13,559 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11237:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:50905 which had sessionid 0x30006549a0d0000
2018-06-28 17:41:13,559 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11233:CommitProcessor@184] - Shutting down
2018-06-28 17:41:13,560 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11237:FollowerZooKeeperServer@140] - Shutting down
2018-06-28 17:41:13,560 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11237:ZooKeeperServer@502] - shutting down
2018-06-28 17:41:13,560 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11237:FollowerRequestProcessor@107] - Shutting down
2018-06-28 17:41:13,559 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::ZooKeeperServerListenerImpl@42] - Thread ProcessThread(sid:2 cport:-1): exits, error code 1
2018-06-28 17:41:13,560 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::PrepRequestProcessor@144] - PrepRequestProcessor exited loop!
2018-06-28 17:41:13,560 [myid:] - INFO  [FollowerRequestProcessor:3:FollowerRequestProcessor@97] - FollowerRequestProcessor exited loop!
2018-06-28 17:41:13,560 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11237:CommitProcessor@184] - Shutting down
2018-06-28 17:41:13,560 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11233:FinalRequestProcessor@403] - shutdown of request processor complete
2018-06-28 17:41:13,560 [myid:] - INFO  [CommitProcessor:1:CommitProcessor@153] - CommitProcessor exited loop!
2018-06-28 17:41:13,560 [myid:] - INFO  [main-SendThread(localhost:11237):ClientCnxn$SendThread@1162] - Unable to read additional data from server sessionid 0x30006549a0d0000, likely server has closed socket, closing socket connection and attempting reconnect
2018-06-28 17:41:13,560 [myid:] - INFO  [CommitProcessor:3:CommitProcessor@153] - CommitProcessor exited loop!
2018-06-28 17:41:13,560 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11237:FinalRequestProcessor@403] - shutdown of request processor complete
2018-06-28 17:41:13,561 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11233:SyncRequestProcessor@208] - Shutting down
2018-06-28 17:41:13,561 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11237:SyncRequestProcessor@208] - Shutting down
2018-06-28 17:41:13,561 [myid:] - INFO  [SyncThread:1:SyncRequestProcessor@186] - SyncRequestProcessor exited!
2018-06-28 17:41:13,561 [myid:] - INFO  [SyncThread:3:SyncRequestProcessor@186] - SyncRequestProcessor exited!
2018-06-28 17:41:13,561 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11233:QuorumPeer@909] - LOOKING
2018-06-28 17:41:13,561 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11237:QuorumPeer@909] - LOOKING
2018-06-28 17:41:13,561 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11233:FastLeaderElection@813] - New election. My id =  1, proposed zxid=0x2fffffffe
2018-06-28 17:41:13,561 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11237:FastLeaderElection@813] - New election. My id =  3, proposed zxid=0x2fffffffe
2018-06-28 17:41:13,561 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x2fffffffe (n.zxid), 0x3 (n.round), LOOKING (n.state), 1 (n.sid), 0x2 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:13,561 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x2fffffffe (n.zxid), 0x3 (n.round), LOOKING (n.state), 3 (n.sid), 0x2 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:13,562 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x2fffffffe (n.zxid), 0x3 (n.round), LOOKING (n.state), 1 (n.sid), 0x2 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:13,562 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x2fffffffe (n.zxid), 0x3 (n.round), LOOKING (n.state), 1 (n.sid), 0x2 (n.peerEpoch) LEADING (my state)
2018-06-28 17:41:13,562 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x2fffffffe (n.zxid), 0x3 (n.round), LOOKING (n.state), 3 (n.sid), 0x2 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:13,562 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x2fffffffe (n.zxid), 0x3 (n.round), LOOKING (n.state), 3 (n.sid), 0x2 (n.peerEpoch) LEADING (my state)
2018-06-28 17:41:13,562 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x2fffffffe (n.zxid), 0x3 (n.round), LOOKING (n.state), 1 (n.sid), 0x2 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:13,562 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LEADING (n.state), 2 (n.sid), 0x2 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:13,562 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x2fffffffe (n.zxid), 0x3 (n.round), LOOKING (n.state), 1 (n.sid), 0x2 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:13,562 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x2fffffffe (n.zxid), 0x3 (n.round), LOOKING (n.state), 1 (n.sid), 0x2 (n.peerEpoch) LEADING (my state)
2018-06-28 17:41:13,562 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LEADING (n.state), 2 (n.sid), 0x2 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:13,562 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LEADING (n.state), 2 (n.sid), 0x2 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:13,746 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11235:Leader@520] - Shutting down
2018-06-28 17:41:13,746 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11235:QuorumPeer@909] - LOOKING
2018-06-28 17:41:13,746 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11235:FastLeaderElection@813] - New election. My id =  2, proposed zxid=0x2fffffffe
2018-06-28 17:41:13,747 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x2fffffffe (n.zxid), 0x3 (n.round), LOOKING (n.state), 2 (n.sid), 0x2 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:13,747 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x2fffffffe (n.zxid), 0x3 (n.round), LOOKING (n.state), 2 (n.sid), 0x2 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:13,747 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x2fffffffe (n.zxid), 0x3 (n.round), LOOKING (n.state), 2 (n.sid), 0x2 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:13,952 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11235:FastLeaderElection@847] - Notification time out: 400
2018-06-28 17:41:13,953 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11233:QuorumPeer@979] - FOLLOWING
2018-06-28 17:41:13,953 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11237:QuorumPeer@991] - LEADING
2018-06-28 17:41:13,953 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x2fffffffe (n.zxid), 0x3 (n.round), LOOKING (n.state), 2 (n.sid), 0x2 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:13,953 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x2fffffffe (n.zxid), 0x3 (n.round), LOOKING (n.state), 2 (n.sid), 0x2 (n.peerEpoch) LEADING (my state)
2018-06-28 17:41:13,953 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x2fffffffe (n.zxid), 0x3 (n.round), LOOKING (n.state), 2 (n.sid), 0x2 (n.peerEpoch) FOLLOWING (my state)
2018-06-28 17:41:13,953 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11237:ZooKeeperServer@174] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test6976223008401699005.junit.dir/version-2 snapdir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test6976223008401699005.junit.dir/version-2
2018-06-28 17:41:13,953 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11233:ZooKeeperServer@174] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test767438958121257644.junit.dir/version-2 snapdir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test767438958121257644.junit.dir/version-2
2018-06-28 17:41:13,953 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x2fffffffe (n.zxid), 0x3 (n.round), LEADING (n.state), 3 (n.sid), 0x2 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:13,953 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11237:Leader@380] - LEADING - LEADER ELECTION TOOK - 392
2018-06-28 17:41:13,953 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x2fffffffe (n.zxid), 0x3 (n.round), FOLLOWING (n.state), 1 (n.sid), 0x2 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:13,953 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11233:Follower@65] - FOLLOWING - LEADER ELECTION TOOK - 392
2018-06-28 17:41:13,954 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11235:QuorumPeer@979] - FOLLOWING
2018-06-28 17:41:13,954 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11235:ZooKeeperServer@174] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test929980678425759234.junit.dir/version-2 snapdir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test929980678425759234.junit.dir/version-2
2018-06-28 17:41:13,954 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11233:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:41:13,954 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11235:Follower@65] - FOLLOWING - LEADER ELECTION TOOK - 207
2018-06-28 17:41:13,954 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11235:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:41:13,955 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50922:LearnerHandler@346] - Follower sid: 1 : info : org.apache.zookeeper.server.quorum.QuorumPeer$QuorumServer@4b7998ec
2018-06-28 17:41:13,956 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50923:LearnerHandler@346] - Follower sid: 2 : info : org.apache.zookeeper.server.quorum.QuorumPeer$QuorumServer@fc35dc2
2018-06-28 17:41:13,965 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50922:LearnerHandler@401] - Synchronizing with Follower sid: 1 maxCommittedLog=0x2fffffffe minCommittedLog=0x100000001 peerLastZxid=0x2fffffffe
2018-06-28 17:41:13,965 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50922:LearnerHandler@410] - leader and follower are in sync, zxid=0x2fffffffe
2018-06-28 17:41:13,965 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50922:LearnerHandler@475] - Sending DIFF
2018-06-28 17:41:13,965 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11233:Learner@332] - Getting a diff from the leader 0x2fffffffe
2018-06-28 17:41:13,966 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50923:LearnerHandler@401] - Synchronizing with Follower sid: 2 maxCommittedLog=0x2fffffffe minCommittedLog=0x100000001 peerLastZxid=0x2fffffffe
2018-06-28 17:41:13,966 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50923:LearnerHandler@410] - leader and follower are in sync, zxid=0x2fffffffe
2018-06-28 17:41:13,966 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50923:LearnerHandler@475] - Sending DIFF
2018-06-28 17:41:13,966 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11235:Learner@332] - Getting a diff from the leader 0x2fffffffe
2018-06-28 17:41:13,967 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50922:LearnerHandler@535] - Received NEWLEADER-ACK message from 1
2018-06-28 17:41:13,967 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11237:Leader@964] - Have quorum of supporters, sids: [ 1,3 ]; starting up and setting last processed zxid: 0x300000000
2018-06-28 17:41:13,971 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50923:LearnerHandler@535] - Received NEWLEADER-ACK message from 2
2018-06-28 17:41:14,666 [myid:] - INFO  [SessionTracker:SessionTrackerImpl@163] - SessionTrackerImpl exited loop!
2018-06-28 17:41:15,093 [myid:] - INFO  [main-SendThread(localhost:11235):ClientCnxn$SendThread@1029] - Opening socket connection to server localhost/127.0.0.1:11235. Will not attempt to authenticate using SASL (unknown error)
2018-06-28 17:41:15,094 [myid:] - INFO  [main-SendThread(localhost:11235):ClientCnxn$SendThread@879] - Socket connection established to localhost/127.0.0.1:11235, initiating session
2018-06-28 17:41:15,094 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11235:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:50924
2018-06-28 17:41:15,094 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11235:ZooKeeperServer@942] - Client attempting to renew session 0x20006549a0a0000 at /127.0.0.1:50924
2018-06-28 17:41:15,094 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11235:Learner@108] - Revalidating client: 0x20006549a0a0000
2018-06-28 17:41:15,096 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11235:ZooKeeperServer@694] - Established session 0x20006549a0a0000 with negotiated timeout 30000 for client /127.0.0.1:50924
2018-06-28 17:41:15,096 [myid:] - INFO  [main-SendThread(localhost:11235):ClientCnxn$SendThread@1303] - Session establishment complete on server localhost/127.0.0.1:11235, sessionid = 0x20006549a0a0000, negotiated timeout = 30000
2018-06-28 17:41:15,147 [myid:] - INFO  [main-SendThread(localhost:11233):ClientCnxn$SendThread@1029] - Opening socket connection to server localhost/127.0.0.1:11233. Will not attempt to authenticate using SASL (unknown error)
2018-06-28 17:41:15,147 [myid:] - INFO  [main-SendThread(localhost:11233):ClientCnxn$SendThread@879] - Socket connection established to localhost/127.0.0.1:11233, initiating session
2018-06-28 17:41:15,147 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11233:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:50925
2018-06-28 17:41:15,147 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11233:ZooKeeperServer@942] - Client attempting to renew session 0x10006549a090000 at /127.0.0.1:50925
2018-06-28 17:41:15,147 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11233:Learner@108] - Revalidating client: 0x10006549a090000
2018-06-28 17:41:15,148 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11233:ZooKeeperServer@694] - Established session 0x10006549a090000 with negotiated timeout 30000 for client /127.0.0.1:50925
2018-06-28 17:41:15,148 [myid:] - INFO  [main-SendThread(localhost:11233):ClientCnxn$SendThread@1303] - Session establishment complete on server localhost/127.0.0.1:11233, sessionid = 0x10006549a090000, negotiated timeout = 30000
2018-06-28 17:41:15,448 [myid:] - INFO  [main-SendThread(localhost:11237):ClientCnxn$SendThread@1029] - Opening socket connection to server localhost/127.0.0.1:11237. Will not attempt to authenticate using SASL (unknown error)
2018-06-28 17:41:15,448 [myid:] - INFO  [main-SendThread(localhost:11237):ClientCnxn$SendThread@879] - Socket connection established to localhost/127.0.0.1:11237, initiating session
2018-06-28 17:41:15,448 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11237:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:50926
2018-06-28 17:41:15,448 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11237:ZooKeeperServer@942] - Client attempting to renew session 0x30006549a0d0000 at /127.0.0.1:50926
2018-06-28 17:41:15,449 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11237:ZooKeeperServer@694] - Established session 0x30006549a0d0000 with negotiated timeout 30000 for client /127.0.0.1:50926
2018-06-28 17:41:15,449 [myid:] - INFO  [main-SendThread(localhost:11237):ClientCnxn$SendThread@1303] - Session establishment complete on server localhost/127.0.0.1:11237, sessionid = 0x30006549a0d0000, negotiated timeout = 30000
2018-06-28 17:41:15,449 [myid:] - INFO  [main:QuorumUtil@227] - Shutting down quorum peer QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11233
2018-06-28 17:41:15,449 [myid:] - INFO  [main:Follower@169] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:169)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1026)
	at org.apache.zookeeper.test.QuorumUtil.shutdown(QuorumUtil.java:228)
	at org.apache.zookeeper.server.ZxidRolloverTest.shutdown(ZxidRolloverTest.java:183)
	at org.apache.zookeeper.server.ZxidRolloverTest.testRolloverThenFollowerRestart(ZxidRolloverTest.java:336)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:536)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1205)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1048)
2018-06-28 17:41:15,450 [myid:] - INFO  [main:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:50925 which had sessionid 0x10006549a090000
2018-06-28 17:41:15,450 [myid:] - INFO  [main:FollowerZooKeeperServer@140] - Shutting down
2018-06-28 17:41:15,450 [myid:] - INFO  [main:ZooKeeperServer@502] - shutting down
2018-06-28 17:41:15,450 [myid:] - INFO  [main:FollowerRequestProcessor@107] - Shutting down
2018-06-28 17:41:15,450 [myid:] - INFO  [main-SendThread(localhost:11233):ClientCnxn$SendThread@1162] - Unable to read additional data from server sessionid 0x10006549a090000, likely server has closed socket, closing socket connection and attempting reconnect
2018-06-28 17:41:15,450 [myid:] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@97] - FollowerRequestProcessor exited loop!
2018-06-28 17:41:15,450 [myid:] - INFO  [main:CommitProcessor@184] - Shutting down
2018-06-28 17:41:15,451 [myid:] - INFO  [main:FinalRequestProcessor@403] - shutdown of request processor complete
2018-06-28 17:41:15,451 [myid:] - INFO  [CommitProcessor:1:CommitProcessor@153] - CommitProcessor exited loop!
2018-06-28 17:41:15,452 [myid:] - INFO  [main:SyncRequestProcessor@208] - Shutting down
2018-06-28 17:41:15,452 [myid:] - INFO  [SyncThread:1:SyncRequestProcessor@186] - SyncRequestProcessor exited!
2018-06-28 17:41:15,452 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11233:NIOServerCnxnFactory@242] - NIOServerCnxn factory exited run method
2018-06-28 17:41:15,453 [myid:] - ERROR [/127.0.0.1:12234:QuorumCnxManager$Listener@760] - Exception while listening
java.net.SocketException: Socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:409)
	at java.net.ServerSocket.implAccept(ServerSocket.java:545)
	at java.net.ServerSocket.accept(ServerSocket.java:513)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$Listener.run(QuorumCnxManager.java:741)
2018-06-28 17:41:15,453 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1025] - Connection broken for id 1, my id = 2, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1010)
2018-06-28 17:41:15,455 [myid:] - INFO  [main:QuorumUtil@231] - Shutting down leader election QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11233
2018-06-28 17:41:15,455 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1028] - Interrupting SendWorker
2018-06-28 17:41:15,454 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1025] - Connection broken for id 3, my id = 1, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1010)
2018-06-28 17:41:15,455 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@941] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:418)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1094)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$700(QuorumCnxManager.java:74)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:929)
2018-06-28 17:41:15,456 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@951] - Send worker leaving thread
2018-06-28 17:41:15,454 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@941] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:418)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1094)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$700(QuorumCnxManager.java:74)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:929)
2018-06-28 17:41:15,456 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@951] - Send worker leaving thread
2018-06-28 17:41:15,454 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1025] - Connection broken for id 1, my id = 3, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1010)
2018-06-28 17:41:15,456 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1028] - Interrupting SendWorker
2018-06-28 17:41:15,454 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@941] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:418)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1094)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$700(QuorumCnxManager.java:74)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:929)
2018-06-28 17:41:15,456 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@941] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:418)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1094)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$700(QuorumCnxManager.java:74)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:929)
2018-06-28 17:41:15,456 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@951] - Send worker leaving thread
2018-06-28 17:41:15,454 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1025] - Connection broken for id 2, my id = 1, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1010)
2018-06-28 17:41:15,457 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1028] - Interrupting SendWorker
2018-06-28 17:41:15,456 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@951] - Send worker leaving thread
2018-06-28 17:41:15,455 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1028] - Interrupting SendWorker
2018-06-28 17:41:15,455 [myid:] - INFO  [main:QuorumUtil@236] - Waiting for QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11233 to exit thread
2018-06-28 17:41:15,971 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11233:Follower@169] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:169)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:985)
2018-06-28 17:41:15,971 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11233:FollowerZooKeeperServer@140] - Shutting down
2018-06-28 17:41:15,971 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11233:SyncRequestProcessor@208] - Shutting down
2018-06-28 17:41:15,971 [myid:] - WARN  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11233:QuorumPeer@1009] - QuorumPeer main thread exited
2018-06-28 17:41:15,972 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11233
2018-06-28 17:41:16,455 [myid:] - INFO  [/127.0.0.1:12234:QuorumCnxManager$Listener@773] - Leaving listener
2018-06-28 17:41:16,629 [myid:] - INFO  [main-SendThread(localhost:11233):ClientCnxn$SendThread@1029] - Opening socket connection to server localhost/127.0.0.1:11233. Will not attempt to authenticate using SASL (unknown error)
2018-06-28 17:41:16,629 [myid:] - INFO  [main-SendThread(localhost:11233):ClientCnxn$SendThread@1166] - Socket error occurred: localhost/127.0.0.1:11233: Connection refused
2018-06-28 17:41:16,733 [myid:] - INFO  [main:QuorumUtil@186] - Creating QuorumPeer 1; public port 11233
2018-06-28 17:41:16,733 [myid:] - INFO  [main:ServerCnxnFactory@117] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2018-06-28 17:41:16,733 [myid:] - INFO  [main:NIOServerCnxnFactory@89] - binding to port 0.0.0.0/0.0.0.0:11233
2018-06-28 17:41:16,734 [myid:] - INFO  [main:FileSnap@86] - Reading snapshot /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test767438958121257644.junit.dir/version-2/snapshot.2fffffffd
2018-06-28 17:41:16,736 [myid:] - INFO  [ListenerThread:QuorumCnxManager$Listener@736] - My election bind port: /127.0.0.1:12234
2018-06-28 17:41:16,737 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11233
2018-06-28 17:41:16,738 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11233:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:50929
2018-06-28 17:41:16,738 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11233:QuorumPeer@909] - LOOKING
2018-06-28 17:41:16,738 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11233:NIOServerCnxn@908] - Processing stat command from /127.0.0.1:50929
2018-06-28 17:41:16,738 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11233:FastLeaderElection@813] - New election. My id =  1, proposed zxid=0x2fffffffe
2018-06-28 17:41:16,738 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x2fffffffe (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x3 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:16,739 [myid:] - INFO  [Thread-53:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:50929 (no session established for client)
2018-06-28 17:41:16,739 [myid:] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@347] - Have smaller server identifier, so dropping the connection: (2, 1)
2018-06-28 17:41:16,739 [myid:] - INFO  [/127.0.0.1:12236:QuorumCnxManager$Listener@743] - Received connection request /127.0.0.1:50930
2018-06-28 17:41:16,739 [myid:] - INFO  [/127.0.0.1:12238:QuorumCnxManager$Listener@743] - Received connection request /127.0.0.1:50931
2018-06-28 17:41:16,739 [myid:] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@347] - Have smaller server identifier, so dropping the connection: (3, 1)
2018-06-28 17:41:16,740 [myid:] - INFO  [/127.0.0.1:12234:QuorumCnxManager$Listener@743] - Received connection request /127.0.0.1:50932
2018-06-28 17:41:16,740 [myid:] - INFO  [/127.0.0.1:12234:QuorumCnxManager$Listener@743] - Received connection request /127.0.0.1:50933
2018-06-28 17:41:16,741 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x2fffffffe (n.zxid), 0x3 (n.round), LOOKING (n.state), 2 (n.sid), 0x2 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:16,741 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x2fffffffe (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x3 (n.peerEpoch) FOLLOWING (my state)
2018-06-28 17:41:16,741 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x2fffffffe (n.zxid), 0x3 (n.round), LOOKING (n.state), 1 (n.sid), 0x3 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:16,742 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x2fffffffe (n.zxid), 0x3 (n.round), LOOKING (n.state), 3 (n.sid), 0x2 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:16,742 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x2fffffffe (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x3 (n.peerEpoch) LEADING (my state)
2018-06-28 17:41:16,742 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x2fffffffe (n.zxid), 0x3 (n.round), FOLLOWING (n.state), 2 (n.sid), 0x3 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:16,742 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x2fffffffe (n.zxid), 0x3 (n.round), LOOKING (n.state), 1 (n.sid), 0x3 (n.peerEpoch) FOLLOWING (my state)
2018-06-28 17:41:16,742 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x2fffffffe (n.zxid), 0x3 (n.round), LOOKING (n.state), 1 (n.sid), 0x3 (n.peerEpoch) LEADING (my state)
2018-06-28 17:41:16,742 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x2fffffffe (n.zxid), 0x3 (n.round), LEADING (n.state), 3 (n.sid), 0x3 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:16,742 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x2fffffffe (n.zxid), 0x3 (n.round), FOLLOWING (n.state), 2 (n.sid), 0x3 (n.peerEpoch) FOLLOWING (my state)
2018-06-28 17:41:16,742 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11233:QuorumPeer@979] - FOLLOWING
2018-06-28 17:41:16,742 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x2fffffffe (n.zxid), 0x3 (n.round), LEADING (n.state), 3 (n.sid), 0x3 (n.peerEpoch) FOLLOWING (my state)
2018-06-28 17:41:16,742 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11233:ZooKeeperServer@174] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test767438958121257644.junit.dir/version-2 snapdir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test767438958121257644.junit.dir/version-2
2018-06-28 17:41:16,743 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11233:Follower@65] - FOLLOWING - LEADER ELECTION TOOK - 4
2018-06-28 17:41:16,743 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11233:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:41:16,744 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50934:LearnerHandler@346] - Follower sid: 1 : info : org.apache.zookeeper.server.quorum.QuorumPeer$QuorumServer@4b7998ec
2018-06-28 17:41:16,744 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50934:LearnerHandler@401] - Synchronizing with Follower sid: 1 maxCommittedLog=0x2fffffffe minCommittedLog=0x100000001 peerLastZxid=0x2fffffffe
2018-06-28 17:41:16,744 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50934:LearnerHandler@475] - Sending DIFF
2018-06-28 17:41:16,744 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11233:Learner@332] - Getting a diff from the leader 0x2fffffffe
2018-06-28 17:41:16,752 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50934:LearnerHandler@535] - Received NEWLEADER-ACK message from 1
2018-06-28 17:41:16,957 [myid:] - INFO  [WorkerSender[myid=1]:FastLeaderElection$Messenger$WorkerSender@440] - WorkerSender is down
2018-06-28 17:41:16,957 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@409] - WorkerReceiver is down
2018-06-28 17:41:16,989 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11233
2018-06-28 17:41:16,990 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11233:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:50935
2018-06-28 17:41:16,990 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11233:NIOServerCnxn@908] - Processing stat command from /127.0.0.1:50935
2018-06-28 17:41:16,990 [myid:] - INFO  [Thread-55:NIOServerCnxn$StatCommand@687] - Stat command output
2018-06-28 17:41:16,991 [myid:] - INFO  [Thread-55:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:50935 (no session established for client)
2018-06-28 17:41:16,992 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11235
2018-06-28 17:41:16,992 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11235:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:50936
2018-06-28 17:41:16,993 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11235:NIOServerCnxn@908] - Processing stat command from /127.0.0.1:50936
2018-06-28 17:41:16,993 [myid:] - INFO  [Thread-56:NIOServerCnxn$StatCommand@687] - Stat command output
2018-06-28 17:41:16,993 [myid:] - INFO  [Thread-56:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:50936 (no session established for client)
2018-06-28 17:41:16,994 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11237
2018-06-28 17:41:16,994 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11237:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:50937
2018-06-28 17:41:16,995 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11237:NIOServerCnxn@908] - Processing stat command from /127.0.0.1:50937
2018-06-28 17:41:16,995 [myid:] - INFO  [Thread-57:NIOServerCnxn$StatCommand@687] - Stat command output
2018-06-28 17:41:16,996 [myid:] - INFO  [Thread-57:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:50937 (no session established for client)
2018-06-28 17:41:18,109 [myid:] - INFO  [main-SendThread(localhost:11233):ClientCnxn$SendThread@1029] - Opening socket connection to server localhost/127.0.0.1:11233. Will not attempt to authenticate using SASL (unknown error)
2018-06-28 17:41:18,109 [myid:] - INFO  [main-SendThread(localhost:11233):ClientCnxn$SendThread@879] - Socket connection established to localhost/127.0.0.1:11233, initiating session
2018-06-28 17:41:18,109 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11233:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:50938
2018-06-28 17:41:18,110 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11233:ZooKeeperServer@942] - Client attempting to renew session 0x10006549a090000 at /127.0.0.1:50938
2018-06-28 17:41:18,110 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11233:Learner@108] - Revalidating client: 0x10006549a090000
2018-06-28 17:41:18,111 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11233:ZooKeeperServer@694] - Established session 0x10006549a090000 with negotiated timeout 30000 for client /127.0.0.1:50938
2018-06-28 17:41:18,111 [myid:] - INFO  [main-SendThread(localhost:11233):ClientCnxn$SendThread@1303] - Session establishment complete on server localhost/127.0.0.1:11233, sessionid = 0x10006549a090000, negotiated timeout = 30000
2018-06-28 17:41:18,112 [myid:] - INFO  [main:ZxidRolloverTest@244] - Validating nodes 0 thru 24
2018-06-28 17:41:18,113 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000004
2018-06-28 17:41:18,113 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000005
2018-06-28 17:41:18,114 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000006
2018-06-28 17:41:18,114 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000007
2018-06-28 17:41:18,115 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000008
2018-06-28 17:41:18,115 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000009
2018-06-28 17:41:18,116 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000a
2018-06-28 17:41:18,117 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000b
2018-06-28 17:41:18,117 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000c
2018-06-28 17:41:18,118 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000d
2018-06-28 17:41:18,119 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:1fffffffd
2018-06-28 17:41:18,119 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:1fffffffe
2018-06-28 17:41:18,120 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000001
2018-06-28 17:41:18,121 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000002
2018-06-28 17:41:18,121 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000003
2018-06-28 17:41:18,122 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000004
2018-06-28 17:41:18,122 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000005
2018-06-28 17:41:18,123 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000006
2018-06-28 17:41:18,123 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000007
2018-06-28 17:41:18,124 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000008
2018-06-28 17:41:18,124 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000009
2018-06-28 17:41:18,125 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:20000000a
2018-06-28 17:41:18,125 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:2fffffffd
2018-06-28 17:41:18,126 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:2fffffffe
2018-06-28 17:41:18,126 [myid:] - INFO  [main:ZxidRolloverTest@225] - Creating nodes 24 thru 34
2018-06-28 17:41:18,127 [myid:] - INFO  [SyncThread:3:FileTxnLog@213] - Creating new log file: log.300000001
2018-06-28 17:41:18,127 [myid:] - WARN  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11235:Follower@119] - Got zxid 0x300000001 expected 0x1
2018-06-28 17:41:18,127 [myid:] - WARN  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11233:Follower@119] - Got zxid 0x300000001 expected 0x1
2018-06-28 17:41:18,127 [myid:] - INFO  [SyncThread:2:FileTxnLog@213] - Creating new log file: log.300000001
2018-06-28 17:41:18,127 [myid:] - INFO  [SyncThread:1:FileTxnLog@213] - Creating new log file: log.300000001
2018-06-28 17:41:18,135 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@301] - Snapshotting: 0x300000004 to /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test6976223008401699005.junit.dir/version-2/snapshot.300000004
2018-06-28 17:41:18,136 [myid:] - INFO  [SyncThread:3:FileTxnLog@213] - Creating new log file: log.300000006
2018-06-28 17:41:18,137 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@301] - Snapshotting: 0x300000005 to /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test767438958121257644.junit.dir/version-2/snapshot.300000005
2018-06-28 17:41:18,137 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@301] - Snapshotting: 0x300000005 to /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test929980678425759234.junit.dir/version-2/snapshot.300000005
2018-06-28 17:41:18,138 [myid:] - INFO  [SyncThread:2:FileTxnLog@213] - Creating new log file: log.300000007
2018-06-28 17:41:18,138 [myid:] - INFO  [SyncThread:1:FileTxnLog@213] - Creating new log file: log.300000007
2018-06-28 17:41:18,143 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@301] - Snapshotting: 0x300000009 to /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test6976223008401699005.junit.dir/version-2/snapshot.300000009
2018-06-28 17:41:18,143 [myid:] - INFO  [main:QuorumUtil@227] - Shutting down quorum peer QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11233
2018-06-28 17:41:18,143 [myid:] - INFO  [main:Follower@169] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:169)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1026)
	at org.apache.zookeeper.test.QuorumUtil.shutdown(QuorumUtil.java:228)
	at org.apache.zookeeper.server.ZxidRolloverTest.shutdown(ZxidRolloverTest.java:183)
	at org.apache.zookeeper.server.ZxidRolloverTest.testRolloverThenFollowerRestart(ZxidRolloverTest.java:342)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:536)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1205)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1048)
2018-06-28 17:41:18,144 [myid:] - INFO  [main:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:50938 which had sessionid 0x10006549a090000
2018-06-28 17:41:18,144 [myid:] - INFO  [main:FollowerZooKeeperServer@140] - Shutting down
2018-06-28 17:41:18,144 [myid:] - INFO  [main-SendThread(localhost:11233):ClientCnxn$SendThread@1162] - Unable to read additional data from server sessionid 0x10006549a090000, likely server has closed socket, closing socket connection and attempting reconnect
2018-06-28 17:41:18,144 [myid:] - INFO  [main:ZooKeeperServer@502] - shutting down
2018-06-28 17:41:18,145 [myid:] - INFO  [main:FollowerRequestProcessor@107] - Shutting down
2018-06-28 17:41:18,145 [myid:] - INFO  [main:CommitProcessor@184] - Shutting down
2018-06-28 17:41:18,145 [myid:] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@97] - FollowerRequestProcessor exited loop!
2018-06-28 17:41:18,145 [myid:] - INFO  [CommitProcessor:1:CommitProcessor@153] - CommitProcessor exited loop!
2018-06-28 17:41:18,145 [myid:] - INFO  [main:FinalRequestProcessor@403] - shutdown of request processor complete
2018-06-28 17:41:18,146 [myid:] - INFO  [main:SyncRequestProcessor@208] - Shutting down
2018-06-28 17:41:18,146 [myid:] - INFO  [SyncThread:1:SyncRequestProcessor@186] - SyncRequestProcessor exited!
2018-06-28 17:41:18,146 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11233:NIOServerCnxnFactory@242] - NIOServerCnxn factory exited run method
2018-06-28 17:41:18,147 [myid:] - ERROR [/127.0.0.1:12234:QuorumCnxManager$Listener@760] - Exception while listening
java.net.SocketException: Socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:409)
	at java.net.ServerSocket.implAccept(ServerSocket.java:545)
	at java.net.ServerSocket.accept(ServerSocket.java:513)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$Listener.run(QuorumCnxManager.java:741)
2018-06-28 17:41:18,147 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1025] - Connection broken for id 2, my id = 1, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1010)
2018-06-28 17:41:18,147 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1025] - Connection broken for id 1, my id = 2, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1010)
2018-06-28 17:41:18,149 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1028] - Interrupting SendWorker
2018-06-28 17:41:18,147 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@941] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:418)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1094)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$700(QuorumCnxManager.java:74)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:929)
2018-06-28 17:41:18,150 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@941] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:418)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1094)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$700(QuorumCnxManager.java:74)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:929)
2018-06-28 17:41:18,150 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@951] - Send worker leaving thread
2018-06-28 17:41:18,150 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@951] - Send worker leaving thread
2018-06-28 17:41:18,149 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1028] - Interrupting SendWorker
2018-06-28 17:41:18,149 [myid:] - INFO  [main:QuorumUtil@231] - Shutting down leader election QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11233
2018-06-28 17:41:18,148 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1025] - Connection broken for id 3, my id = 1, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1010)
2018-06-28 17:41:18,151 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1028] - Interrupting SendWorker
2018-06-28 17:41:18,148 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1025] - Connection broken for id 1, my id = 3, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1010)
2018-06-28 17:41:18,151 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1028] - Interrupting SendWorker
2018-06-28 17:41:18,148 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@941] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:418)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1094)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$700(QuorumCnxManager.java:74)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:929)
2018-06-28 17:41:18,152 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@941] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:418)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1094)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$700(QuorumCnxManager.java:74)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:929)
2018-06-28 17:41:18,152 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@951] - Send worker leaving thread
2018-06-28 17:41:18,152 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@951] - Send worker leaving thread
2018-06-28 17:41:18,151 [myid:] - INFO  [main:QuorumUtil@236] - Waiting for QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11233 to exit thread
2018-06-28 17:41:18,977 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11233:Follower@169] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:169)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:985)
2018-06-28 17:41:18,977 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11233:FollowerZooKeeperServer@140] - Shutting down
2018-06-28 17:41:18,977 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11233:SyncRequestProcessor@208] - Shutting down
2018-06-28 17:41:18,977 [myid:] - WARN  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11233:QuorumPeer@1009] - QuorumPeer main thread exited
2018-06-28 17:41:18,978 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11233
2018-06-28 17:41:19,149 [myid:] - INFO  [/127.0.0.1:12234:QuorumCnxManager$Listener@773] - Leaving listener
2018-06-28 17:41:19,742 [myid:] - INFO  [WorkerSender[myid=1]:FastLeaderElection$Messenger$WorkerSender@440] - WorkerSender is down
2018-06-28 17:41:19,746 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@409] - WorkerReceiver is down
2018-06-28 17:41:20,134 [myid:] - INFO  [main-SendThread(localhost:11233):ClientCnxn$SendThread@1029] - Opening socket connection to server localhost/127.0.0.1:11233. Will not attempt to authenticate using SASL (unknown error)
2018-06-28 17:41:20,134 [myid:] - INFO  [main-SendThread(localhost:11233):ClientCnxn$SendThread@1166] - Socket error occurred: localhost/127.0.0.1:11233: Connection refused
2018-06-28 17:41:20,235 [myid:] - INFO  [main:QuorumUtil@186] - Creating QuorumPeer 1; public port 11233
2018-06-28 17:41:20,235 [myid:] - INFO  [main:ServerCnxnFactory@117] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2018-06-28 17:41:20,236 [myid:] - INFO  [main:NIOServerCnxnFactory@89] - binding to port 0.0.0.0/0.0.0.0:11233
2018-06-28 17:41:20,237 [myid:] - INFO  [main:FileSnap@86] - Reading snapshot /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test767438958121257644.junit.dir/version-2/snapshot.300000005
2018-06-28 17:41:20,240 [myid:] - INFO  [ListenerThread:QuorumCnxManager$Listener@736] - My election bind port: /127.0.0.1:12234
2018-06-28 17:41:20,240 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11233
2018-06-28 17:41:20,241 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11233:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:50949
2018-06-28 17:41:20,241 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11233:QuorumPeer@909] - LOOKING
2018-06-28 17:41:20,241 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11233:NIOServerCnxn@908] - Processing stat command from /127.0.0.1:50949
2018-06-28 17:41:20,241 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11233:FastLeaderElection@813] - New election. My id =  1, proposed zxid=0x30000000a
2018-06-28 17:41:20,242 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x30000000a (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x3 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:20,242 [myid:] - INFO  [Thread-58:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:50949 (no session established for client)
2018-06-28 17:41:20,242 [myid:] - INFO  [/127.0.0.1:12236:QuorumCnxManager$Listener@743] - Received connection request /127.0.0.1:50950
2018-06-28 17:41:20,242 [myid:] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@347] - Have smaller server identifier, so dropping the connection: (2, 1)
2018-06-28 17:41:20,243 [myid:] - INFO  [/127.0.0.1:12234:QuorumCnxManager$Listener@743] - Received connection request /127.0.0.1:50951
2018-06-28 17:41:20,243 [myid:] - INFO  [/127.0.0.1:12238:QuorumCnxManager$Listener@743] - Received connection request /127.0.0.1:50952
2018-06-28 17:41:20,243 [myid:] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@347] - Have smaller server identifier, so dropping the connection: (3, 1)
2018-06-28 17:41:20,244 [myid:] - INFO  [/127.0.0.1:12234:QuorumCnxManager$Listener@743] - Received connection request /127.0.0.1:50953
2018-06-28 17:41:20,245 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x2fffffffe (n.zxid), 0x3 (n.round), FOLLOWING (n.state), 2 (n.sid), 0x3 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:20,245 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x30000000a (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x3 (n.peerEpoch) FOLLOWING (my state)
2018-06-28 17:41:20,245 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x2fffffffe (n.zxid), 0x3 (n.round), LEADING (n.state), 3 (n.sid), 0x3 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:20,245 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x2fffffffe (n.zxid), 0x3 (n.round), FOLLOWING (n.state), 2 (n.sid), 0x3 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:20,245 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x30000000a (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x3 (n.peerEpoch) LEADING (my state)
2018-06-28 17:41:20,246 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11233:QuorumPeer@979] - FOLLOWING
2018-06-28 17:41:20,246 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x2fffffffe (n.zxid), 0x3 (n.round), LEADING (n.state), 3 (n.sid), 0x3 (n.peerEpoch) FOLLOWING (my state)
2018-06-28 17:41:20,246 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11233:ZooKeeperServer@174] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test767438958121257644.junit.dir/version-2 snapdir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test767438958121257644.junit.dir/version-2
2018-06-28 17:41:20,246 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11233:Follower@65] - FOLLOWING - LEADER ELECTION TOOK - 5
2018-06-28 17:41:20,246 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11233:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:41:20,247 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50954:LearnerHandler@346] - Follower sid: 1 : info : org.apache.zookeeper.server.quorum.QuorumPeer$QuorumServer@4b7998ec
2018-06-28 17:41:20,247 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50954:LearnerHandler@401] - Synchronizing with Follower sid: 1 maxCommittedLog=0x30000000a minCommittedLog=0x100000001 peerLastZxid=0x30000000a
2018-06-28 17:41:20,247 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50954:LearnerHandler@410] - leader and follower are in sync, zxid=0x30000000a
2018-06-28 17:41:20,247 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50954:LearnerHandler@475] - Sending DIFF
2018-06-28 17:41:20,247 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11233:Learner@332] - Getting a diff from the leader 0x30000000a
2018-06-28 17:41:20,249 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50954:LearnerHandler@535] - Received NEWLEADER-ACK message from 1
2018-06-28 17:41:20,496 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11233
2018-06-28 17:41:20,497 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11233:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:50955
2018-06-28 17:41:20,497 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11233:NIOServerCnxn@908] - Processing stat command from /127.0.0.1:50955
2018-06-28 17:41:20,497 [myid:] - INFO  [Thread-60:NIOServerCnxn$StatCommand@687] - Stat command output
2018-06-28 17:41:20,499 [myid:] - INFO  [Thread-60:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:50955 (no session established for client)
2018-06-28 17:41:20,499 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11235
2018-06-28 17:41:20,500 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11235:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:50956
2018-06-28 17:41:20,500 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11235:NIOServerCnxn@908] - Processing stat command from /127.0.0.1:50956
2018-06-28 17:41:20,501 [myid:] - INFO  [Thread-61:NIOServerCnxn$StatCommand@687] - Stat command output
2018-06-28 17:41:20,501 [myid:] - INFO  [Thread-61:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:50956 (no session established for client)
2018-06-28 17:41:20,502 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11237
2018-06-28 17:41:20,502 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11237:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:50957
2018-06-28 17:41:20,502 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11237:NIOServerCnxn@908] - Processing stat command from /127.0.0.1:50957
2018-06-28 17:41:20,503 [myid:] - INFO  [Thread-62:NIOServerCnxn$StatCommand@687] - Stat command output
2018-06-28 17:41:20,503 [myid:] - INFO  [Thread-62:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:50957 (no session established for client)
2018-06-28 17:41:21,279 [myid:] - INFO  [main-SendThread(localhost:11233):ClientCnxn$SendThread@1029] - Opening socket connection to server localhost/127.0.0.1:11233. Will not attempt to authenticate using SASL (unknown error)
2018-06-28 17:41:21,279 [myid:] - INFO  [main-SendThread(localhost:11233):ClientCnxn$SendThread@879] - Socket connection established to localhost/127.0.0.1:11233, initiating session
2018-06-28 17:41:21,279 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11233:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:50958
2018-06-28 17:41:21,280 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11233:ZooKeeperServer@942] - Client attempting to renew session 0x10006549a090000 at /127.0.0.1:50958
2018-06-28 17:41:21,280 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11233:Learner@108] - Revalidating client: 0x10006549a090000
2018-06-28 17:41:21,280 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11233:ZooKeeperServer@694] - Established session 0x10006549a090000 with negotiated timeout 30000 for client /127.0.0.1:50958
2018-06-28 17:41:21,281 [myid:] - INFO  [main-SendThread(localhost:11233):ClientCnxn$SendThread@1303] - Session establishment complete on server localhost/127.0.0.1:11233, sessionid = 0x10006549a090000, negotiated timeout = 30000
2018-06-28 17:41:21,282 [myid:] - INFO  [main:ZxidRolloverTest@244] - Validating nodes 0 thru 34
2018-06-28 17:41:21,283 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000004
2018-06-28 17:41:21,283 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000005
2018-06-28 17:41:21,284 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000006
2018-06-28 17:41:21,285 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000007
2018-06-28 17:41:21,285 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000008
2018-06-28 17:41:21,286 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000009
2018-06-28 17:41:21,286 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000a
2018-06-28 17:41:21,287 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000b
2018-06-28 17:41:21,287 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000c
2018-06-28 17:41:21,288 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000d
2018-06-28 17:41:21,288 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:1fffffffd
2018-06-28 17:41:21,289 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:1fffffffe
2018-06-28 17:41:21,290 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000001
2018-06-28 17:41:21,290 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000002
2018-06-28 17:41:21,291 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000003
2018-06-28 17:41:21,291 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000004
2018-06-28 17:41:21,292 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000005
2018-06-28 17:41:21,293 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000006
2018-06-28 17:41:21,293 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000007
2018-06-28 17:41:21,294 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000008
2018-06-28 17:41:21,294 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000009
2018-06-28 17:41:21,295 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:20000000a
2018-06-28 17:41:21,295 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:2fffffffd
2018-06-28 17:41:21,296 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:2fffffffe
2018-06-28 17:41:21,296 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:300000001
2018-06-28 17:41:21,297 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:300000002
2018-06-28 17:41:21,297 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:300000003
2018-06-28 17:41:21,298 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:300000004
2018-06-28 17:41:21,298 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:300000005
2018-06-28 17:41:21,299 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:300000006
2018-06-28 17:41:21,300 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:300000007
2018-06-28 17:41:21,300 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:300000008
2018-06-28 17:41:21,301 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:300000009
2018-06-28 17:41:21,302 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:30000000a
2018-06-28 17:41:21,302 [myid:] - INFO  [main:ZxidRolloverTest@225] - Creating nodes 34 thru 44
2018-06-28 17:41:21,302 [myid:] - WARN  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11233:Follower@119] - Got zxid 0x30000000b expected 0x1
2018-06-28 17:41:21,302 [myid:] - INFO  [SyncThread:3:FileTxnLog@213] - Creating new log file: log.30000000b
2018-06-28 17:41:21,303 [myid:] - INFO  [SyncThread:1:FileTxnLog@213] - Creating new log file: log.30000000b
2018-06-28 17:41:21,303 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@301] - Snapshotting: 0x30000000a to /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test929980678425759234.junit.dir/version-2/snapshot.30000000a
2018-06-28 17:41:21,305 [myid:] - INFO  [SyncThread:2:FileTxnLog@213] - Creating new log file: log.30000000c
2018-06-28 17:41:21,310 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@301] - Snapshotting: 0x30000000f to /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test6976223008401699005.junit.dir/version-2/snapshot.30000000f
2018-06-28 17:41:21,310 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@301] - Snapshotting: 0x30000000f to /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test767438958121257644.junit.dir/version-2/snapshot.30000000f
2018-06-28 17:41:21,310 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@301] - Snapshotting: 0x30000000f to /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test929980678425759234.junit.dir/version-2/snapshot.30000000f
2018-06-28 17:41:21,311 [myid:] - INFO  [SyncThread:3:FileTxnLog@213] - Creating new log file: log.300000011
2018-06-28 17:41:21,311 [myid:] - INFO  [SyncThread:2:FileTxnLog@213] - Creating new log file: log.300000011
2018-06-28 17:41:21,311 [myid:] - INFO  [SyncThread:1:FileTxnLog@213] - Creating new log file: log.300000011
2018-06-28 17:41:21,322 [myid:] - INFO  [main:ZxidRolloverTest@213] - tearDown starting
2018-06-28 17:41:21,323 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::PrepRequestProcessor@487] - Processed session termination for sessionid: 0x10006549a090000
2018-06-28 17:41:21,325 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@301] - Snapshotting: 0x300000014 to /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test6976223008401699005.junit.dir/version-2/snapshot.300000014
2018-06-28 17:41:21,326 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@301] - Snapshotting: 0x300000014 to /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test929980678425759234.junit.dir/version-2/snapshot.300000014
2018-06-28 17:41:21,327 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@301] - Snapshotting: 0x300000014 to /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test767438958121257644.junit.dir/version-2/snapshot.300000014
2018-06-28 17:41:21,329 [myid:] - INFO  [main:ZooKeeper@693] - Session: 0x10006549a090000 closed
2018-06-28 17:41:21,329 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@522] - EventThread shut down for session: 0x10006549a090000
2018-06-28 17:41:21,330 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11233:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:50958 which had sessionid 0x10006549a090000
2018-06-28 17:41:21,330 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::PrepRequestProcessor@487] - Processed session termination for sessionid: 0x20006549a0a0000
2018-06-28 17:41:21,331 [myid:] - INFO  [SyncThread:3:FileTxnLog@213] - Creating new log file: log.300000016
2018-06-28 17:41:21,331 [myid:] - INFO  [SyncThread:1:FileTxnLog@213] - Creating new log file: log.300000016
2018-06-28 17:41:21,331 [myid:] - INFO  [SyncThread:2:FileTxnLog@213] - Creating new log file: log.300000016
2018-06-28 17:41:21,334 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11235:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:50924 which had sessionid 0x20006549a0a0000
2018-06-28 17:41:21,334 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@522] - EventThread shut down for session: 0x20006549a0a0000
2018-06-28 17:41:21,334 [myid:] - INFO  [main:ZooKeeper@693] - Session: 0x20006549a0a0000 closed
2018-06-28 17:41:21,334 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::PrepRequestProcessor@487] - Processed session termination for sessionid: 0x30006549a0d0000
2018-06-28 17:41:21,335 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11237:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:50926 which had sessionid 0x30006549a0d0000
2018-06-28 17:41:21,336 [myid:] - INFO  [main:ZooKeeper@693] - Session: 0x30006549a0d0000 closed
2018-06-28 17:41:21,336 [myid:] - INFO  [main:QuorumUtil@227] - Shutting down quorum peer QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11233
2018-06-28 17:41:21,336 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@522] - EventThread shut down for session: 0x30006549a0d0000
2018-06-28 17:41:21,336 [myid:] - INFO  [main:Follower@169] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:169)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1026)
	at org.apache.zookeeper.test.QuorumUtil.shutdown(QuorumUtil.java:228)
	at org.apache.zookeeper.test.QuorumUtil.shutdownAll(QuorumUtil.java:215)
	at org.apache.zookeeper.server.ZxidRolloverTest.tearDown(ZxidRolloverTest.java:217)
	at junit.framework.TestCase.runBare(TestCase.java:146)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:536)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1205)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1048)
2018-06-28 17:41:21,337 [myid:] - INFO  [main:FollowerZooKeeperServer@140] - Shutting down
2018-06-28 17:41:21,337 [myid:] - INFO  [main:ZooKeeperServer@502] - shutting down
2018-06-28 17:41:21,337 [myid:] - INFO  [main:FollowerRequestProcessor@107] - Shutting down
2018-06-28 17:41:21,337 [myid:] - INFO  [main:CommitProcessor@184] - Shutting down
2018-06-28 17:41:21,337 [myid:] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@97] - FollowerRequestProcessor exited loop!
2018-06-28 17:41:21,337 [myid:] - INFO  [CommitProcessor:1:CommitProcessor@153] - CommitProcessor exited loop!
2018-06-28 17:41:21,337 [myid:] - INFO  [main:FinalRequestProcessor@403] - shutdown of request processor complete
2018-06-28 17:41:21,339 [myid:] - INFO  [main:SyncRequestProcessor@208] - Shutting down
2018-06-28 17:41:21,339 [myid:] - INFO  [SyncThread:1:SyncRequestProcessor@186] - SyncRequestProcessor exited!
2018-06-28 17:41:21,341 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11233:NIOServerCnxnFactory@242] - NIOServerCnxn factory exited run method
2018-06-28 17:41:21,343 [myid:] - ERROR [/127.0.0.1:12234:QuorumCnxManager$Listener@760] - Exception while listening
java.net.SocketException: Socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:409)
	at java.net.ServerSocket.implAccept(ServerSocket.java:545)
	at java.net.ServerSocket.accept(ServerSocket.java:513)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$Listener.run(QuorumCnxManager.java:741)
2018-06-28 17:41:21,345 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1025] - Connection broken for id 3, my id = 1, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1010)
2018-06-28 17:41:21,345 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1028] - Interrupting SendWorker
2018-06-28 17:41:21,345 [myid:] - INFO  [main:QuorumUtil@231] - Shutting down leader election QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11233
2018-06-28 17:41:21,344 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@941] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:418)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1094)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$700(QuorumCnxManager.java:74)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:929)
2018-06-28 17:41:21,346 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@951] - Send worker leaving thread
2018-06-28 17:41:21,344 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1025] - Connection broken for id 1, my id = 3, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1010)
2018-06-28 17:41:21,346 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1028] - Interrupting SendWorker
2018-06-28 17:41:21,343 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1025] - Connection broken for id 2, my id = 1, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1010)
2018-06-28 17:41:21,346 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@941] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:418)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1094)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$700(QuorumCnxManager.java:74)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:929)
2018-06-28 17:41:21,347 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@951] - Send worker leaving thread
2018-06-28 17:41:21,343 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1025] - Connection broken for id 1, my id = 2, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1010)
2018-06-28 17:41:21,347 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1028] - Interrupting SendWorker
2018-06-28 17:41:21,343 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@941] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:418)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1094)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$700(QuorumCnxManager.java:74)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:929)
2018-06-28 17:41:21,347 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@951] - Send worker leaving thread
2018-06-28 17:41:21,347 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@941] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:418)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1094)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$700(QuorumCnxManager.java:74)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:929)
2018-06-28 17:41:21,347 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@951] - Send worker leaving thread
2018-06-28 17:41:21,346 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1028] - Interrupting SendWorker
2018-06-28 17:41:21,345 [myid:] - INFO  [main:QuorumUtil@236] - Waiting for QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11233 to exit thread
2018-06-28 17:41:21,973 [myid:] - ERROR [LearnerHandler-/127.0.0.1:50922:LearnerHandler@648] - Unexpected exception causing shutdown while sock still open
java.net.SocketTimeoutException: Read timed out
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:63)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:99)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:559)
2018-06-28 17:41:21,973 [myid:] - WARN  [LearnerHandler-/127.0.0.1:50922:LearnerHandler@661] - ******* GOODBYE /127.0.0.1:50922 ********
2018-06-28 17:41:21,987 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11233:Follower@169] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:169)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:985)
2018-06-28 17:41:21,987 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11233:FollowerZooKeeperServer@140] - Shutting down
2018-06-28 17:41:21,987 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11233:SyncRequestProcessor@208] - Shutting down
2018-06-28 17:41:21,987 [myid:] - WARN  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11233:QuorumPeer@1009] - QuorumPeer main thread exited
2018-06-28 17:41:21,987 [myid:] - INFO  [main:QuorumUtil@227] - Shutting down quorum peer QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11235
2018-06-28 17:41:21,987 [myid:] - INFO  [main:Follower@169] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:169)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1026)
	at org.apache.zookeeper.test.QuorumUtil.shutdown(QuorumUtil.java:228)
	at org.apache.zookeeper.test.QuorumUtil.shutdownAll(QuorumUtil.java:215)
	at org.apache.zookeeper.server.ZxidRolloverTest.tearDown(ZxidRolloverTest.java:217)
	at junit.framework.TestCase.runBare(TestCase.java:146)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:536)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1205)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1048)
2018-06-28 17:41:21,988 [myid:] - INFO  [main:FollowerZooKeeperServer@140] - Shutting down
2018-06-28 17:41:21,988 [myid:] - INFO  [main:ZooKeeperServer@502] - shutting down
2018-06-28 17:41:21,988 [myid:] - INFO  [main:FollowerRequestProcessor@107] - Shutting down
2018-06-28 17:41:21,988 [myid:] - INFO  [main:CommitProcessor@184] - Shutting down
2018-06-28 17:41:21,988 [myid:] - INFO  [FollowerRequestProcessor:2:FollowerRequestProcessor@97] - FollowerRequestProcessor exited loop!
2018-06-28 17:41:21,988 [myid:] - INFO  [CommitProcessor:2:CommitProcessor@153] - CommitProcessor exited loop!
2018-06-28 17:41:21,988 [myid:] - INFO  [main:FinalRequestProcessor@403] - shutdown of request processor complete
2018-06-28 17:41:21,989 [myid:] - INFO  [main:SyncRequestProcessor@208] - Shutting down
2018-06-28 17:41:21,989 [myid:] - INFO  [SyncThread:2:SyncRequestProcessor@186] - SyncRequestProcessor exited!
2018-06-28 17:41:21,989 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11235:NIOServerCnxnFactory@242] - NIOServerCnxn factory exited run method
2018-06-28 17:41:21,989 [myid:] - ERROR [/127.0.0.1:12236:QuorumCnxManager$Listener@760] - Exception while listening
java.net.SocketException: Socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:409)
	at java.net.ServerSocket.implAccept(ServerSocket.java:545)
	at java.net.ServerSocket.accept(ServerSocket.java:513)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$Listener.run(QuorumCnxManager.java:741)
2018-06-28 17:41:21,990 [myid:] - INFO  [main:QuorumUtil@231] - Shutting down leader election QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11235
2018-06-28 17:41:21,990 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1025] - Connection broken for id 3, my id = 2, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1010)
2018-06-28 17:41:21,990 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1028] - Interrupting SendWorker
2018-06-28 17:41:21,990 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@941] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:418)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1094)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$700(QuorumCnxManager.java:74)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:929)
2018-06-28 17:41:21,990 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@951] - Send worker leaving thread
2018-06-28 17:41:21,990 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1025] - Connection broken for id 2, my id = 3, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1010)
2018-06-28 17:41:21,990 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1028] - Interrupting SendWorker
2018-06-28 17:41:21,990 [myid:] - INFO  [main:QuorumUtil@236] - Waiting for QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11235 to exit thread
2018-06-28 17:41:21,991 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@941] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:418)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1094)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$700(QuorumCnxManager.java:74)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:929)
2018-06-28 17:41:21,991 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@951] - Send worker leaving thread
2018-06-28 17:41:22,348 [myid:] - INFO  [/127.0.0.1:12234:QuorumCnxManager$Listener@773] - Leaving listener
2018-06-28 17:41:22,987 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11235:Follower@169] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:169)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:985)
2018-06-28 17:41:22,987 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11235:FollowerZooKeeperServer@140] - Shutting down
2018-06-28 17:41:22,987 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11235:SyncRequestProcessor@208] - Shutting down
2018-06-28 17:41:22,987 [myid:] - WARN  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11235:QuorumPeer@1009] - QuorumPeer main thread exited
2018-06-28 17:41:22,987 [myid:] - INFO  [main:QuorumUtil@227] - Shutting down quorum peer QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11237
2018-06-28 17:41:22,988 [myid:] - INFO  [main:Leader@520] - Shutting down
2018-06-28 17:41:22,988 [myid:] - INFO  [main:Leader@526] - Shutdown called
java.lang.Exception: shutdown Leader! reason: quorum Peer shutdown
	at org.apache.zookeeper.server.quorum.Leader.shutdown(Leader.java:526)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1023)
	at org.apache.zookeeper.test.QuorumUtil.shutdown(QuorumUtil.java:228)
	at org.apache.zookeeper.test.QuorumUtil.shutdownAll(QuorumUtil.java:215)
	at org.apache.zookeeper.server.ZxidRolloverTest.tearDown(ZxidRolloverTest.java:217)
	at junit.framework.TestCase.runBare(TestCase.java:146)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:536)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1205)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1048)
2018-06-28 17:41:22,988 [myid:] - INFO  [main:ZooKeeperServer@502] - shutting down
2018-06-28 17:41:22,988 [myid:] - INFO  [main:SessionTrackerImpl@226] - Shutting down
2018-06-28 17:41:22,988 [myid:] - INFO  [main:PrepRequestProcessor@769] - Shutting down
2018-06-28 17:41:22,988 [myid:] - INFO  [LearnerCnxAcceptor-/127.0.0.1:12237:Leader$LearnerCnxAcceptor@340] - exception while shutting down acceptor: java.net.SocketException: Socket closed
2018-06-28 17:41:22,988 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::PrepRequestProcessor@144] - PrepRequestProcessor exited loop!
2018-06-28 17:41:22,988 [myid:] - INFO  [main:ProposalRequestProcessor@88] - Shutting down
2018-06-28 17:41:22,989 [myid:] - INFO  [main:CommitProcessor@184] - Shutting down
2018-06-28 17:41:22,989 [myid:] - INFO  [main:Leader$ToBeAppliedRequestProcessor@685] - Shutting down
2018-06-28 17:41:22,989 [myid:] - INFO  [main:FinalRequestProcessor@403] - shutdown of request processor complete
2018-06-28 17:41:22,989 [myid:] - INFO  [main:SyncRequestProcessor@208] - Shutting down
2018-06-28 17:41:22,989 [myid:] - INFO  [CommitProcessor:3:CommitProcessor@153] - CommitProcessor exited loop!
2018-06-28 17:41:22,989 [myid:] - INFO  [SyncThread:3:SyncRequestProcessor@186] - SyncRequestProcessor exited!
2018-06-28 17:41:22,990 [myid:] - WARN  [LearnerHandler-/127.0.0.1:50954:LearnerHandler@661] - ******* GOODBYE /127.0.0.1:50954 ********
2018-06-28 17:41:22,990 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11237:NIOServerCnxnFactory@242] - NIOServerCnxn factory exited run method
2018-06-28 17:41:22,990 [myid:] - WARN  [LearnerHandler-/127.0.0.1:50923:LearnerHandler@661] - ******* GOODBYE /127.0.0.1:50923 ********
2018-06-28 17:41:22,990 [myid:] - WARN  [LearnerHandler-/127.0.0.1:50934:LearnerHandler@661] - ******* GOODBYE /127.0.0.1:50934 ********
2018-06-28 17:41:22,991 [myid:] - WARN  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11237:QuorumPeer@997] - Unexpected exception
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at org.apache.zookeeper.server.quorum.Leader.lead(Leader.java:474)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:994)
2018-06-28 17:41:22,991 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11237:Leader@520] - Shutting down
2018-06-28 17:41:22,991 [myid:] - WARN  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11237:QuorumPeer@1009] - QuorumPeer main thread exited
2018-06-28 17:41:22,991 [myid:] - INFO  [main:QuorumUtil@231] - Shutting down leader election QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11237
2018-06-28 17:41:22,991 [myid:] - ERROR [/127.0.0.1:12238:QuorumCnxManager$Listener@760] - Exception while listening
java.net.SocketException: Socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:409)
	at java.net.ServerSocket.implAccept(ServerSocket.java:545)
	at java.net.ServerSocket.accept(ServerSocket.java:513)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$Listener.run(QuorumCnxManager.java:741)
2018-06-28 17:41:22,991 [myid:] - WARN  [LearnerHandler-/127.0.0.1:50934:LearnerHandler@673] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1220)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:335)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:339)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:671)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:664)
2018-06-28 17:41:22,991 [myid:] - WARN  [LearnerHandler-/127.0.0.1:50923:LearnerHandler@673] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1220)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:335)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:339)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:671)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:664)
2018-06-28 17:41:22,990 [myid:] - WARN  [LearnerHandler-/127.0.0.1:50954:LearnerHandler@673] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1220)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:335)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:339)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:671)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:664)
2018-06-28 17:41:22,991 [myid:] - INFO  [main:QuorumUtil@236] - Waiting for QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11237 to exit thread
2018-06-28 17:41:22,992 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11233
2018-06-28 17:41:22,992 [myid:] - INFO  [main:QuorumUtil@220] - 127.0.0.1:11233 is no longer accepting client connections
2018-06-28 17:41:22,992 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11235
2018-06-28 17:41:22,992 [myid:] - INFO  [main:QuorumUtil@220] - 127.0.0.1:11235 is no longer accepting client connections
2018-06-28 17:41:22,992 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11237
2018-06-28 17:41:22,993 [myid:] - INFO  [main:QuorumUtil@220] - 127.0.0.1:11237 is no longer accepting client connections
2018-06-28 17:41:22,993 [myid:] - INFO  [main:ZxidRolloverTest@57] - STARTING testMultipleRollover
2018-06-28 17:41:22,993 [myid:] - INFO  [/127.0.0.1:12236:QuorumCnxManager$Listener@773] - Leaving listener
2018-06-28 17:41:23,000 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11239
2018-06-28 17:41:23,000 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11240
2018-06-28 17:41:23,000 [myid:] - INFO  [main:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:41:23,003 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11241
2018-06-28 17:41:23,004 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11242
2018-06-28 17:41:23,004 [myid:] - INFO  [main:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:41:23,006 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11243
2018-06-28 17:41:23,006 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11244
2018-06-28 17:41:23,006 [myid:] - INFO  [main:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:41:23,006 [myid:] - INFO  [main:QuorumUtil@110] - Creating QuorumPeer 1; public port 11239
2018-06-28 17:41:23,006 [myid:] - INFO  [main:ServerCnxnFactory@117] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2018-06-28 17:41:23,006 [myid:] - INFO  [main:NIOServerCnxnFactory@89] - binding to port 0.0.0.0/0.0.0.0:11239
2018-06-28 17:41:23,007 [myid:] - INFO  [main:QuorumUtil@110] - Creating QuorumPeer 2; public port 11241
2018-06-28 17:41:23,007 [myid:] - INFO  [main:ServerCnxnFactory@117] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2018-06-28 17:41:23,007 [myid:] - INFO  [main:NIOServerCnxnFactory@89] - binding to port 0.0.0.0/0.0.0.0:11241
2018-06-28 17:41:23,008 [myid:] - INFO  [main:QuorumUtil@110] - Creating QuorumPeer 3; public port 11243
2018-06-28 17:41:23,008 [myid:] - INFO  [main:ServerCnxnFactory@117] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2018-06-28 17:41:23,008 [myid:] - INFO  [main:NIOServerCnxnFactory@89] - binding to port 0.0.0.0/0.0.0.0:11243
2018-06-28 17:41:23,009 [myid:] - INFO  [main:QuorumUtil@227] - Shutting down quorum peer QuorumPeer
2018-06-28 17:41:23,009 [myid:] - INFO  [main:QuorumUtil@234] - No election available to shutdown QuorumPeer
2018-06-28 17:41:23,009 [myid:] - INFO  [main:QuorumUtil@236] - Waiting for QuorumPeer to exit thread
2018-06-28 17:41:23,009 [myid:] - INFO  [main:QuorumUtil@227] - Shutting down quorum peer QuorumPeer
2018-06-28 17:41:23,009 [myid:] - INFO  [main:QuorumUtil@234] - No election available to shutdown QuorumPeer
2018-06-28 17:41:23,009 [myid:] - INFO  [main:QuorumUtil@236] - Waiting for QuorumPeer to exit thread
2018-06-28 17:41:23,009 [myid:] - INFO  [main:QuorumUtil@227] - Shutting down quorum peer QuorumPeer
2018-06-28 17:41:23,009 [myid:] - INFO  [main:QuorumUtil@234] - No election available to shutdown QuorumPeer
2018-06-28 17:41:23,009 [myid:] - INFO  [main:QuorumUtil@236] - Waiting for QuorumPeer to exit thread
2018-06-28 17:41:23,009 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11239
2018-06-28 17:41:23,010 [myid:] - INFO  [main:QuorumUtil@220] - 127.0.0.1:11239 is no longer accepting client connections
2018-06-28 17:41:23,010 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11241
2018-06-28 17:41:23,010 [myid:] - INFO  [main:QuorumUtil@220] - 127.0.0.1:11241 is no longer accepting client connections
2018-06-28 17:41:23,010 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11243
2018-06-28 17:41:23,010 [myid:] - INFO  [main:QuorumUtil@220] - 127.0.0.1:11243 is no longer accepting client connections
2018-06-28 17:41:23,010 [myid:] - INFO  [main:QuorumUtil@186] - Creating QuorumPeer 1; public port 11239
2018-06-28 17:41:23,011 [myid:] - INFO  [main:ServerCnxnFactory@117] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2018-06-28 17:41:23,011 [myid:] - INFO  [main:NIOServerCnxnFactory@89] - binding to port 0.0.0.0/0.0.0.0:11239
2018-06-28 17:41:23,011 [myid:] - INFO  [main:QuorumPeer@668] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2018-06-28 17:41:23,013 [myid:] - INFO  [main:QuorumPeer@683] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2018-06-28 17:41:23,014 [myid:] - INFO  [ListenerThread:QuorumCnxManager$Listener@736] - My election bind port: /127.0.0.1:12240
2018-06-28 17:41:23,014 [myid:] - INFO  [main:QuorumUtil@132] - Started QuorumPeer 1
2018-06-28 17:41:23,014 [myid:] - INFO  [main:QuorumUtil@186] - Creating QuorumPeer 2; public port 11241
2018-06-28 17:41:23,015 [myid:] - INFO  [main:ServerCnxnFactory@117] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2018-06-28 17:41:23,015 [myid:] - INFO  [main:NIOServerCnxnFactory@89] - binding to port 0.0.0.0/0.0.0.0:11241
2018-06-28 17:41:23,015 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11239:QuorumPeer@909] - LOOKING
2018-06-28 17:41:23,015 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11239:FastLeaderElection@813] - New election. My id =  1, proposed zxid=0x0
2018-06-28 17:41:23,015 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:23,015 [myid:] - INFO  [main:QuorumPeer@668] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2018-06-28 17:41:23,016 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@584] - Cannot open channel to 2 at election address /127.0.0.1:12242
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:558)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:534)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:454)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:435)
	at java.lang.Thread.run(Thread.java:748)
2018-06-28 17:41:23,016 [myid:] - INFO  [WorkerSender[myid=1]:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:41:23,016 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@584] - Cannot open channel to 3 at election address /127.0.0.1:12244
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:558)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:534)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:454)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:435)
	at java.lang.Thread.run(Thread.java:748)
2018-06-28 17:41:23,017 [myid:] - INFO  [WorkerSender[myid=1]:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:41:23,017 [myid:] - INFO  [main:QuorumPeer@683] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2018-06-28 17:41:23,019 [myid:] - INFO  [ListenerThread:QuorumCnxManager$Listener@736] - My election bind port: /127.0.0.1:12242
2018-06-28 17:41:23,019 [myid:] - INFO  [main:QuorumUtil@132] - Started QuorumPeer 2
2018-06-28 17:41:23,019 [myid:] - INFO  [main:QuorumUtil@186] - Creating QuorumPeer 3; public port 11243
2018-06-28 17:41:23,019 [myid:] - INFO  [main:ServerCnxnFactory@117] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2018-06-28 17:41:23,019 [myid:] - INFO  [main:NIOServerCnxnFactory@89] - binding to port 0.0.0.0/0.0.0.0:11243
2018-06-28 17:41:23,020 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11241:QuorumPeer@909] - LOOKING
2018-06-28 17:41:23,020 [myid:] - INFO  [main:QuorumPeer@668] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2018-06-28 17:41:23,020 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11241:FastLeaderElection@813] - New election. My id =  2, proposed zxid=0x0
2018-06-28 17:41:23,021 [myid:] - INFO  [/127.0.0.1:12240:QuorumCnxManager$Listener@743] - Received connection request /127.0.0.1:50968
2018-06-28 17:41:23,021 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:23,022 [myid:] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@584] - Cannot open channel to 3 at election address /127.0.0.1:12244
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:558)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:534)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:454)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:435)
	at java.lang.Thread.run(Thread.java:748)
2018-06-28 17:41:23,022 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:23,022 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:23,022 [myid:] - INFO  [WorkerSender[myid=2]:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:41:23,022 [myid:] - INFO  [main:QuorumPeer@683] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2018-06-28 17:41:23,022 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:23,022 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@584] - Cannot open channel to 3 at election address /127.0.0.1:12244
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:558)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:534)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:454)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:435)
	at java.lang.Thread.run(Thread.java:748)
2018-06-28 17:41:23,022 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:23,023 [myid:] - INFO  [WorkerSender[myid=1]:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:41:23,024 [myid:] - INFO  [ListenerThread:QuorumCnxManager$Listener@736] - My election bind port: /127.0.0.1:12244
2018-06-28 17:41:23,024 [myid:] - INFO  [main:QuorumUtil@132] - Started QuorumPeer 3
2018-06-28 17:41:23,024 [myid:] - INFO  [main:QuorumUtil@135] - Checking ports 127.0.0.1:11239,127.0.0.1:11241,127.0.0.1:11243
2018-06-28 17:41:23,024 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11239
2018-06-28 17:41:23,025 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11243:QuorumPeer@909] - LOOKING
2018-06-28 17:41:23,025 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11239:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:50971
2018-06-28 17:41:23,025 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11243:FastLeaderElection@813] - New election. My id =  3, proposed zxid=0x0
2018-06-28 17:41:23,025 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11239:NIOServerCnxn@908] - Processing stat command from /127.0.0.1:50971
2018-06-28 17:41:23,026 [myid:] - INFO  [/127.0.0.1:12240:QuorumCnxManager$Listener@743] - Received connection request /127.0.0.1:50972
2018-06-28 17:41:23,026 [myid:] - INFO  [Thread-64:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:50971 (no session established for client)
2018-06-28 17:41:23,027 [myid:] - INFO  [/127.0.0.1:12242:QuorumCnxManager$Listener@743] - Received connection request /127.0.0.1:50973
2018-06-28 17:41:23,028 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:23,027 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:23,028 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:23,028 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:23,029 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:23,029 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:23,029 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:23,029 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:23,029 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:23,029 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:23,029 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:23,230 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11241:QuorumPeer@979] - FOLLOWING
2018-06-28 17:41:23,230 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11243:QuorumPeer@991] - LEADING
2018-06-28 17:41:23,230 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11239:QuorumPeer@979] - FOLLOWING
2018-06-28 17:41:23,230 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11243:ZooKeeperServer@174] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test4167468597469280827.junit.dir/version-2 snapdir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test4167468597469280827.junit.dir/version-2
2018-06-28 17:41:23,230 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11241:ZooKeeperServer@174] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test7847363621123657276.junit.dir/version-2 snapdir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test7847363621123657276.junit.dir/version-2
2018-06-28 17:41:23,230 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11239:ZooKeeperServer@174] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test7801919246500148878.junit.dir/version-2 snapdir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test7801919246500148878.junit.dir/version-2
2018-06-28 17:41:23,230 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11241:Follower@65] - FOLLOWING - LEADER ELECTION TOOK - 210
2018-06-28 17:41:23,230 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11239:Follower@65] - FOLLOWING - LEADER ELECTION TOOK - 215
2018-06-28 17:41:23,230 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11243:Leader@380] - LEADING - LEADER ELECTION TOOK - 205
2018-06-28 17:41:23,230 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11239:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:41:23,230 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11241:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:41:23,232 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50976:LearnerHandler@346] - Follower sid: 1 : info : org.apache.zookeeper.server.quorum.QuorumPeer$QuorumServer@4d2c035b
2018-06-28 17:41:23,232 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50977:LearnerHandler@346] - Follower sid: 2 : info : org.apache.zookeeper.server.quorum.QuorumPeer$QuorumServer@2347b923
2018-06-28 17:41:23,235 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50976:LearnerHandler@401] - Synchronizing with Follower sid: 1 maxCommittedLog=0x0 minCommittedLog=0x0 peerLastZxid=0x0
2018-06-28 17:41:23,235 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50977:LearnerHandler@401] - Synchronizing with Follower sid: 2 maxCommittedLog=0x0 minCommittedLog=0x0 peerLastZxid=0x0
2018-06-28 17:41:23,235 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50976:LearnerHandler@410] - leader and follower are in sync, zxid=0x0
2018-06-28 17:41:23,236 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50976:LearnerHandler@475] - Sending DIFF
2018-06-28 17:41:23,236 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50977:LearnerHandler@410] - leader and follower are in sync, zxid=0x0
2018-06-28 17:41:23,236 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50977:LearnerHandler@475] - Sending DIFF
2018-06-28 17:41:23,236 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11239:Learner@332] - Getting a diff from the leader 0x0
2018-06-28 17:41:23,236 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11241:Learner@332] - Getting a diff from the leader 0x0
2018-06-28 17:41:23,240 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50977:LearnerHandler@535] - Received NEWLEADER-ACK message from 2
2018-06-28 17:41:23,240 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50976:LearnerHandler@535] - Received NEWLEADER-ACK message from 1
2018-06-28 17:41:23,240 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11243:Leader@964] - Have quorum of supporters, sids: [ 2,3 ]; starting up and setting last processed zxid: 0x100000000
2018-06-28 17:41:23,248 [myid:] - INFO  [WorkerSender[myid=3]:FastLeaderElection$Messenger$WorkerSender@440] - WorkerSender is down
2018-06-28 17:41:23,248 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@409] - WorkerReceiver is down
2018-06-28 17:41:23,248 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@409] - WorkerReceiver is down
2018-06-28 17:41:23,248 [myid:] - INFO  [WorkerSender[myid=2]:FastLeaderElection$Messenger$WorkerSender@440] - WorkerSender is down
2018-06-28 17:41:23,248 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@409] - WorkerReceiver is down
2018-06-28 17:41:23,248 [myid:] - INFO  [WorkerSender[myid=1]:FastLeaderElection$Messenger$WorkerSender@440] - WorkerSender is down
2018-06-28 17:41:23,277 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11239
2018-06-28 17:41:23,278 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11239:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:50978
2018-06-28 17:41:23,278 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11239:NIOServerCnxn@908] - Processing stat command from /127.0.0.1:50978
2018-06-28 17:41:23,279 [myid:] - INFO  [Thread-67:NIOServerCnxn$StatCommand@687] - Stat command output
2018-06-28 17:41:23,279 [myid:] - INFO  [Thread-67:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:50978 (no session established for client)
2018-06-28 17:41:23,280 [myid:] - INFO  [main:QuorumUtil@139] - 127.0.0.1:11239 is accepting client connections
2018-06-28 17:41:23,280 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11241
2018-06-28 17:41:23,280 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11241:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:50979
2018-06-28 17:41:23,281 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11241:NIOServerCnxn@908] - Processing stat command from /127.0.0.1:50979
2018-06-28 17:41:23,281 [myid:] - INFO  [Thread-68:NIOServerCnxn$StatCommand@687] - Stat command output
2018-06-28 17:41:23,281 [myid:] - INFO  [Thread-68:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:50979 (no session established for client)
2018-06-28 17:41:23,282 [myid:] - INFO  [main:QuorumUtil@139] - 127.0.0.1:11241 is accepting client connections
2018-06-28 17:41:23,282 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11243
2018-06-28 17:41:23,282 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11243:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:50980
2018-06-28 17:41:23,282 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11243:NIOServerCnxn@908] - Processing stat command from /127.0.0.1:50980
2018-06-28 17:41:23,283 [myid:] - INFO  [Thread-69:NIOServerCnxn$StatCommand@687] - Stat command output
2018-06-28 17:41:23,283 [myid:] - INFO  [Thread-69:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:50980 (no session established for client)
2018-06-28 17:41:23,284 [myid:] - INFO  [main:QuorumUtil@139] - 127.0.0.1:11243 is accepting client connections
2018-06-28 17:41:23,284 [myid:] - INFO  [main:JMXEnv@199] - JMXEnv.dump() follows
2018-06-28 17:41:23,286 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.2
2018-06-28 17:41:23,286 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1
2018-06-28 17:41:23,286 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree
2018-06-28 17:41:23,286 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.3
2018-06-28 17:41:23,286 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.3
2018-06-28 17:41:23,286 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1
2018-06-28 17:41:23,286 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2
2018-06-28 17:41:23,286 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2
2018-06-28 17:41:23,286 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.1
2018-06-28 17:41:23,286 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3
2018-06-28 17:41:23,286 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower,name3=InMemoryDataTree
2018-06-28 17:41:23,286 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader
2018-06-28 17:41:23,286 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.2
2018-06-28 17:41:23,286 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.1
2018-06-28 17:41:23,286 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3
2018-06-28 17:41:23,286 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader,name3=InMemoryDataTree
2018-06-28 17:41:23,287 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower
2018-06-28 17:41:23,287 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower
2018-06-28 17:41:23,288 [myid:] - INFO  [main:JMXEnv@118] - expect:InMemoryDataTree
2018-06-28 17:41:23,288 [myid:] - INFO  [main:JMXEnv@121] - found:InMemoryDataTree org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree
2018-06-28 17:41:23,288 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id1,name1=replica.1,name2=
2018-06-28 17:41:23,288 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id1,name1=replica.1,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower
2018-06-28 17:41:23,288 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id2,name1=replica.2,name2=
2018-06-28 17:41:23,289 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id2,name1=replica.2,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower,name3=InMemoryDataTree
2018-06-28 17:41:23,289 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id3,name1=replica.3,name2=
2018-06-28 17:41:23,289 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id3,name1=replica.3,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader
2018-06-28 17:41:23,289 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id1,name1=replica.1
2018-06-28 17:41:23,289 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id1,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1
2018-06-28 17:41:23,289 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id1,name1=replica.2
2018-06-28 17:41:23,289 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id1,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.2
2018-06-28 17:41:23,289 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id1,name1=replica.3
2018-06-28 17:41:23,289 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id1,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.3
2018-06-28 17:41:23,289 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id2,name1=replica.1
2018-06-28 17:41:23,289 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id2,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.1
2018-06-28 17:41:23,289 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id2,name1=replica.2
2018-06-28 17:41:23,289 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id2,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2
2018-06-28 17:41:23,289 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id2,name1=replica.3
2018-06-28 17:41:23,289 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id2,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.3
2018-06-28 17:41:23,289 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id3,name1=replica.1
2018-06-28 17:41:23,289 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id3,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.1
2018-06-28 17:41:23,289 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id3,name1=replica.2
2018-06-28 17:41:23,289 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id3,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.2
2018-06-28 17:41:23,289 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id3,name1=replica.3
2018-06-28 17:41:23,290 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id3,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3
2018-06-28 17:41:23,290 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id1
2018-06-28 17:41:23,290 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id1 org.apache.ZooKeeperService:name0=ReplicatedServer_id1
2018-06-28 17:41:23,290 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id2
2018-06-28 17:41:23,290 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id2 org.apache.ZooKeeperService:name0=ReplicatedServer_id2
2018-06-28 17:41:23,290 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id3
2018-06-28 17:41:23,290 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id3 org.apache.ZooKeeperService:name0=ReplicatedServer_id3
2018-06-28 17:41:23,290 [myid:] - INFO  [main:ZooKeeper@442] - Initiating client connection, connectString=127.0.0.1:11239 sessionTimeout=30000 watcher=org.apache.zookeeper.test.ClientBase$CountdownWatcher@4b9e13df
2018-06-28 17:41:23,290 [myid:] - INFO  [main:ZooKeeper@442] - Initiating client connection, connectString=127.0.0.1:11241 sessionTimeout=30000 watcher=org.apache.zookeeper.test.ClientBase$CountdownWatcher@2b98378d
2018-06-28 17:41:23,291 [myid:] - INFO  [main:ZooKeeper@442] - Initiating client connection, connectString=127.0.0.1:11243 sessionTimeout=30000 watcher=org.apache.zookeeper.test.ClientBase$CountdownWatcher@475530b9
2018-06-28 17:41:23,292 [myid:] - INFO  [main-SendThread(localhost:11239):ClientCnxn$SendThread@1029] - Opening socket connection to server localhost/127.0.0.1:11239. Will not attempt to authenticate using SASL (unknown error)
2018-06-28 17:41:23,292 [myid:] - INFO  [main-SendThread(localhost:11243):ClientCnxn$SendThread@1029] - Opening socket connection to server localhost/127.0.0.1:11243. Will not attempt to authenticate using SASL (unknown error)
2018-06-28 17:41:23,292 [myid:] - INFO  [main-SendThread(localhost:11241):ClientCnxn$SendThread@1029] - Opening socket connection to server localhost/127.0.0.1:11241. Will not attempt to authenticate using SASL (unknown error)
2018-06-28 17:41:23,292 [myid:] - INFO  [main-SendThread(localhost:11243):ClientCnxn$SendThread@879] - Socket connection established to localhost/127.0.0.1:11243, initiating session
2018-06-28 17:41:23,292 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11239:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:50982
2018-06-28 17:41:23,292 [myid:] - INFO  [main-SendThread(localhost:11239):ClientCnxn$SendThread@879] - Socket connection established to localhost/127.0.0.1:11239, initiating session
2018-06-28 17:41:23,292 [myid:] - INFO  [main-SendThread(localhost:11241):ClientCnxn$SendThread@879] - Socket connection established to localhost/127.0.0.1:11241, initiating session
2018-06-28 17:41:23,292 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11241:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:50983
2018-06-28 17:41:23,293 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11243:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:50981
2018-06-28 17:41:23,293 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11239:ZooKeeperServer@949] - Client attempting to establish new session at /127.0.0.1:50982
2018-06-28 17:41:23,293 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11241:ZooKeeperServer@949] - Client attempting to establish new session at /127.0.0.1:50983
2018-06-28 17:41:23,293 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11243:ZooKeeperServer@949] - Client attempting to establish new session at /127.0.0.1:50981
2018-06-28 17:41:23,294 [myid:] - INFO  [SyncThread:3:FileTxnLog@213] - Creating new log file: log.100000001
2018-06-28 17:41:23,295 [myid:] - WARN  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11239:Follower@119] - Got zxid 0x100000001 expected 0x1
2018-06-28 17:41:23,295 [myid:] - WARN  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11241:Follower@119] - Got zxid 0x100000001 expected 0x1
2018-06-28 17:41:23,295 [myid:] - INFO  [SyncThread:1:FileTxnLog@213] - Creating new log file: log.100000001
2018-06-28 17:41:23,295 [myid:] - INFO  [SyncThread:2:FileTxnLog@213] - Creating new log file: log.100000001
2018-06-28 17:41:23,297 [myid:] - INFO  [CommitProcessor:3:ZooKeeperServer@694] - Established session 0x3000654d3f00000 with negotiated timeout 30000 for client /127.0.0.1:50981
2018-06-28 17:41:23,297 [myid:] - INFO  [CommitProcessor:1:ZooKeeperServer@694] - Established session 0x1000654d3ec0000 with negotiated timeout 30000 for client /127.0.0.1:50982
2018-06-28 17:41:23,297 [myid:] - INFO  [main-SendThread(localhost:11239):ClientCnxn$SendThread@1303] - Session establishment complete on server localhost/127.0.0.1:11239, sessionid = 0x1000654d3ec0000, negotiated timeout = 30000
2018-06-28 17:41:23,297 [myid:] - INFO  [main-SendThread(localhost:11243):ClientCnxn$SendThread@1303] - Session establishment complete on server localhost/127.0.0.1:11243, sessionid = 0x3000654d3f00000, negotiated timeout = 30000
2018-06-28 17:41:23,297 [myid:] - INFO  [main-SendThread(localhost:11241):ClientCnxn$SendThread@1303] - Session establishment complete on server localhost/127.0.0.1:11241, sessionid = 0x2000654d3ec0000, negotiated timeout = 30000
2018-06-28 17:41:23,297 [myid:] - INFO  [CommitProcessor:2:ZooKeeperServer@694] - Established session 0x2000654d3ec0000 with negotiated timeout 30000 for client /127.0.0.1:50983
2018-06-28 17:41:23,297 [myid:] - INFO  [main:ZxidRolloverTest@225] - Creating nodes 0 thru 10
2018-06-28 17:41:23,300 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@301] - Snapshotting: 0x100000004 to /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test4167468597469280827.junit.dir/version-2/snapshot.100000004
2018-06-28 17:41:23,300 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@301] - Snapshotting: 0x100000004 to /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test7801919246500148878.junit.dir/version-2/snapshot.100000004
2018-06-28 17:41:23,300 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@301] - Snapshotting: 0x100000004 to /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test7847363621123657276.junit.dir/version-2/snapshot.100000004
2018-06-28 17:41:23,301 [myid:] - INFO  [SyncThread:3:FileTxnLog@213] - Creating new log file: log.100000006
2018-06-28 17:41:23,301 [myid:] - INFO  [SyncThread:2:FileTxnLog@213] - Creating new log file: log.100000006
2018-06-28 17:41:23,301 [myid:] - INFO  [SyncThread:1:FileTxnLog@213] - Creating new log file: log.100000006
2018-06-28 17:41:23,306 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@301] - Snapshotting: 0x100000008 to /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test4167468597469280827.junit.dir/version-2/snapshot.100000008
2018-06-28 17:41:23,306 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@301] - Snapshotting: 0x100000008 to /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test7801919246500148878.junit.dir/version-2/snapshot.100000008
2018-06-28 17:41:23,307 [myid:] - INFO  [SyncThread:3:FileTxnLog@213] - Creating new log file: log.10000000a
2018-06-28 17:41:23,307 [myid:] - INFO  [SyncThread:1:FileTxnLog@213] - Creating new log file: log.10000000a
2018-06-28 17:41:23,308 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@301] - Snapshotting: 0x100000009 to /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test7847363621123657276.junit.dir/version-2/snapshot.100000009
2018-06-28 17:41:23,310 [myid:] - INFO  [SyncThread:2:FileTxnLog@213] - Creating new log file: log.10000000b
2018-06-28 17:41:23,313 [myid:] - INFO  [main:ZxidRolloverTest@225] - Creating nodes 10 thru 20
2018-06-28 17:41:23,314 [myid:] - WARN  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11239:Follower@119] - Got zxid 0x1fffffffd expected 0x10000000e
2018-06-28 17:41:23,314 [myid:] - WARN  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11241:Follower@119] - Got zxid 0x1fffffffd expected 0x10000000e
2018-06-28 17:41:23,314 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@301] - Snapshotting: 0x10000000d to /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test4167468597469280827.junit.dir/version-2/snapshot.10000000d
2018-06-28 17:41:23,314 [myid:] - WARN  [LearnerHandler-/127.0.0.1:50976:Leader@613] - Commiting zxid 0x1fffffffd from /127.0.0.1:12243 not first!
2018-06-28 17:41:23,314 [myid:] - WARN  [LearnerHandler-/127.0.0.1:50976:Leader@615] - First is 0x10000000e
2018-06-28 17:41:23,315 [myid:] - INFO  [SyncThread:3:FileTxnLog@213] - Creating new log file: log.1fffffffe
2018-06-28 17:41:23,316 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@301] - Snapshotting: 0x1fffffffd to /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test7801919246500148878.junit.dir/version-2/snapshot.1fffffffd
2018-06-28 17:41:23,316 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::Leader@520] - Shutting down
2018-06-28 17:41:23,317 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::Leader@526] - Shutdown called
java.lang.Exception: shutdown Leader! reason: zxid lower 32 bits have rolled over, forcing re-election, and therefore new epoch start
	at org.apache.zookeeper.server.quorum.Leader.shutdown(Leader.java:526)
	at org.apache.zookeeper.server.quorum.Leader.propose(Leader.java:772)
	at org.apache.zookeeper.server.quorum.ProposalRequestProcessor.processRequest(ProposalRequestProcessor.java:78)
	at org.apache.zookeeper.server.PrepRequestProcessor.pRequest(PrepRequestProcessor.java:681)
	at org.apache.zookeeper.server.PrepRequestProcessor.run(PrepRequestProcessor.java:134)
2018-06-28 17:41:23,317 [myid:] - INFO  [LearnerCnxAcceptor-/127.0.0.1:12243:Leader$LearnerCnxAcceptor@340] - exception while shutting down acceptor: java.net.SocketException: Socket closed
2018-06-28 17:41:23,318 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:50981 which had sessionid 0x3000654d3f00000
2018-06-28 17:41:23,318 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::ZooKeeperServer@502] - shutting down
2018-06-28 17:41:23,318 [myid:] - INFO  [main-SendThread(localhost:11243):ClientCnxn$SendThread@1162] - Unable to read additional data from server sessionid 0x3000654d3f00000, likely server has closed socket, closing socket connection and attempting reconnect
2018-06-28 17:41:23,318 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::SessionTrackerImpl@226] - Shutting down
2018-06-28 17:41:23,318 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::PrepRequestProcessor@769] - Shutting down
2018-06-28 17:41:23,318 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::ProposalRequestProcessor@88] - Shutting down
2018-06-28 17:41:23,318 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::CommitProcessor@184] - Shutting down
2018-06-28 17:41:23,318 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::Leader$ToBeAppliedRequestProcessor@685] - Shutting down
2018-06-28 17:41:23,318 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::FinalRequestProcessor@403] - shutdown of request processor complete
2018-06-28 17:41:23,318 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::SyncRequestProcessor@208] - Shutting down
2018-06-28 17:41:23,318 [myid:] - INFO  [CommitProcessor:3:CommitProcessor@153] - CommitProcessor exited loop!
2018-06-28 17:41:23,318 [myid:] - INFO  [SyncThread:3:SyncRequestProcessor@186] - SyncRequestProcessor exited!
2018-06-28 17:41:23,320 [myid:] - WARN  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11241:Follower@90] - Exception when following the leader
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:63)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:99)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:153)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:86)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:981)
2018-06-28 17:41:23,320 [myid:] - WARN  [LearnerHandler-/127.0.0.1:50976:LearnerHandler@661] - ******* GOODBYE /127.0.0.1:50976 ********
2018-06-28 17:41:23,320 [myid:] - WARN  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11239:Follower@90] - Exception when following the leader
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:63)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:99)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:153)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:86)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:981)
2018-06-28 17:41:23,320 [myid:] - WARN  [LearnerHandler-/127.0.0.1:50977:LearnerHandler@661] - ******* GOODBYE /127.0.0.1:50977 ********
2018-06-28 17:41:23,320 [myid:] - WARN  [LearnerHandler-/127.0.0.1:50977:LearnerHandler@673] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1220)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:335)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:339)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:671)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:664)
2018-06-28 17:41:23,320 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::PrepRequestProcessor@138] - zxid lower 32 bits have rolled over, forcing re-election, and therefore new epoch start
2018-06-28 17:41:23,320 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11239:Follower@169] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:169)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:985)
2018-06-28 17:41:23,320 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11241:Follower@169] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:169)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:985)
2018-06-28 17:41:23,320 [myid:] - WARN  [LearnerHandler-/127.0.0.1:50976:LearnerHandler@673] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1220)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:335)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:339)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:671)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:664)
2018-06-28 17:41:23,321 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11239:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:50982 which had sessionid 0x1000654d3ec0000
2018-06-28 17:41:23,320 [myid:] - ERROR [ProcessThread(sid:3 cport:-1)::ZooKeeperCriticalThread@49] - Severe unrecoverable error, from thread : ProcessThread(sid:3 cport:-1):
org.apache.zookeeper.server.RequestProcessor$RequestProcessorException: zxid lower 32 bits have rolled over, forcing re-election, and therefore new epoch start
	at org.apache.zookeeper.server.quorum.ProposalRequestProcessor.processRequest(ProposalRequestProcessor.java:80)
	at org.apache.zookeeper.server.PrepRequestProcessor.pRequest(PrepRequestProcessor.java:681)
	at org.apache.zookeeper.server.PrepRequestProcessor.run(PrepRequestProcessor.java:134)
Caused by: org.apache.zookeeper.server.quorum.Leader$XidRolloverException: zxid lower 32 bits have rolled over, forcing re-election, and therefore new epoch start
	at org.apache.zookeeper.server.quorum.Leader.propose(Leader.java:773)
	at org.apache.zookeeper.server.quorum.ProposalRequestProcessor.processRequest(ProposalRequestProcessor.java:78)
	... 2 more
2018-06-28 17:41:23,321 [myid:] - INFO  [main-SendThread(localhost:11239):ClientCnxn$SendThread@1162] - Unable to read additional data from server sessionid 0x1000654d3ec0000, likely server has closed socket, closing socket connection and attempting reconnect
2018-06-28 17:41:23,321 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11239:FollowerZooKeeperServer@140] - Shutting down
2018-06-28 17:41:23,322 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11239:ZooKeeperServer@502] - shutting down
2018-06-28 17:41:23,322 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11239:FollowerRequestProcessor@107] - Shutting down
2018-06-28 17:41:23,321 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11241:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:50983 which had sessionid 0x2000654d3ec0000
2018-06-28 17:41:23,322 [myid:] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@97] - FollowerRequestProcessor exited loop!
2018-06-28 17:41:23,322 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11239:CommitProcessor@184] - Shutting down
2018-06-28 17:41:23,322 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::ZooKeeperServerListenerImpl@42] - Thread ProcessThread(sid:3 cport:-1): exits, error code 1
2018-06-28 17:41:23,322 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::PrepRequestProcessor@144] - PrepRequestProcessor exited loop!
2018-06-28 17:41:23,322 [myid:] - INFO  [CommitProcessor:1:CommitProcessor@153] - CommitProcessor exited loop!
2018-06-28 17:41:23,322 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11239:FinalRequestProcessor@403] - shutdown of request processor complete
2018-06-28 17:41:23,322 [myid:] - INFO  [main-SendThread(localhost:11241):ClientCnxn$SendThread@1162] - Unable to read additional data from server sessionid 0x2000654d3ec0000, likely server has closed socket, closing socket connection and attempting reconnect
2018-06-28 17:41:23,322 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11241:FollowerZooKeeperServer@140] - Shutting down
2018-06-28 17:41:23,323 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11241:ZooKeeperServer@502] - shutting down
2018-06-28 17:41:23,323 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11241:FollowerRequestProcessor@107] - Shutting down
2018-06-28 17:41:23,323 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11241:CommitProcessor@184] - Shutting down
2018-06-28 17:41:23,323 [myid:] - INFO  [FollowerRequestProcessor:2:FollowerRequestProcessor@97] - FollowerRequestProcessor exited loop!
2018-06-28 17:41:23,323 [myid:] - INFO  [CommitProcessor:2:CommitProcessor@153] - CommitProcessor exited loop!
2018-06-28 17:41:23,323 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11241:FinalRequestProcessor@403] - shutdown of request processor complete
2018-06-28 17:41:23,324 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11239:SyncRequestProcessor@208] - Shutting down
2018-06-28 17:41:23,324 [myid:] - INFO  [SyncThread:1:SyncRequestProcessor@186] - SyncRequestProcessor exited!
2018-06-28 17:41:23,324 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11239:QuorumPeer@909] - LOOKING
2018-06-28 17:41:23,324 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11241:SyncRequestProcessor@208] - Shutting down
2018-06-28 17:41:23,324 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11239:FastLeaderElection@813] - New election. My id =  1, proposed zxid=0x1fffffffe
2018-06-28 17:41:23,324 [myid:] - INFO  [SyncThread:2:SyncRequestProcessor@186] - SyncRequestProcessor exited!
2018-06-28 17:41:23,324 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11241:QuorumPeer@909] - LOOKING
2018-06-28 17:41:23,324 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:23,324 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11241:FastLeaderElection@813] - New election. My id =  2, proposed zxid=0x1fffffffe
2018-06-28 17:41:23,324 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:23,324 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) LEADING (my state)
2018-06-28 17:41:23,325 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:23,325 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEpoch) LEADING (my state)
2018-06-28 17:41:23,325 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:23,325 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LEADING (n.state), 3 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:23,325 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:23,325 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LEADING (n.state), 3 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:23,325 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:23,325 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) LEADING (my state)
2018-06-28 17:41:23,325 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LEADING (n.state), 3 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:23,531 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11239:QuorumPeer@979] - FOLLOWING
2018-06-28 17:41:23,531 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11239:ZooKeeperServer@174] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test7801919246500148878.junit.dir/version-2 snapdir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test7801919246500148878.junit.dir/version-2
2018-06-28 17:41:23,531 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11241:QuorumPeer@991] - LEADING
2018-06-28 17:41:23,531 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11241:ZooKeeperServer@174] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test7847363621123657276.junit.dir/version-2 snapdir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test7847363621123657276.junit.dir/version-2
2018-06-28 17:41:23,531 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11239:Follower@65] - FOLLOWING - LEADER ELECTION TOOK - 207
2018-06-28 17:41:23,531 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11241:Leader@380] - LEADING - LEADER ELECTION TOOK - 207
2018-06-28 17:41:23,531 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11239:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:41:23,532 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50984:LearnerHandler@346] - Follower sid: 1 : info : org.apache.zookeeper.server.quorum.QuorumPeer$QuorumServer@4d2c035b
2018-06-28 17:41:23,534 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50984:LearnerHandler@401] - Synchronizing with Follower sid: 1 maxCommittedLog=0x1fffffffe minCommittedLog=0x100000001 peerLastZxid=0x1fffffffe
2018-06-28 17:41:23,534 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50984:LearnerHandler@410] - leader and follower are in sync, zxid=0x1fffffffe
2018-06-28 17:41:23,534 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50984:LearnerHandler@475] - Sending DIFF
2018-06-28 17:41:23,534 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11239:Learner@332] - Getting a diff from the leader 0x1fffffffe
2018-06-28 17:41:23,536 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50984:LearnerHandler@535] - Received NEWLEADER-ACK message from 1
2018-06-28 17:41:23,536 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11241:Leader@964] - Have quorum of supporters, sids: [ 1,2 ]; starting up and setting last processed zxid: 0x200000000
2018-06-28 17:41:23,993 [myid:] - INFO  [/127.0.0.1:12238:QuorumCnxManager$Listener@773] - Leaving listener
2018-06-28 17:41:24,244 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11243:Leader@520] - Shutting down
2018-06-28 17:41:24,244 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11243:QuorumPeer@909] - LOOKING
2018-06-28 17:41:24,245 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11243:FastLeaderElection@813] - New election. My id =  3, proposed zxid=0x1fffffffe
2018-06-28 17:41:24,245 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 3 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:24,245 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 3 (n.sid), 0x1 (n.peerEpoch) FOLLOWING (my state)
2018-06-28 17:41:24,245 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 3 (n.sid), 0x1 (n.peerEpoch) LEADING (my state)
2018-06-28 17:41:24,246 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), FOLLOWING (n.state), 1 (n.sid), 0x2 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:24,246 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LEADING (n.state), 2 (n.sid), 0x2 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:24,246 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11243:QuorumPeer@979] - FOLLOWING
2018-06-28 17:41:24,246 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11243:ZooKeeperServer@174] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test4167468597469280827.junit.dir/version-2 snapdir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test4167468597469280827.junit.dir/version-2
2018-06-28 17:41:24,246 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11243:Follower@65] - FOLLOWING - LEADER ELECTION TOOK - 1
2018-06-28 17:41:24,246 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11243:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:41:24,248 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50985:LearnerHandler@346] - Follower sid: 3 : info : org.apache.zookeeper.server.quorum.QuorumPeer$QuorumServer@13f7169d
2018-06-28 17:41:24,249 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50985:LearnerHandler@401] - Synchronizing with Follower sid: 3 maxCommittedLog=0x1fffffffe minCommittedLog=0x100000001 peerLastZxid=0x1fffffffe
2018-06-28 17:41:24,249 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50985:LearnerHandler@475] - Sending DIFF
2018-06-28 17:41:24,249 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11243:Learner@332] - Getting a diff from the leader 0x1fffffffe
2018-06-28 17:41:24,251 [myid:] - INFO  [LearnerHandler-/127.0.0.1:50985:LearnerHandler@535] - Received NEWLEADER-ACK message from 3
2018-06-28 17:41:24,537 [myid:] - INFO  [main-SendThread(localhost:11241):ClientCnxn$SendThread@1029] - Opening socket connection to server localhost/127.0.0.1:11241. Will not attempt to authenticate using SASL (unknown error)
2018-06-28 17:41:24,538 [myid:] - INFO  [main-SendThread(localhost:11241):ClientCnxn$SendThread@879] - Socket connection established to localhost/127.0.0.1:11241, initiating session
2018-06-28 17:41:24,539 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11241:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:50986
2018-06-28 17:41:24,539 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11241:ZooKeeperServer@942] - Client attempting to renew session 0x2000654d3ec0000 at /127.0.0.1:50986
2018-06-28 17:41:24,539 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11241:ZooKeeperServer@694] - Established session 0x2000654d3ec0000 with negotiated timeout 30000 for client /127.0.0.1:50986
2018-06-28 17:41:24,539 [myid:] - INFO  [main-SendThread(localhost:11241):ClientCnxn$SendThread@1303] - Session establishment complete on server localhost/127.0.0.1:11241, sessionid = 0x2000654d3ec0000, negotiated timeout = 30000
2018-06-28 17:41:24,593 [myid:] - INFO  [main-SendThread(localhost:11239):ClientCnxn$SendThread@1029] - Opening socket connection to server localhost/127.0.0.1:11239. Will not attempt to authenticate using SASL (unknown error)
2018-06-28 17:41:24,593 [myid:] - INFO  [main-SendThread(localhost:11239):ClientCnxn$SendThread@879] - Socket connection established to localhost/127.0.0.1:11239, initiating session
2018-06-28 17:41:24,593 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11239:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:50987
2018-06-28 17:41:24,594 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11239:ZooKeeperServer@942] - Client attempting to renew session 0x1000654d3ec0000 at /127.0.0.1:50987
2018-06-28 17:41:24,594 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11239:Learner@108] - Revalidating client: 0x1000654d3ec0000
2018-06-28 17:41:24,595 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11239:ZooKeeperServer@694] - Established session 0x1000654d3ec0000 with negotiated timeout 30000 for client /127.0.0.1:50987
2018-06-28 17:41:24,595 [myid:] - INFO  [main-SendThread(localhost:11239):ClientCnxn$SendThread@1303] - Session establishment complete on server localhost/127.0.0.1:11239, sessionid = 0x1000654d3ec0000, negotiated timeout = 30000
2018-06-28 17:41:24,666 [myid:] - INFO  [SessionTracker:SessionTrackerImpl@163] - SessionTrackerImpl exited loop!
2018-06-28 17:41:24,666 [myid:] - INFO  [SessionTracker:SessionTrackerImpl@163] - SessionTrackerImpl exited loop!
2018-06-28 17:41:24,667 [myid:] - INFO  [main-SendThread(localhost:11243):ClientCnxn$SendThread@1029] - Opening socket connection to server localhost/127.0.0.1:11243. Will not attempt to authenticate using SASL (unknown error)
2018-06-28 17:41:24,667 [myid:] - INFO  [main-SendThread(localhost:11243):ClientCnxn$SendThread@879] - Socket connection established to localhost/127.0.0.1:11243, initiating session
2018-06-28 17:41:24,667 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11243:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:50988
2018-06-28 17:41:24,667 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11243:ZooKeeperServer@942] - Client attempting to renew session 0x3000654d3f00000 at /127.0.0.1:50988
2018-06-28 17:41:24,668 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11243:Learner@108] - Revalidating client: 0x3000654d3f00000
2018-06-28 17:41:24,669 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11243:ZooKeeperServer@694] - Established session 0x3000654d3f00000 with negotiated timeout 30000 for client /127.0.0.1:50988
2018-06-28 17:41:24,669 [myid:] - INFO  [main-SendThread(localhost:11243):ClientCnxn$SendThread@1303] - Session establishment complete on server localhost/127.0.0.1:11243, sessionid = 0x3000654d3f00000, negotiated timeout = 30000
2018-06-28 17:41:24,669 [myid:] - INFO  [main:ZxidRolloverTest@225] - Creating nodes 12 thru 22
2018-06-28 17:41:24,670 [myid:] - WARN  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11239:Follower@119] - Got zxid 0x200000001 expected 0x1
2018-06-28 17:41:24,671 [myid:] - WARN  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11243:Follower@119] - Got zxid 0x200000001 expected 0x1
2018-06-28 17:41:24,671 [myid:] - INFO  [SyncThread:1:FileTxnLog@213] - Creating new log file: log.200000001
2018-06-28 17:41:24,677 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@301] - Snapshotting: 0x200000004 to /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test7847363621123657276.junit.dir/version-2/snapshot.200000004
2018-06-28 17:41:24,677 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@301] - Snapshotting: 0x200000004 to /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test7801919246500148878.junit.dir/version-2/snapshot.200000004
2018-06-28 17:41:24,678 [myid:] - INFO  [SyncThread:2:FileTxnLog@213] - Creating new log file: log.200000006
2018-06-28 17:41:24,679 [myid:] - INFO  [SyncThread:1:FileTxnLog@213] - Creating new log file: log.200000006
2018-06-28 17:41:24,679 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@301] - Snapshotting: 0x200000005 to /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test4167468597469280827.junit.dir/version-2/snapshot.200000005
2018-06-28 17:41:24,681 [myid:] - INFO  [SyncThread:3:FileTxnLog@213] - Creating new log file: log.200000007
2018-06-28 17:41:24,685 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@301] - Snapshotting: 0x200000009 to /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test7847363621123657276.junit.dir/version-2/snapshot.200000009
2018-06-28 17:41:24,685 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@301] - Snapshotting: 0x200000009 to /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test7801919246500148878.junit.dir/version-2/snapshot.200000009
2018-06-28 17:41:24,685 [myid:] - INFO  [main:ZxidRolloverTest@225] - Creating nodes 22 thru 32
2018-06-28 17:41:24,686 [myid:] - INFO  [SyncThread:2:FileTxnLog@213] - Creating new log file: log.20000000b
2018-06-28 17:41:24,686 [myid:] - INFO  [SyncThread:1:FileTxnLog@213] - Creating new log file: log.20000000b
2018-06-28 17:41:24,688 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@301] - Snapshotting: 0x20000000b to /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test4167468597469280827.junit.dir/version-2/snapshot.20000000b
2018-06-28 17:41:24,689 [myid:] - INFO  [SyncThread:3:FileTxnLog@213] - Creating new log file: log.20000000d
2018-06-28 17:41:24,692 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@301] - Snapshotting: 0x20000000e to /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test7847363621123657276.junit.dir/version-2/snapshot.20000000e
2018-06-28 17:41:24,692 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@301] - Snapshotting: 0x20000000e to /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test7801919246500148878.junit.dir/version-2/snapshot.20000000e
2018-06-28 17:41:24,693 [myid:] - INFO  [SyncThread:2:FileTxnLog@213] - Creating new log file: log.200000010
2018-06-28 17:41:24,693 [myid:] - INFO  [SyncThread:1:FileTxnLog@213] - Creating new log file: log.200000010
2018-06-28 17:41:24,694 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@301] - Snapshotting: 0x20000000f to /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test4167468597469280827.junit.dir/version-2/snapshot.20000000f
2018-06-28 17:41:24,696 [myid:] - INFO  [SyncThread:3:FileTxnLog@213] - Creating new log file: log.200000011
2018-06-28 17:41:24,698 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@301] - Snapshotting: 0x200000012 to /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test7847363621123657276.junit.dir/version-2/snapshot.200000012
2018-06-28 17:41:24,699 [myid:] - INFO  [SyncThread:2:FileTxnLog@213] - Creating new log file: log.200000014
2018-06-28 17:41:24,700 [myid:] - INFO  [main:ZxidRolloverTest@225] - Creating nodes 32 thru 42
2018-06-28 17:41:24,701 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@301] - Snapshotting: 0x200000014 to /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test7801919246500148878.junit.dir/version-2/snapshot.200000014
2018-06-28 17:41:24,701 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@301] - Snapshotting: 0x200000014 to /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test4167468597469280827.junit.dir/version-2/snapshot.200000014
2018-06-28 17:41:24,702 [myid:] - INFO  [SyncThread:3:FileTxnLog@213] - Creating new log file: log.200000016
2018-06-28 17:41:24,702 [myid:] - INFO  [SyncThread:1:FileTxnLog@213] - Creating new log file: log.200000016
2018-06-28 17:41:24,707 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@301] - Snapshotting: 0x200000018 to /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test7847363621123657276.junit.dir/version-2/snapshot.200000018
2018-06-28 17:41:24,707 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@301] - Snapshotting: 0x200000018 to /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test4167468597469280827.junit.dir/version-2/snapshot.200000018
2018-06-28 17:41:24,707 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@301] - Snapshotting: 0x200000018 to /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test7801919246500148878.junit.dir/version-2/snapshot.200000018
2018-06-28 17:41:24,708 [myid:] - INFO  [SyncThread:2:FileTxnLog@213] - Creating new log file: log.20000001a
2018-06-28 17:41:24,708 [myid:] - INFO  [SyncThread:1:FileTxnLog@213] - Creating new log file: log.20000001a
2018-06-28 17:41:24,708 [myid:] - INFO  [SyncThread:3:FileTxnLog@213] - Creating new log file: log.20000001a
2018-06-28 17:41:24,714 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@301] - Snapshotting: 0x20000001c to /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test7847363621123657276.junit.dir/version-2/snapshot.20000001c
2018-06-28 17:41:24,715 [myid:] - INFO  [SyncThread:2:FileTxnLog@213] - Creating new log file: log.20000001e
2018-06-28 17:41:24,716 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@301] - Snapshotting: 0x20000001d to /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test4167468597469280827.junit.dir/version-2/snapshot.20000001d
2018-06-28 17:41:24,716 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@301] - Snapshotting: 0x20000001d to /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test7801919246500148878.junit.dir/version-2/snapshot.20000001d
2018-06-28 17:41:24,717 [myid:] - INFO  [main:QuorumUtil@227] - Shutting down quorum peer QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11239
2018-06-28 17:41:24,717 [myid:] - INFO  [main:Follower@169] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:169)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1026)
	at org.apache.zookeeper.test.QuorumUtil.shutdown(QuorumUtil.java:228)
	at org.apache.zookeeper.test.QuorumUtil.shutdownAll(QuorumUtil.java:215)
	at org.apache.zookeeper.server.ZxidRolloverTest.shutdownAll(ZxidRolloverTest.java:177)
	at org.apache.zookeeper.server.ZxidRolloverTest.testMultipleRollover(ZxidRolloverTest.java:424)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:536)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1205)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1048)
2018-06-28 17:41:24,718 [myid:] - INFO  [main:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:50987 which had sessionid 0x1000654d3ec0000
2018-06-28 17:41:24,718 [myid:] - INFO  [main:FollowerZooKeeperServer@140] - Shutting down
2018-06-28 17:41:24,718 [myid:] - INFO  [main:ZooKeeperServer@502] - shutting down
2018-06-28 17:41:24,718 [myid:] - INFO  [main:FollowerRequestProcessor@107] - Shutting down
2018-06-28 17:41:24,718 [myid:] - INFO  [main-SendThread(localhost:11239):ClientCnxn$SendThread@1162] - Unable to read additional data from server sessionid 0x1000654d3ec0000, likely server has closed socket, closing socket connection and attempting reconnect
2018-06-28 17:41:24,718 [myid:] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@97] - FollowerRequestProcessor exited loop!
2018-06-28 17:41:24,718 [myid:] - INFO  [main:CommitProcessor@184] - Shutting down
2018-06-28 17:41:24,719 [myid:] - INFO  [main:FinalRequestProcessor@403] - shutdown of request processor complete
2018-06-28 17:41:24,719 [myid:] - INFO  [CommitProcessor:1:CommitProcessor@153] - CommitProcessor exited loop!
2018-06-28 17:41:24,720 [myid:] - INFO  [main:SyncRequestProcessor@208] - Shutting down
2018-06-28 17:41:24,720 [myid:] - INFO  [SyncThread:1:SyncRequestProcessor@186] - SyncRequestProcessor exited!
2018-06-28 17:41:24,721 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11239:NIOServerCnxnFactory@242] - NIOServerCnxn factory exited run method
2018-06-28 17:41:24,721 [myid:] - ERROR [/127.0.0.1:12240:QuorumCnxManager$Listener@760] - Exception while listening
java.net.SocketException: Socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:409)
	at java.net.ServerSocket.implAccept(ServerSocket.java:545)
	at java.net.ServerSocket.accept(ServerSocket.java:513)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$Listener.run(QuorumCnxManager.java:741)
2018-06-28 17:41:24,722 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1025] - Connection broken for id 1, my id = 3, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1010)
2018-06-28 17:41:24,722 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1028] - Interrupting SendWorker
2018-06-28 17:41:24,721 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1025] - Connection broken for id 1, my id = 2, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1010)
2018-06-28 17:41:24,723 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1028] - Interrupting SendWorker
2018-06-28 17:41:24,722 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1025] - Connection broken for id 2, my id = 1, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1010)
2018-06-28 17:41:24,723 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1028] - Interrupting SendWorker
2018-06-28 17:41:24,721 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@941] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:418)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1094)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$700(QuorumCnxManager.java:74)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:929)
2018-06-28 17:41:24,724 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@951] - Send worker leaving thread
2018-06-28 17:41:24,723 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@941] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:418)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1094)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$700(QuorumCnxManager.java:74)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:929)
2018-06-28 17:41:24,724 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@951] - Send worker leaving thread
2018-06-28 17:41:24,723 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@941] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:418)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1094)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$700(QuorumCnxManager.java:74)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:929)
2018-06-28 17:41:24,724 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@951] - Send worker leaving thread
2018-06-28 17:41:24,722 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1025] - Connection broken for id 3, my id = 1, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1010)
2018-06-28 17:41:24,724 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1028] - Interrupting SendWorker
2018-06-28 17:41:24,722 [myid:] - INFO  [main:QuorumUtil@231] - Shutting down leader election QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11239
2018-06-28 17:41:24,722 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@941] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:418)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1094)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$700(QuorumCnxManager.java:74)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:929)
2018-06-28 17:41:24,724 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@951] - Send worker leaving thread
2018-06-28 17:41:24,724 [myid:] - INFO  [main:QuorumUtil@236] - Waiting for QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11239 to exit thread
2018-06-28 17:41:25,544 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11239:Follower@169] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:169)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:985)
2018-06-28 17:41:25,545 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11239:FollowerZooKeeperServer@140] - Shutting down
2018-06-28 17:41:25,545 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11239:SyncRequestProcessor@208] - Shutting down
2018-06-28 17:41:25,545 [myid:] - WARN  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11239:QuorumPeer@1009] - QuorumPeer main thread exited
2018-06-28 17:41:25,546 [myid:] - INFO  [main:QuorumUtil@227] - Shutting down quorum peer QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11241
2018-06-28 17:41:25,546 [myid:] - INFO  [main:Leader@520] - Shutting down
2018-06-28 17:41:25,546 [myid:] - INFO  [main:Leader@526] - Shutdown called
java.lang.Exception: shutdown Leader! reason: quorum Peer shutdown
	at org.apache.zookeeper.server.quorum.Leader.shutdown(Leader.java:526)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1023)
	at org.apache.zookeeper.test.QuorumUtil.shutdown(QuorumUtil.java:228)
	at org.apache.zookeeper.test.QuorumUtil.shutdownAll(QuorumUtil.java:215)
	at org.apache.zookeeper.server.ZxidRolloverTest.shutdownAll(ZxidRolloverTest.java:177)
	at org.apache.zookeeper.server.ZxidRolloverTest.testMultipleRollover(ZxidRolloverTest.java:424)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:536)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1205)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1048)
2018-06-28 17:41:25,546 [myid:] - INFO  [LearnerCnxAcceptor-/127.0.0.1:12241:Leader$LearnerCnxAcceptor@340] - exception while shutting down acceptor: java.net.SocketException: Socket closed
2018-06-28 17:41:25,546 [myid:] - INFO  [main:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:50986 which had sessionid 0x2000654d3ec0000
2018-06-28 17:41:25,547 [myid:] - INFO  [main:ZooKeeperServer@502] - shutting down
2018-06-28 17:41:25,547 [myid:] - INFO  [main:SessionTrackerImpl@226] - Shutting down
2018-06-28 17:41:25,547 [myid:] - INFO  [main:PrepRequestProcessor@769] - Shutting down
2018-06-28 17:41:25,547 [myid:] - INFO  [main-SendThread(localhost:11241):ClientCnxn$SendThread@1162] - Unable to read additional data from server sessionid 0x2000654d3ec0000, likely server has closed socket, closing socket connection and attempting reconnect
2018-06-28 17:41:25,547 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::PrepRequestProcessor@144] - PrepRequestProcessor exited loop!
2018-06-28 17:41:25,547 [myid:] - INFO  [main:ProposalRequestProcessor@88] - Shutting down
2018-06-28 17:41:25,547 [myid:] - INFO  [main:CommitProcessor@184] - Shutting down
2018-06-28 17:41:25,547 [myid:] - INFO  [main:Leader$ToBeAppliedRequestProcessor@685] - Shutting down
2018-06-28 17:41:25,547 [myid:] - INFO  [main:FinalRequestProcessor@403] - shutdown of request processor complete
2018-06-28 17:41:25,547 [myid:] - INFO  [main:SyncRequestProcessor@208] - Shutting down
2018-06-28 17:41:25,547 [myid:] - INFO  [CommitProcessor:2:CommitProcessor@153] - CommitProcessor exited loop!
2018-06-28 17:41:25,548 [myid:] - INFO  [SyncThread:2:SyncRequestProcessor@186] - SyncRequestProcessor exited!
2018-06-28 17:41:25,549 [myid:] - WARN  [LearnerHandler-/127.0.0.1:50984:LearnerHandler@661] - ******* GOODBYE /127.0.0.1:50984 ********
2018-06-28 17:41:25,549 [myid:] - WARN  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11243:Follower@90] - Exception when following the leader
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:63)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:99)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:153)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:86)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:981)
2018-06-28 17:41:25,549 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11241:NIOServerCnxnFactory@242] - NIOServerCnxn factory exited run method
2018-06-28 17:41:25,549 [myid:] - WARN  [LearnerHandler-/127.0.0.1:50985:LearnerHandler@661] - ******* GOODBYE /127.0.0.1:50985 ********
2018-06-28 17:41:25,549 [myid:] - WARN  [LearnerHandler-/127.0.0.1:50984:LearnerHandler@673] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1220)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:335)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:339)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:671)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:664)
2018-06-28 17:41:25,550 [myid:] - WARN  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11241:QuorumPeer@997] - Unexpected exception
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at org.apache.zookeeper.server.quorum.Leader.lead(Leader.java:474)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:994)
2018-06-28 17:41:25,550 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1025] - Connection broken for id 3, my id = 2, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1010)
2018-06-28 17:41:25,550 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1028] - Interrupting SendWorker
2018-06-28 17:41:25,549 [myid:] - WARN  [LearnerHandler-/127.0.0.1:50985:LearnerHandler@673] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1220)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:335)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:339)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:671)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:664)
2018-06-28 17:41:25,549 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11243:Follower@169] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:169)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:985)
2018-06-28 17:41:25,550 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11241:Leader@520] - Shutting down
2018-06-28 17:41:25,551 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11243:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:50988 which had sessionid 0x3000654d3f00000
2018-06-28 17:41:25,550 [myid:] - INFO  [main:QuorumUtil@231] - Shutting down leader election QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11241
2018-06-28 17:41:25,550 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@941] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:418)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1094)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$700(QuorumCnxManager.java:74)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:929)
2018-06-28 17:41:25,550 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1025] - Connection broken for id 2, my id = 3, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1010)
2018-06-28 17:41:25,551 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1028] - Interrupting SendWorker
2018-06-28 17:41:25,550 [myid:] - ERROR [/127.0.0.1:12242:QuorumCnxManager$Listener@760] - Exception while listening
java.net.SocketException: Socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:409)
	at java.net.ServerSocket.implAccept(ServerSocket.java:545)
	at java.net.ServerSocket.accept(ServerSocket.java:513)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$Listener.run(QuorumCnxManager.java:741)
2018-06-28 17:41:25,552 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@941] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:418)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1094)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$700(QuorumCnxManager.java:74)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:929)
2018-06-28 17:41:25,552 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@951] - Send worker leaving thread
2018-06-28 17:41:25,551 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@951] - Send worker leaving thread
2018-06-28 17:41:25,551 [myid:] - INFO  [main:QuorumUtil@236] - Waiting for QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11241 to exit thread
2018-06-28 17:41:25,551 [myid:] - INFO  [main-SendThread(localhost:11243):ClientCnxn$SendThread@1162] - Unable to read additional data from server sessionid 0x3000654d3f00000, likely server has closed socket, closing socket connection and attempting reconnect
2018-06-28 17:41:25,551 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11243:FollowerZooKeeperServer@140] - Shutting down
2018-06-28 17:41:25,552 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11243:ZooKeeperServer@502] - shutting down
2018-06-28 17:41:25,552 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11243:FollowerRequestProcessor@107] - Shutting down
2018-06-28 17:41:25,551 [myid:] - WARN  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11241:QuorumPeer@1009] - QuorumPeer main thread exited
2018-06-28 17:41:25,552 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11243:CommitProcessor@184] - Shutting down
2018-06-28 17:41:25,552 [myid:] - INFO  [main:QuorumUtil@227] - Shutting down quorum peer QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11243
2018-06-28 17:41:25,552 [myid:] - INFO  [FollowerRequestProcessor:3:FollowerRequestProcessor@97] - FollowerRequestProcessor exited loop!
2018-06-28 17:41:25,553 [myid:] - INFO  [main:Follower@169] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:169)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1026)
	at org.apache.zookeeper.test.QuorumUtil.shutdown(QuorumUtil.java:228)
	at org.apache.zookeeper.test.QuorumUtil.shutdownAll(QuorumUtil.java:215)
	at org.apache.zookeeper.server.ZxidRolloverTest.shutdownAll(ZxidRolloverTest.java:177)
	at org.apache.zookeeper.server.ZxidRolloverTest.testMultipleRollover(ZxidRolloverTest.java:424)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:536)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1205)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1048)
2018-06-28 17:41:25,552 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11243:FinalRequestProcessor@403] - shutdown of request processor complete
2018-06-28 17:41:25,552 [myid:] - INFO  [CommitProcessor:3:CommitProcessor@153] - CommitProcessor exited loop!
2018-06-28 17:41:25,553 [myid:] - INFO  [main:FollowerZooKeeperServer@140] - Shutting down
2018-06-28 17:41:25,554 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11243:SyncRequestProcessor@208] - Shutting down
2018-06-28 17:41:25,554 [myid:] - INFO  [main:SyncRequestProcessor@208] - Shutting down
2018-06-28 17:41:25,554 [myid:] - INFO  [SyncThread:3:SyncRequestProcessor@186] - SyncRequestProcessor exited!
2018-06-28 17:41:25,554 [myid:] - WARN  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11243:QuorumPeer@1009] - QuorumPeer main thread exited
2018-06-28 17:41:25,554 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11243:NIOServerCnxnFactory@242] - NIOServerCnxn factory exited run method
2018-06-28 17:41:25,555 [myid:] - ERROR [/127.0.0.1:12244:QuorumCnxManager$Listener@760] - Exception while listening
java.net.SocketException: Socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:409)
	at java.net.ServerSocket.implAccept(ServerSocket.java:545)
	at java.net.ServerSocket.accept(ServerSocket.java:513)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$Listener.run(QuorumCnxManager.java:741)
2018-06-28 17:41:25,555 [myid:] - INFO  [main:QuorumUtil@231] - Shutting down leader election QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11243
2018-06-28 17:41:25,555 [myid:] - INFO  [main:QuorumUtil@236] - Waiting for QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11243 to exit thread
2018-06-28 17:41:25,556 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11239
2018-06-28 17:41:25,556 [myid:] - INFO  [main:QuorumUtil@220] - 127.0.0.1:11239 is no longer accepting client connections
2018-06-28 17:41:25,556 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11241
2018-06-28 17:41:25,556 [myid:] - INFO  [main:QuorumUtil@220] - 127.0.0.1:11241 is no longer accepting client connections
2018-06-28 17:41:25,556 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11243
2018-06-28 17:41:25,557 [myid:] - INFO  [main:QuorumUtil@220] - 127.0.0.1:11243 is no longer accepting client connections
2018-06-28 17:41:25,726 [myid:] - INFO  [/127.0.0.1:12240:QuorumCnxManager$Listener@773] - Leaving listener
2018-06-28 17:41:26,250 [myid:] - INFO  [main-SendThread(localhost:11239):ClientCnxn$SendThread@1029] - Opening socket connection to server localhost/127.0.0.1:11239. Will not attempt to authenticate using SASL (unknown error)
2018-06-28 17:41:26,250 [myid:] - INFO  [main-SendThread(localhost:11239):ClientCnxn$SendThread@1166] - Socket error occurred: localhost/127.0.0.1:11239: Connection refused
2018-06-28 17:41:26,555 [myid:] - INFO  [/127.0.0.1:12242:QuorumCnxManager$Listener@773] - Leaving listener
2018-06-28 17:41:26,555 [myid:] - INFO  [/127.0.0.1:12244:QuorumCnxManager$Listener@773] - Leaving listener
2018-06-28 17:41:26,666 [myid:] - INFO  [SessionTracker:SessionTrackerImpl@163] - SessionTrackerImpl exited loop!
2018-06-28 17:41:27,126 [myid:] - INFO  [main-SendThread(localhost:11243):ClientCnxn$SendThread@1029] - Opening socket connection to server localhost/127.0.0.1:11243. Will not attempt to authenticate using SASL (unknown error)
2018-06-28 17:41:27,126 [myid:] - INFO  [main-SendThread(localhost:11243):ClientCnxn$SendThread@1166] - Socket error occurred: localhost/127.0.0.1:11243: Connection refused
2018-06-28 17:41:27,249 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@409] - WorkerReceiver is down
2018-06-28 17:41:27,249 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@409] - WorkerReceiver is down
2018-06-28 17:41:27,249 [myid:] - INFO  [WorkerSender[myid=2]:FastLeaderElection$Messenger$WorkerSender@440] - WorkerSender is down
2018-06-28 17:41:27,249 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@409] - WorkerReceiver is down
2018-06-28 17:41:27,249 [myid:] - INFO  [WorkerSender[myid=1]:FastLeaderElection$Messenger$WorkerSender@440] - WorkerSender is down
2018-06-28 17:41:27,249 [myid:] - INFO  [WorkerSender[myid=3]:FastLeaderElection$Messenger$WorkerSender@440] - WorkerSender is down
2018-06-28 17:41:27,383 [myid:] - INFO  [main-SendThread(localhost:11239):ClientCnxn$SendThread@1029] - Opening socket connection to server localhost/127.0.0.1:11239. Will not attempt to authenticate using SASL (unknown error)
2018-06-28 17:41:27,383 [myid:] - INFO  [main-SendThread(localhost:11239):ClientCnxn$SendThread@1166] - Socket error occurred: localhost/127.0.0.1:11239: Connection refused
2018-06-28 17:41:27,632 [myid:] - INFO  [main-SendThread(localhost:11241):ClientCnxn$SendThread@1029] - Opening socket connection to server localhost/127.0.0.1:11241. Will not attempt to authenticate using SASL (unknown error)
2018-06-28 17:41:27,633 [myid:] - INFO  [main-SendThread(localhost:11241):ClientCnxn$SendThread@1166] - Socket error occurred: localhost/127.0.0.1:11241: Connection refused
2018-06-28 17:41:28,860 [myid:] - INFO  [main-SendThread(localhost:11243):ClientCnxn$SendThread@1029] - Opening socket connection to server localhost/127.0.0.1:11243. Will not attempt to authenticate using SASL (unknown error)
2018-06-28 17:41:28,860 [myid:] - INFO  [main-SendThread(localhost:11243):ClientCnxn$SendThread@1166] - Socket error occurred: localhost/127.0.0.1:11243: Connection refused
2018-06-28 17:41:28,961 [myid:] - INFO  [main:QuorumUtil@227] - Shutting down quorum peer QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11239
2018-06-28 17:41:28,962 [myid:] - INFO  [main:QuorumUtil@231] - Shutting down leader election QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11239
2018-06-28 17:41:28,962 [myid:] - INFO  [main:QuorumUtil@236] - Waiting for QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11239 to exit thread
2018-06-28 17:41:28,962 [myid:] - INFO  [main:QuorumUtil@227] - Shutting down quorum peer QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11241
2018-06-28 17:41:28,962 [myid:] - INFO  [main:QuorumUtil@231] - Shutting down leader election QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11241
2018-06-28 17:41:28,962 [myid:] - INFO  [main:QuorumUtil@236] - Waiting for QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11241 to exit thread
2018-06-28 17:41:28,962 [myid:] - INFO  [main:QuorumUtil@227] - Shutting down quorum peer QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11243
2018-06-28 17:41:28,962 [myid:] - INFO  [main:QuorumUtil@231] - Shutting down leader election QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11243
2018-06-28 17:41:28,962 [myid:] - INFO  [main:QuorumUtil@236] - Waiting for QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11243 to exit thread
2018-06-28 17:41:28,962 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11239
2018-06-28 17:41:28,962 [myid:] - INFO  [main:QuorumUtil@220] - 127.0.0.1:11239 is no longer accepting client connections
2018-06-28 17:41:28,963 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11241
2018-06-28 17:41:28,963 [myid:] - INFO  [main:QuorumUtil@220] - 127.0.0.1:11241 is no longer accepting client connections
2018-06-28 17:41:28,963 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11243
2018-06-28 17:41:28,963 [myid:] - INFO  [main:QuorumUtil@220] - 127.0.0.1:11243 is no longer accepting client connections
2018-06-28 17:41:28,963 [myid:] - INFO  [main:QuorumUtil@186] - Creating QuorumPeer 1; public port 11239
2018-06-28 17:41:28,963 [myid:] - INFO  [main:ServerCnxnFactory@117] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2018-06-28 17:41:28,964 [myid:] - INFO  [main:NIOServerCnxnFactory@89] - binding to port 0.0.0.0/0.0.0.0:11239
2018-06-28 17:41:28,965 [myid:] - INFO  [main:FileSnap@86] - Reading snapshot /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test7801919246500148878.junit.dir/version-2/snapshot.20000001d
2018-06-28 17:41:28,967 [myid:] - INFO  [ListenerThread:QuorumCnxManager$Listener@736] - My election bind port: /127.0.0.1:12240
2018-06-28 17:41:28,967 [myid:] - INFO  [main:QuorumUtil@132] - Started QuorumPeer 1
2018-06-28 17:41:28,967 [myid:] - INFO  [main:QuorumUtil@186] - Creating QuorumPeer 2; public port 11241
2018-06-28 17:41:28,967 [myid:] - INFO  [main:ServerCnxnFactory@117] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2018-06-28 17:41:28,967 [myid:] - INFO  [main:NIOServerCnxnFactory@89] - binding to port 0.0.0.0/0.0.0.0:11241
2018-06-28 17:41:28,967 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11239:QuorumPeer@909] - LOOKING
2018-06-28 17:41:28,968 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11239:FastLeaderElection@813] - New election. My id =  1, proposed zxid=0x20000001e
2018-06-28 17:41:28,968 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x20000001e (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x2 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:28,968 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@584] - Cannot open channel to 2 at election address /127.0.0.1:12242
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:558)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:534)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:454)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:435)
	at java.lang.Thread.run(Thread.java:748)
2018-06-28 17:41:28,968 [myid:] - INFO  [WorkerSender[myid=1]:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:41:28,968 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@584] - Cannot open channel to 3 at election address /127.0.0.1:12244
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:558)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:534)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:454)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:435)
	at java.lang.Thread.run(Thread.java:748)
2018-06-28 17:41:28,969 [myid:] - INFO  [WorkerSender[myid=1]:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:41:28,969 [myid:] - INFO  [main:FileSnap@86] - Reading snapshot /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test7847363621123657276.junit.dir/version-2/snapshot.20000001c
2018-06-28 17:41:28,971 [myid:] - INFO  [ListenerThread:QuorumCnxManager$Listener@736] - My election bind port: /127.0.0.1:12242
2018-06-28 17:41:28,971 [myid:] - INFO  [main:QuorumUtil@132] - Started QuorumPeer 2
2018-06-28 17:41:28,971 [myid:] - INFO  [main:QuorumUtil@186] - Creating QuorumPeer 3; public port 11243
2018-06-28 17:41:28,971 [myid:] - INFO  [main:ServerCnxnFactory@117] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2018-06-28 17:41:28,972 [myid:] - INFO  [main:NIOServerCnxnFactory@89] - binding to port 0.0.0.0/0.0.0.0:11243
2018-06-28 17:41:28,972 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11241:QuorumPeer@909] - LOOKING
2018-06-28 17:41:28,972 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11241:FastLeaderElection@813] - New election. My id =  2, proposed zxid=0x20000001e
2018-06-28 17:41:28,972 [myid:] - INFO  [/127.0.0.1:12240:QuorumCnxManager$Listener@743] - Received connection request /127.0.0.1:51003
2018-06-28 17:41:28,973 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x20000001e (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x2 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:28,973 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x20000001e (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x2 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:28,974 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x20000001e (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x2 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:28,973 [myid:] - INFO  [main:FileSnap@86] - Reading snapshot /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test4167468597469280827.junit.dir/version-2/snapshot.20000001d
2018-06-28 17:41:28,974 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x20000001e (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x2 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:28,974 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x20000001e (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x2 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:28,974 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@584] - Cannot open channel to 3 at election address /127.0.0.1:12244
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:558)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:534)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:454)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:435)
	at java.lang.Thread.run(Thread.java:748)
2018-06-28 17:41:28,974 [myid:] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@584] - Cannot open channel to 3 at election address /127.0.0.1:12244
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:558)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:534)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:454)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:435)
	at java.lang.Thread.run(Thread.java:748)
2018-06-28 17:41:28,974 [myid:] - INFO  [WorkerSender[myid=1]:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:41:28,974 [myid:] - INFO  [WorkerSender[myid=2]:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:41:28,976 [myid:] - INFO  [ListenerThread:QuorumCnxManager$Listener@736] - My election bind port: /127.0.0.1:12244
2018-06-28 17:41:28,976 [myid:] - INFO  [main:QuorumUtil@132] - Started QuorumPeer 3
2018-06-28 17:41:28,976 [myid:] - INFO  [main:QuorumUtil@135] - Checking ports 127.0.0.1:11239,127.0.0.1:11241,127.0.0.1:11243
2018-06-28 17:41:28,977 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11239
2018-06-28 17:41:28,977 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11243:QuorumPeer@909] - LOOKING
2018-06-28 17:41:28,977 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11243:FastLeaderElection@813] - New election. My id =  3, proposed zxid=0x20000001e
2018-06-28 17:41:28,977 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11239:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:51006
2018-06-28 17:41:28,977 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11239:NIOServerCnxn@908] - Processing stat command from /127.0.0.1:51006
2018-06-28 17:41:28,977 [myid:] - INFO  [/127.0.0.1:12240:QuorumCnxManager$Listener@743] - Received connection request /127.0.0.1:51007
2018-06-28 17:41:28,978 [myid:] - INFO  [Thread-72:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:51006 (no session established for client)
2018-06-28 17:41:28,978 [myid:] - INFO  [/127.0.0.1:12242:QuorumCnxManager$Listener@743] - Received connection request /127.0.0.1:51008
2018-06-28 17:41:28,979 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x20000001e (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x2 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:28,979 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x20000001e (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x2 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:28,979 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x20000001e (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x2 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:28,979 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x20000001e (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x2 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:28,979 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x20000001e (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x2 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:28,979 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x20000001e (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x2 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:28,979 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x20000001e (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x2 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:28,979 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x20000001e (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x2 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:28,980 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x20000001e (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x2 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:28,980 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x20000001e (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x2 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:28,980 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x20000001e (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x2 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:29,184 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11239:QuorumPeer@979] - FOLLOWING
2018-06-28 17:41:29,184 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11243:QuorumPeer@991] - LEADING
2018-06-28 17:41:29,184 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11241:QuorumPeer@979] - FOLLOWING
2018-06-28 17:41:29,184 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11241:ZooKeeperServer@174] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test7847363621123657276.junit.dir/version-2 snapdir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test7847363621123657276.junit.dir/version-2
2018-06-28 17:41:29,184 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11243:ZooKeeperServer@174] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test4167468597469280827.junit.dir/version-2 snapdir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test4167468597469280827.junit.dir/version-2
2018-06-28 17:41:29,184 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11239:ZooKeeperServer@174] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test7801919246500148878.junit.dir/version-2 snapdir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test7801919246500148878.junit.dir/version-2
2018-06-28 17:41:29,184 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11241:Follower@65] - FOLLOWING - LEADER ELECTION TOOK - 212
2018-06-28 17:41:29,185 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11243:Leader@380] - LEADING - LEADER ELECTION TOOK - 208
2018-06-28 17:41:29,185 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11239:Follower@65] - FOLLOWING - LEADER ELECTION TOOK - 217
2018-06-28 17:41:29,185 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11239:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:41:29,185 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11241:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:41:29,187 [myid:] - INFO  [LearnerHandler-/127.0.0.1:51009:LearnerHandler@346] - Follower sid: 1 : info : org.apache.zookeeper.server.quorum.QuorumPeer$QuorumServer@4d2c035b
2018-06-28 17:41:29,187 [myid:] - INFO  [LearnerHandler-/127.0.0.1:51010:LearnerHandler@346] - Follower sid: 2 : info : org.apache.zookeeper.server.quorum.QuorumPeer$QuorumServer@2347b923
2018-06-28 17:41:29,189 [myid:] - INFO  [LearnerHandler-/127.0.0.1:51009:LearnerHandler@401] - Synchronizing with Follower sid: 1 maxCommittedLog=0x20000001e minCommittedLog=0x20000001e peerLastZxid=0x20000001e
2018-06-28 17:41:29,189 [myid:] - INFO  [LearnerHandler-/127.0.0.1:51009:LearnerHandler@410] - leader and follower are in sync, zxid=0x20000001e
2018-06-28 17:41:29,190 [myid:] - INFO  [LearnerHandler-/127.0.0.1:51009:LearnerHandler@475] - Sending DIFF
2018-06-28 17:41:29,190 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11239:Learner@332] - Getting a diff from the leader 0x20000001e
2018-06-28 17:41:29,190 [myid:] - INFO  [LearnerHandler-/127.0.0.1:51010:LearnerHandler@401] - Synchronizing with Follower sid: 2 maxCommittedLog=0x20000001e minCommittedLog=0x20000001e peerLastZxid=0x20000001e
2018-06-28 17:41:29,191 [myid:] - INFO  [LearnerHandler-/127.0.0.1:51010:LearnerHandler@410] - leader and follower are in sync, zxid=0x20000001e
2018-06-28 17:41:29,191 [myid:] - INFO  [LearnerHandler-/127.0.0.1:51010:LearnerHandler@475] - Sending DIFF
2018-06-28 17:41:29,191 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11241:Learner@332] - Getting a diff from the leader 0x20000001e
2018-06-28 17:41:29,192 [myid:] - INFO  [LearnerHandler-/127.0.0.1:51009:LearnerHandler@535] - Received NEWLEADER-ACK message from 1
2018-06-28 17:41:29,192 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11243:Leader@964] - Have quorum of supporters, sids: [ 1,3 ]; starting up and setting last processed zxid: 0x300000000
2018-06-28 17:41:29,194 [myid:] - INFO  [LearnerHandler-/127.0.0.1:51010:LearnerHandler@535] - Received NEWLEADER-ACK message from 2
2018-06-28 17:41:29,201 [myid:] - INFO  [main-SendThread(localhost:11241):ClientCnxn$SendThread@1029] - Opening socket connection to server localhost/127.0.0.1:11241. Will not attempt to authenticate using SASL (unknown error)
2018-06-28 17:41:29,202 [myid:] - INFO  [main-SendThread(localhost:11241):ClientCnxn$SendThread@879] - Socket connection established to localhost/127.0.0.1:11241, initiating session
2018-06-28 17:41:29,202 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11241:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:51011
2018-06-28 17:41:29,203 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11241:ZooKeeperServer@942] - Client attempting to renew session 0x2000654d3ec0000 at /127.0.0.1:51011
2018-06-28 17:41:29,203 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11241:Learner@108] - Revalidating client: 0x2000654d3ec0000
2018-06-28 17:41:29,205 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11241:ZooKeeperServer@694] - Established session 0x2000654d3ec0000 with negotiated timeout 30000 for client /127.0.0.1:51011
2018-06-28 17:41:29,205 [myid:] - INFO  [main-SendThread(localhost:11241):ClientCnxn$SendThread@1303] - Session establishment complete on server localhost/127.0.0.1:11241, sessionid = 0x2000654d3ec0000, negotiated timeout = 30000
2018-06-28 17:41:29,231 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11239
2018-06-28 17:41:29,232 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11239:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:51012
2018-06-28 17:41:29,233 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11239:NIOServerCnxn@908] - Processing stat command from /127.0.0.1:51012
2018-06-28 17:41:29,233 [myid:] - INFO  [Thread-75:NIOServerCnxn$StatCommand@687] - Stat command output
2018-06-28 17:41:29,234 [myid:] - INFO  [Thread-75:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:51012 (no session established for client)
2018-06-28 17:41:29,234 [myid:] - INFO  [main:QuorumUtil@139] - 127.0.0.1:11239 is accepting client connections
2018-06-28 17:41:29,234 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11241
2018-06-28 17:41:29,235 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11241:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:51013
2018-06-28 17:41:29,235 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11241:NIOServerCnxn@908] - Processing stat command from /127.0.0.1:51013
2018-06-28 17:41:29,235 [myid:] - INFO  [Thread-76:NIOServerCnxn$StatCommand@687] - Stat command output
2018-06-28 17:41:29,236 [myid:] - INFO  [Thread-76:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:51013 (no session established for client)
2018-06-28 17:41:29,237 [myid:] - INFO  [main:QuorumUtil@139] - 127.0.0.1:11241 is accepting client connections
2018-06-28 17:41:29,237 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11243
2018-06-28 17:41:29,238 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11243:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:51014
2018-06-28 17:41:29,238 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11243:NIOServerCnxn@908] - Processing stat command from /127.0.0.1:51014
2018-06-28 17:41:29,238 [myid:] - INFO  [Thread-77:NIOServerCnxn$StatCommand@687] - Stat command output
2018-06-28 17:41:29,240 [myid:] - INFO  [Thread-77:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:51014 (no session established for client)
2018-06-28 17:41:29,240 [myid:] - INFO  [main:QuorumUtil@139] - 127.0.0.1:11243 is accepting client connections
2018-06-28 17:41:29,240 [myid:] - INFO  [main:JMXEnv@199] - JMXEnv.dump() follows
2018-06-28 17:41:29,243 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.2
2018-06-28 17:41:29,243 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1
2018-06-28 17:41:29,243 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree
2018-06-28 17:41:29,243 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.3
2018-06-28 17:41:29,243 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.3
2018-06-28 17:41:29,243 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1
2018-06-28 17:41:29,243 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2
2018-06-28 17:41:29,243 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2
2018-06-28 17:41:29,243 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.1
2018-06-28 17:41:29,243 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3
2018-06-28 17:41:29,243 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower,name3=InMemoryDataTree
2018-06-28 17:41:29,243 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader
2018-06-28 17:41:29,243 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.2
2018-06-28 17:41:29,243 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower,name3=Connections,name4=127.0.0.1,name5=0x2000654d3ec0000
2018-06-28 17:41:29,243 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.1
2018-06-28 17:41:29,243 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3
2018-06-28 17:41:29,243 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader,name3=InMemoryDataTree
2018-06-28 17:41:29,244 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower
2018-06-28 17:41:29,244 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower
2018-06-28 17:41:29,245 [myid:] - INFO  [main:JMXEnv@118] - expect:InMemoryDataTree
2018-06-28 17:41:29,245 [myid:] - INFO  [main:JMXEnv@121] - found:InMemoryDataTree org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree
2018-06-28 17:41:29,245 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id1,name1=replica.1,name2=
2018-06-28 17:41:29,245 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id1,name1=replica.1,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower
2018-06-28 17:41:29,245 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id2,name1=replica.2,name2=
2018-06-28 17:41:29,246 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id2,name1=replica.2,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower,name3=InMemoryDataTree
2018-06-28 17:41:29,246 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id3,name1=replica.3,name2=
2018-06-28 17:41:29,246 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id3,name1=replica.3,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader
2018-06-28 17:41:29,246 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id1,name1=replica.1
2018-06-28 17:41:29,246 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id1,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1
2018-06-28 17:41:29,246 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id1,name1=replica.2
2018-06-28 17:41:29,246 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id1,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.2
2018-06-28 17:41:29,246 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id1,name1=replica.3
2018-06-28 17:41:29,246 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id1,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.3
2018-06-28 17:41:29,246 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id2,name1=replica.1
2018-06-28 17:41:29,246 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id2,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.1
2018-06-28 17:41:29,246 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id2,name1=replica.2
2018-06-28 17:41:29,246 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id2,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2
2018-06-28 17:41:29,246 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id2,name1=replica.3
2018-06-28 17:41:29,246 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id2,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.3
2018-06-28 17:41:29,247 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id3,name1=replica.1
2018-06-28 17:41:29,247 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id3,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.1
2018-06-28 17:41:29,247 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id3,name1=replica.2
2018-06-28 17:41:29,247 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id3,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.2
2018-06-28 17:41:29,247 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id3,name1=replica.3
2018-06-28 17:41:29,247 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id3,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3
2018-06-28 17:41:29,247 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id1
2018-06-28 17:41:29,247 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id1 org.apache.ZooKeeperService:name0=ReplicatedServer_id1
2018-06-28 17:41:29,247 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id2
2018-06-28 17:41:29,247 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id2 org.apache.ZooKeeperService:name0=ReplicatedServer_id2
2018-06-28 17:41:29,247 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id3
2018-06-28 17:41:29,247 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id3 org.apache.ZooKeeperService:name0=ReplicatedServer_id3
2018-06-28 17:41:29,362 [myid:] - INFO  [main-SendThread(localhost:11239):ClientCnxn$SendThread@1029] - Opening socket connection to server localhost/127.0.0.1:11239. Will not attempt to authenticate using SASL (unknown error)
2018-06-28 17:41:29,362 [myid:] - INFO  [main-SendThread(localhost:11239):ClientCnxn$SendThread@879] - Socket connection established to localhost/127.0.0.1:11239, initiating session
2018-06-28 17:41:29,362 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11239:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:51015
2018-06-28 17:41:29,362 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11239:ZooKeeperServer@942] - Client attempting to renew session 0x1000654d3ec0000 at /127.0.0.1:51015
2018-06-28 17:41:29,362 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11239:Learner@108] - Revalidating client: 0x1000654d3ec0000
2018-06-28 17:41:29,363 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11239:ZooKeeperServer@694] - Established session 0x1000654d3ec0000 with negotiated timeout 30000 for client /127.0.0.1:51015
2018-06-28 17:41:29,363 [myid:] - INFO  [main-SendThread(localhost:11239):ClientCnxn$SendThread@1303] - Session establishment complete on server localhost/127.0.0.1:11239, sessionid = 0x1000654d3ec0000, negotiated timeout = 30000
2018-06-28 17:41:30,350 [myid:] - INFO  [main-SendThread(localhost:11243):ClientCnxn$SendThread@1029] - Opening socket connection to server localhost/127.0.0.1:11243. Will not attempt to authenticate using SASL (unknown error)
2018-06-28 17:41:30,350 [myid:] - INFO  [main-SendThread(localhost:11243):ClientCnxn$SendThread@879] - Socket connection established to localhost/127.0.0.1:11243, initiating session
2018-06-28 17:41:30,350 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11243:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:51016
2018-06-28 17:41:30,351 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11243:ZooKeeperServer@942] - Client attempting to renew session 0x3000654d3f00000 at /127.0.0.1:51016
2018-06-28 17:41:30,351 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11243:ZooKeeperServer@694] - Established session 0x3000654d3f00000 with negotiated timeout 30000 for client /127.0.0.1:51016
2018-06-28 17:41:30,351 [myid:] - INFO  [main-SendThread(localhost:11243):ClientCnxn$SendThread@1303] - Session establishment complete on server localhost/127.0.0.1:11243, sessionid = 0x3000654d3f00000, negotiated timeout = 30000
2018-06-28 17:41:30,352 [myid:] - INFO  [main:ZxidRolloverTest@244] - Validating nodes 0 thru 42
2018-06-28 17:41:30,353 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000004
2018-06-28 17:41:30,353 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000005
2018-06-28 17:41:30,354 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000006
2018-06-28 17:41:30,355 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000007
2018-06-28 17:41:30,355 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000008
2018-06-28 17:41:30,356 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000009
2018-06-28 17:41:30,357 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000a
2018-06-28 17:41:30,357 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000b
2018-06-28 17:41:30,358 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000c
2018-06-28 17:41:30,359 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000d
2018-06-28 17:41:30,359 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:1fffffffd
2018-06-28 17:41:30,360 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:1fffffffe
2018-06-28 17:41:30,360 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000001
2018-06-28 17:41:30,361 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000002
2018-06-28 17:41:30,362 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000003
2018-06-28 17:41:30,362 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000004
2018-06-28 17:41:30,363 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000005
2018-06-28 17:41:30,363 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000006
2018-06-28 17:41:30,364 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000007
2018-06-28 17:41:30,364 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000008
2018-06-28 17:41:30,365 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000009
2018-06-28 17:41:30,366 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:20000000a
2018-06-28 17:41:30,366 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:20000000b
2018-06-28 17:41:30,367 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:20000000c
2018-06-28 17:41:30,367 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:20000000d
2018-06-28 17:41:30,368 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:20000000e
2018-06-28 17:41:30,368 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:20000000f
2018-06-28 17:41:30,369 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000010
2018-06-28 17:41:30,369 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000011
2018-06-28 17:41:30,370 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000012
2018-06-28 17:41:30,371 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000013
2018-06-28 17:41:30,371 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000014
2018-06-28 17:41:30,372 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000015
2018-06-28 17:41:30,373 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000016
2018-06-28 17:41:30,373 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000017
2018-06-28 17:41:30,374 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000018
2018-06-28 17:41:30,374 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000019
2018-06-28 17:41:30,374 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:20000001a
2018-06-28 17:41:30,375 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:20000001b
2018-06-28 17:41:30,375 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:20000001c
2018-06-28 17:41:30,376 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:20000001d
2018-06-28 17:41:30,376 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:20000001e
2018-06-28 17:41:30,377 [myid:] - INFO  [main:ZxidRolloverTest@225] - Creating nodes 42 thru 52
2018-06-28 17:41:30,378 [myid:] - INFO  [SyncThread:3:FileTxnLog@213] - Creating new log file: log.3fffffffd
2018-06-28 17:41:30,378 [myid:] - WARN  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11239:Follower@119] - Got zxid 0x3fffffffd expected 0x1
2018-06-28 17:41:30,378 [myid:] - WARN  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11241:Follower@119] - Got zxid 0x3fffffffd expected 0x1
2018-06-28 17:41:30,378 [myid:] - INFO  [SyncThread:1:FileTxnLog@213] - Creating new log file: log.3fffffffd
2018-06-28 17:41:30,378 [myid:] - INFO  [SyncThread:2:FileTxnLog@213] - Creating new log file: log.3fffffffd
2018-06-28 17:41:30,379 [myid:] - WARN  [LearnerHandler-/127.0.0.1:51009:Leader@613] - Commiting zxid 0x3fffffffd from /127.0.0.1:12243 not first!
2018-06-28 17:41:30,379 [myid:] - WARN  [LearnerHandler-/127.0.0.1:51009:Leader@615] - First is 0x300000001
2018-06-28 17:41:30,381 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::Leader@520] - Shutting down
2018-06-28 17:41:30,381 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::Leader@526] - Shutdown called
java.lang.Exception: shutdown Leader! reason: zxid lower 32 bits have rolled over, forcing re-election, and therefore new epoch start
	at org.apache.zookeeper.server.quorum.Leader.shutdown(Leader.java:526)
	at org.apache.zookeeper.server.quorum.Leader.propose(Leader.java:772)
	at org.apache.zookeeper.server.quorum.ProposalRequestProcessor.processRequest(ProposalRequestProcessor.java:78)
	at org.apache.zookeeper.server.PrepRequestProcessor.pRequest(PrepRequestProcessor.java:681)
	at org.apache.zookeeper.server.PrepRequestProcessor.run(PrepRequestProcessor.java:134)
2018-06-28 17:41:30,381 [myid:] - INFO  [LearnerCnxAcceptor-/127.0.0.1:12243:Leader$LearnerCnxAcceptor@340] - exception while shutting down acceptor: java.net.SocketException: Socket closed
2018-06-28 17:41:30,381 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:51016 which had sessionid 0x3000654d3f00000
2018-06-28 17:41:30,382 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::ZooKeeperServer@502] - shutting down
2018-06-28 17:41:30,382 [myid:] - INFO  [main-SendThread(localhost:11243):ClientCnxn$SendThread@1162] - Unable to read additional data from server sessionid 0x3000654d3f00000, likely server has closed socket, closing socket connection and attempting reconnect
2018-06-28 17:41:30,382 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::SessionTrackerImpl@226] - Shutting down
2018-06-28 17:41:30,382 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::PrepRequestProcessor@769] - Shutting down
2018-06-28 17:41:30,382 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::ProposalRequestProcessor@88] - Shutting down
2018-06-28 17:41:30,382 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::CommitProcessor@184] - Shutting down
2018-06-28 17:41:30,382 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::Leader$ToBeAppliedRequestProcessor@685] - Shutting down
2018-06-28 17:41:30,382 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::FinalRequestProcessor@403] - shutdown of request processor complete
2018-06-28 17:41:30,382 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::SyncRequestProcessor@208] - Shutting down
2018-06-28 17:41:30,382 [myid:] - INFO  [CommitProcessor:3:CommitProcessor@153] - CommitProcessor exited loop!
2018-06-28 17:41:30,382 [myid:] - INFO  [SyncThread:3:SyncRequestProcessor@186] - SyncRequestProcessor exited!
2018-06-28 17:41:30,383 [myid:] - WARN  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11239:Follower@90] - Exception when following the leader
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:63)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:99)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:153)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:86)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:981)
2018-06-28 17:41:30,383 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::PrepRequestProcessor@138] - zxid lower 32 bits have rolled over, forcing re-election, and therefore new epoch start
2018-06-28 17:41:30,383 [myid:] - WARN  [LearnerHandler-/127.0.0.1:51010:LearnerHandler@661] - ******* GOODBYE /127.0.0.1:51010 ********
2018-06-28 17:41:30,383 [myid:] - WARN  [LearnerHandler-/127.0.0.1:51009:LearnerHandler@661] - ******* GOODBYE /127.0.0.1:51009 ********
2018-06-28 17:41:30,383 [myid:] - WARN  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11241:Follower@90] - Exception when following the leader
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:63)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:99)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:153)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:86)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:981)
2018-06-28 17:41:30,383 [myid:] - WARN  [LearnerHandler-/127.0.0.1:51009:LearnerHandler@673] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1220)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:335)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:339)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:671)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:664)
2018-06-28 17:41:30,383 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11241:Follower@169] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:169)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:985)
2018-06-28 17:41:30,383 [myid:] - WARN  [LearnerHandler-/127.0.0.1:51010:LearnerHandler@673] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1220)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:335)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:339)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:671)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:664)
2018-06-28 17:41:30,384 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11241:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:51011 which had sessionid 0x2000654d3ec0000
2018-06-28 17:41:30,383 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11239:Follower@169] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:169)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:985)
2018-06-28 17:41:30,383 [myid:] - ERROR [ProcessThread(sid:3 cport:-1)::ZooKeeperCriticalThread@49] - Severe unrecoverable error, from thread : ProcessThread(sid:3 cport:-1):
org.apache.zookeeper.server.RequestProcessor$RequestProcessorException: zxid lower 32 bits have rolled over, forcing re-election, and therefore new epoch start
	at org.apache.zookeeper.server.quorum.ProposalRequestProcessor.processRequest(ProposalRequestProcessor.java:80)
	at org.apache.zookeeper.server.PrepRequestProcessor.pRequest(PrepRequestProcessor.java:681)
	at org.apache.zookeeper.server.PrepRequestProcessor.run(PrepRequestProcessor.java:134)
Caused by: org.apache.zookeeper.server.quorum.Leader$XidRolloverException: zxid lower 32 bits have rolled over, forcing re-election, and therefore new epoch start
	at org.apache.zookeeper.server.quorum.Leader.propose(Leader.java:773)
	at org.apache.zookeeper.server.quorum.ProposalRequestProcessor.processRequest(ProposalRequestProcessor.java:78)
	... 2 more
2018-06-28 17:41:30,384 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11239:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:51015 which had sessionid 0x1000654d3ec0000
2018-06-28 17:41:30,384 [myid:] - INFO  [main-SendThread(localhost:11241):ClientCnxn$SendThread@1162] - Unable to read additional data from server sessionid 0x2000654d3ec0000, likely server has closed socket, closing socket connection and attempting reconnect
2018-06-28 17:41:30,384 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11239:FollowerZooKeeperServer@140] - Shutting down
2018-06-28 17:41:30,385 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11239:ZooKeeperServer@502] - shutting down
2018-06-28 17:41:30,385 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11239:FollowerRequestProcessor@107] - Shutting down
2018-06-28 17:41:30,384 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11241:FollowerZooKeeperServer@140] - Shutting down
2018-06-28 17:41:30,385 [myid:] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@97] - FollowerRequestProcessor exited loop!
2018-06-28 17:41:30,385 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11239:CommitProcessor@184] - Shutting down
2018-06-28 17:41:30,385 [myid:] - INFO  [main-SendThread(localhost:11239):ClientCnxn$SendThread@1162] - Unable to read additional data from server sessionid 0x1000654d3ec0000, likely server has closed socket, closing socket connection and attempting reconnect
2018-06-28 17:41:30,384 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::ZooKeeperServerListenerImpl@42] - Thread ProcessThread(sid:3 cport:-1): exits, error code 1
2018-06-28 17:41:30,385 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::PrepRequestProcessor@144] - PrepRequestProcessor exited loop!
2018-06-28 17:41:30,385 [myid:] - INFO  [CommitProcessor:1:CommitProcessor@153] - CommitProcessor exited loop!
2018-06-28 17:41:30,385 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11239:FinalRequestProcessor@403] - shutdown of request processor complete
2018-06-28 17:41:30,385 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11241:ZooKeeperServer@502] - shutting down
2018-06-28 17:41:30,385 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11241:FollowerRequestProcessor@107] - Shutting down
2018-06-28 17:41:30,385 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11241:CommitProcessor@184] - Shutting down
2018-06-28 17:41:30,385 [myid:] - INFO  [FollowerRequestProcessor:2:FollowerRequestProcessor@97] - FollowerRequestProcessor exited loop!
2018-06-28 17:41:30,385 [myid:] - INFO  [CommitProcessor:2:CommitProcessor@153] - CommitProcessor exited loop!
2018-06-28 17:41:30,385 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11241:FinalRequestProcessor@403] - shutdown of request processor complete
2018-06-28 17:41:30,386 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11239:SyncRequestProcessor@208] - Shutting down
2018-06-28 17:41:30,386 [myid:] - INFO  [SyncThread:1:SyncRequestProcessor@186] - SyncRequestProcessor exited!
2018-06-28 17:41:30,386 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11239:QuorumPeer@909] - LOOKING
2018-06-28 17:41:30,386 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11241:SyncRequestProcessor@208] - Shutting down
2018-06-28 17:41:30,386 [myid:] - INFO  [SyncThread:2:SyncRequestProcessor@186] - SyncRequestProcessor exited!
2018-06-28 17:41:30,386 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11239:FastLeaderElection@813] - New election. My id =  1, proposed zxid=0x3fffffffe
2018-06-28 17:41:30,386 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11241:QuorumPeer@909] - LOOKING
2018-06-28 17:41:30,386 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x3fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x3 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:30,387 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11241:FastLeaderElection@813] - New election. My id =  2, proposed zxid=0x3fffffffe
2018-06-28 17:41:30,387 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x3fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x3 (n.peerEpoch) LEADING (my state)
2018-06-28 17:41:30,387 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x3fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x3 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:30,387 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x3fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 2 (n.sid), 0x3 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:30,387 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x3fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 2 (n.sid), 0x3 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:30,387 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x20000001e (n.zxid), 0x1 (n.round), LEADING (n.state), 3 (n.sid), 0x3 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:30,387 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x3fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 2 (n.sid), 0x3 (n.peerEpoch) LEADING (my state)
2018-06-28 17:41:30,387 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x3fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x3 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:30,387 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x3fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x3 (n.peerEpoch) LEADING (my state)
2018-06-28 17:41:30,387 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x3fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x3 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:30,387 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x20000001e (n.zxid), 0x1 (n.round), LEADING (n.state), 3 (n.sid), 0x3 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:30,387 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x20000001e (n.zxid), 0x1 (n.round), LEADING (n.state), 3 (n.sid), 0x3 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:30,588 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11241:QuorumPeer@991] - LEADING
2018-06-28 17:41:30,588 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11239:QuorumPeer@979] - FOLLOWING
2018-06-28 17:41:30,588 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11239:ZooKeeperServer@174] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test7801919246500148878.junit.dir/version-2 snapdir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test7801919246500148878.junit.dir/version-2
2018-06-28 17:41:30,588 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11241:ZooKeeperServer@174] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test7847363621123657276.junit.dir/version-2 snapdir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test7847363621123657276.junit.dir/version-2
2018-06-28 17:41:30,588 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11239:Follower@65] - FOLLOWING - LEADER ELECTION TOOK - 202
2018-06-28 17:41:30,593 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11241:Leader@380] - LEADING - LEADER ELECTION TOOK - 206
2018-06-28 17:41:30,594 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11239:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:41:30,595 [myid:] - INFO  [LearnerHandler-/127.0.0.1:51017:LearnerHandler@346] - Follower sid: 1 : info : org.apache.zookeeper.server.quorum.QuorumPeer$QuorumServer@4d2c035b
2018-06-28 17:41:30,597 [myid:] - INFO  [LearnerHandler-/127.0.0.1:51017:LearnerHandler@401] - Synchronizing with Follower sid: 1 maxCommittedLog=0x3fffffffe minCommittedLog=0x20000001d peerLastZxid=0x3fffffffe
2018-06-28 17:41:30,598 [myid:] - INFO  [LearnerHandler-/127.0.0.1:51017:LearnerHandler@410] - leader and follower are in sync, zxid=0x3fffffffe
2018-06-28 17:41:30,598 [myid:] - INFO  [LearnerHandler-/127.0.0.1:51017:LearnerHandler@475] - Sending DIFF
2018-06-28 17:41:30,598 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11239:Learner@332] - Getting a diff from the leader 0x3fffffffe
2018-06-28 17:41:30,599 [myid:] - INFO  [LearnerHandler-/127.0.0.1:51017:LearnerHandler@535] - Received NEWLEADER-ACK message from 1
2018-06-28 17:41:30,599 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11241:Leader@964] - Have quorum of supporters, sids: [ 1,2 ]; starting up and setting last processed zxid: 0x400000000
2018-06-28 17:41:30,664 [myid:] - INFO  [SessionTracker:SessionTrackerImpl@163] - SessionTrackerImpl exited loop!
2018-06-28 17:41:31,201 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11243:Leader@520] - Shutting down
2018-06-28 17:41:31,202 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11243:QuorumPeer@909] - LOOKING
2018-06-28 17:41:31,202 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11243:FastLeaderElection@813] - New election. My id =  3, proposed zxid=0x3fffffffe
2018-06-28 17:41:31,203 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x3fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 3 (n.sid), 0x3 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:31,203 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x3fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 3 (n.sid), 0x3 (n.peerEpoch) LEADING (my state)
2018-06-28 17:41:31,203 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x3fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 3 (n.sid), 0x3 (n.peerEpoch) FOLLOWING (my state)
2018-06-28 17:41:31,203 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x3fffffffe (n.zxid), 0x2 (n.round), LEADING (n.state), 2 (n.sid), 0x4 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:31,203 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x3fffffffe (n.zxid), 0x2 (n.round), FOLLOWING (n.state), 1 (n.sid), 0x4 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:31,204 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11243:QuorumPeer@979] - FOLLOWING
2018-06-28 17:41:31,204 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11243:ZooKeeperServer@174] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test4167468597469280827.junit.dir/version-2 snapdir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test4167468597469280827.junit.dir/version-2
2018-06-28 17:41:31,204 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11243:Follower@65] - FOLLOWING - LEADER ELECTION TOOK - 1
2018-06-28 17:41:31,204 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11243:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:41:31,205 [myid:] - INFO  [LearnerHandler-/127.0.0.1:51018:LearnerHandler@346] - Follower sid: 3 : info : org.apache.zookeeper.server.quorum.QuorumPeer$QuorumServer@13f7169d
2018-06-28 17:41:31,213 [myid:] - INFO  [LearnerHandler-/127.0.0.1:51018:LearnerHandler@401] - Synchronizing with Follower sid: 3 maxCommittedLog=0x3fffffffe minCommittedLog=0x20000001d peerLastZxid=0x3fffffffe
2018-06-28 17:41:31,213 [myid:] - INFO  [LearnerHandler-/127.0.0.1:51018:LearnerHandler@475] - Sending DIFF
2018-06-28 17:41:31,213 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11243:Learner@332] - Getting a diff from the leader 0x3fffffffe
2018-06-28 17:41:31,215 [myid:] - INFO  [LearnerHandler-/127.0.0.1:51018:LearnerHandler@535] - Received NEWLEADER-ACK message from 3
2018-06-28 17:41:32,232 [myid:] - INFO  [main-SendThread(localhost:11239):ClientCnxn$SendThread@1029] - Opening socket connection to server localhost/127.0.0.1:11239. Will not attempt to authenticate using SASL (unknown error)
2018-06-28 17:41:32,233 [myid:] - INFO  [main-SendThread(localhost:11239):ClientCnxn$SendThread@879] - Socket connection established to localhost/127.0.0.1:11239, initiating session
2018-06-28 17:41:32,233 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11239:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:51019
2018-06-28 17:41:32,233 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11239:ZooKeeperServer@942] - Client attempting to renew session 0x1000654d3ec0000 at /127.0.0.1:51019
2018-06-28 17:41:32,233 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11239:Learner@108] - Revalidating client: 0x1000654d3ec0000
2018-06-28 17:41:32,235 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11239:ZooKeeperServer@694] - Established session 0x1000654d3ec0000 with negotiated timeout 30000 for client /127.0.0.1:51019
2018-06-28 17:41:32,235 [myid:] - INFO  [main-SendThread(localhost:11239):ClientCnxn$SendThread@1303] - Session establishment complete on server localhost/127.0.0.1:11239, sessionid = 0x1000654d3ec0000, negotiated timeout = 30000
2018-06-28 17:41:32,250 [myid:] - INFO  [main-SendThread(localhost:11243):ClientCnxn$SendThread@1029] - Opening socket connection to server localhost/127.0.0.1:11243. Will not attempt to authenticate using SASL (unknown error)
2018-06-28 17:41:32,250 [myid:] - INFO  [main-SendThread(localhost:11243):ClientCnxn$SendThread@879] - Socket connection established to localhost/127.0.0.1:11243, initiating session
2018-06-28 17:41:32,250 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11243:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:51020
2018-06-28 17:41:32,250 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11243:ZooKeeperServer@942] - Client attempting to renew session 0x3000654d3f00000 at /127.0.0.1:51020
2018-06-28 17:41:32,251 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11243:Learner@108] - Revalidating client: 0x3000654d3f00000
2018-06-28 17:41:32,252 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11243:ZooKeeperServer@694] - Established session 0x3000654d3f00000 with negotiated timeout 30000 for client /127.0.0.1:51020
2018-06-28 17:41:32,252 [myid:] - INFO  [main-SendThread(localhost:11243):ClientCnxn$SendThread@1303] - Session establishment complete on server localhost/127.0.0.1:11243, sessionid = 0x3000654d3f00000, negotiated timeout = 30000
2018-06-28 17:41:32,406 [myid:] - INFO  [main-SendThread(localhost:11241):ClientCnxn$SendThread@1029] - Opening socket connection to server localhost/127.0.0.1:11241. Will not attempt to authenticate using SASL (unknown error)
2018-06-28 17:41:32,407 [myid:] - INFO  [main-SendThread(localhost:11241):ClientCnxn$SendThread@879] - Socket connection established to localhost/127.0.0.1:11241, initiating session
2018-06-28 17:41:32,407 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11241:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:51021
2018-06-28 17:41:32,407 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11241:ZooKeeperServer@942] - Client attempting to renew session 0x2000654d3ec0000 at /127.0.0.1:51021
2018-06-28 17:41:32,408 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11241:ZooKeeperServer@694] - Established session 0x2000654d3ec0000 with negotiated timeout 30000 for client /127.0.0.1:51021
2018-06-28 17:41:32,408 [myid:] - INFO  [main-SendThread(localhost:11241):ClientCnxn$SendThread@1303] - Session establishment complete on server localhost/127.0.0.1:11241, sessionid = 0x2000654d3ec0000, negotiated timeout = 30000
2018-06-28 17:41:32,408 [myid:] - INFO  [main:QuorumUtil@227] - Shutting down quorum peer QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11243
2018-06-28 17:41:32,408 [myid:] - INFO  [main:Follower@169] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:169)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1026)
	at org.apache.zookeeper.test.QuorumUtil.shutdown(QuorumUtil.java:228)
	at org.apache.zookeeper.server.ZxidRolloverTest.shutdown(ZxidRolloverTest.java:183)
	at org.apache.zookeeper.server.ZxidRolloverTest.testMultipleRollover(ZxidRolloverTest.java:433)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:536)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1205)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1048)
2018-06-28 17:41:32,408 [myid:] - INFO  [main:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:51020 which had sessionid 0x3000654d3f00000
2018-06-28 17:41:32,408 [myid:] - INFO  [main:FollowerZooKeeperServer@140] - Shutting down
2018-06-28 17:41:32,409 [myid:] - INFO  [main:ZooKeeperServer@502] - shutting down
2018-06-28 17:41:32,409 [myid:] - INFO  [main-SendThread(localhost:11243):ClientCnxn$SendThread@1162] - Unable to read additional data from server sessionid 0x3000654d3f00000, likely server has closed socket, closing socket connection and attempting reconnect
2018-06-28 17:41:32,409 [myid:] - INFO  [main:FollowerRequestProcessor@107] - Shutting down
2018-06-28 17:41:32,409 [myid:] - INFO  [main:CommitProcessor@184] - Shutting down
2018-06-28 17:41:32,409 [myid:] - INFO  [FollowerRequestProcessor:3:FollowerRequestProcessor@97] - FollowerRequestProcessor exited loop!
2018-06-28 17:41:32,409 [myid:] - INFO  [CommitProcessor:3:CommitProcessor@153] - CommitProcessor exited loop!
2018-06-28 17:41:32,409 [myid:] - INFO  [main:FinalRequestProcessor@403] - shutdown of request processor complete
2018-06-28 17:41:32,410 [myid:] - INFO  [main:SyncRequestProcessor@208] - Shutting down
2018-06-28 17:41:32,410 [myid:] - INFO  [SyncThread:3:SyncRequestProcessor@186] - SyncRequestProcessor exited!
2018-06-28 17:41:32,410 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11243:NIOServerCnxnFactory@242] - NIOServerCnxn factory exited run method
2018-06-28 17:41:32,411 [myid:] - ERROR [/127.0.0.1:12244:QuorumCnxManager$Listener@760] - Exception while listening
java.net.SocketException: Socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:409)
	at java.net.ServerSocket.implAccept(ServerSocket.java:545)
	at java.net.ServerSocket.accept(ServerSocket.java:513)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$Listener.run(QuorumCnxManager.java:741)
2018-06-28 17:41:32,411 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1025] - Connection broken for id 3, my id = 2, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1010)
2018-06-28 17:41:32,412 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1028] - Interrupting SendWorker
2018-06-28 17:41:32,411 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1025] - Connection broken for id 3, my id = 1, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1010)
2018-06-28 17:41:32,411 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@941] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:418)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1094)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$700(QuorumCnxManager.java:74)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:929)
2018-06-28 17:41:32,412 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@951] - Send worker leaving thread
2018-06-28 17:41:32,412 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1028] - Interrupting SendWorker
2018-06-28 17:41:32,412 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@941] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:418)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1094)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$700(QuorumCnxManager.java:74)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:929)
2018-06-28 17:41:32,412 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@951] - Send worker leaving thread
2018-06-28 17:41:32,412 [myid:] - INFO  [main:QuorumUtil@231] - Shutting down leader election QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11243
2018-06-28 17:41:32,411 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1025] - Connection broken for id 2, my id = 3, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1010)
2018-06-28 17:41:32,412 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1028] - Interrupting SendWorker
2018-06-28 17:41:32,411 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@941] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:418)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1094)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$700(QuorumCnxManager.java:74)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:929)
2018-06-28 17:41:32,413 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@951] - Send worker leaving thread
2018-06-28 17:41:32,411 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1025] - Connection broken for id 1, my id = 3, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1010)
2018-06-28 17:41:32,413 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1028] - Interrupting SendWorker
2018-06-28 17:41:32,412 [myid:] - INFO  [main:QuorumUtil@236] - Waiting for QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11243 to exit thread
2018-06-28 17:41:32,412 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@941] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:418)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1094)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$700(QuorumCnxManager.java:74)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:929)
2018-06-28 17:41:32,413 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@951] - Send worker leaving thread
2018-06-28 17:41:32,610 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11243:Follower@169] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:169)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:985)
2018-06-28 17:41:32,610 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11243:FollowerZooKeeperServer@140] - Shutting down
2018-06-28 17:41:32,610 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11243:SyncRequestProcessor@208] - Shutting down
2018-06-28 17:41:32,610 [myid:] - WARN  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11243:QuorumPeer@1009] - QuorumPeer main thread exited
2018-06-28 17:41:32,611 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11243
2018-06-28 17:41:33,411 [myid:] - INFO  [/127.0.0.1:12244:QuorumCnxManager$Listener@773] - Leaving listener
2018-06-28 17:41:34,093 [myid:] - INFO  [main-SendThread(localhost:11243):ClientCnxn$SendThread@1029] - Opening socket connection to server localhost/127.0.0.1:11243. Will not attempt to authenticate using SASL (unknown error)
2018-06-28 17:41:34,094 [myid:] - INFO  [main-SendThread(localhost:11243):ClientCnxn$SendThread@1166] - Socket error occurred: localhost/127.0.0.1:11243: Connection refused
2018-06-28 17:41:34,200 [myid:] - INFO  [main:QuorumUtil@186] - Creating QuorumPeer 3; public port 11243
2018-06-28 17:41:34,201 [myid:] - INFO  [main:ServerCnxnFactory@117] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2018-06-28 17:41:34,201 [myid:] - INFO  [main:NIOServerCnxnFactory@89] - binding to port 0.0.0.0/0.0.0.0:11243
2018-06-28 17:41:34,206 [myid:] - INFO  [WorkerSender[myid=3]:FastLeaderElection$Messenger$WorkerSender@440] - WorkerSender is down
2018-06-28 17:41:34,206 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@409] - WorkerReceiver is down
2018-06-28 17:41:34,210 [myid:] - INFO  [main:FileSnap@86] - Reading snapshot /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test4167468597469280827.junit.dir/version-2/snapshot.20000001d
2018-06-28 17:41:34,212 [myid:] - INFO  [ListenerThread:QuorumCnxManager$Listener@736] - My election bind port: /127.0.0.1:12244
2018-06-28 17:41:34,212 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11239
2018-06-28 17:41:34,213 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11239:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:51024
2018-06-28 17:41:34,213 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11243:QuorumPeer@909] - LOOKING
2018-06-28 17:41:34,213 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11243:FastLeaderElection@813] - New election. My id =  3, proposed zxid=0x3fffffffe
2018-06-28 17:41:34,213 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11239:NIOServerCnxn@908] - Processing stat command from /127.0.0.1:51024
2018-06-28 17:41:34,214 [myid:] - INFO  [Thread-80:NIOServerCnxn$StatCommand@687] - Stat command output
2018-06-28 17:41:34,214 [myid:] - INFO  [/127.0.0.1:12240:QuorumCnxManager$Listener@743] - Received connection request /127.0.0.1:51025
2018-06-28 17:41:34,214 [myid:] - INFO  [Thread-80:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:51024 (no session established for client)
2018-06-28 17:41:34,214 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11241
2018-06-28 17:41:34,214 [myid:] - INFO  [/127.0.0.1:12242:QuorumCnxManager$Listener@743] - Received connection request /127.0.0.1:51026
2018-06-28 17:41:34,215 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x3fffffffe (n.zxid), 0x2 (n.round), FOLLOWING (n.state), 1 (n.sid), 0x4 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:34,215 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11241:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:51027
2018-06-28 17:41:34,215 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x3fffffffe (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x4 (n.peerEpoch) FOLLOWING (my state)
2018-06-28 17:41:34,215 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11241:NIOServerCnxn@908] - Processing stat command from /127.0.0.1:51027
2018-06-28 17:41:34,216 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x3fffffffe (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x4 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:34,216 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x3fffffffe (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x4 (n.peerEpoch) LEADING (my state)
2018-06-28 17:41:34,216 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x3fffffffe (n.zxid), 0x2 (n.round), LEADING (n.state), 2 (n.sid), 0x4 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:34,216 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x3fffffffe (n.zxid), 0x2 (n.round), FOLLOWING (n.state), 1 (n.sid), 0x4 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:34,216 [myid:] - INFO  [Thread-81:NIOServerCnxn$StatCommand@687] - Stat command output
2018-06-28 17:41:34,216 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x3fffffffe (n.zxid), 0x2 (n.round), LEADING (n.state), 2 (n.sid), 0x4 (n.peerEpoch) FOLLOWING (my state)
2018-06-28 17:41:34,216 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11243:QuorumPeer@979] - FOLLOWING
2018-06-28 17:41:34,216 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11243:ZooKeeperServer@174] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test4167468597469280827.junit.dir/version-2 snapdir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test4167468597469280827.junit.dir/version-2
2018-06-28 17:41:34,216 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11243:Follower@65] - FOLLOWING - LEADER ELECTION TOOK - 4
2018-06-28 17:41:34,217 [myid:] - INFO  [Thread-81:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:51027 (no session established for client)
2018-06-28 17:41:34,217 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11243
2018-06-28 17:41:34,217 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11243:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:41:34,217 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11243:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:51028
2018-06-28 17:41:34,218 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11243:NIOServerCnxn@908] - Processing stat command from /127.0.0.1:51028
2018-06-28 17:41:34,218 [myid:] - INFO  [LearnerHandler-/127.0.0.1:51029:LearnerHandler@346] - Follower sid: 3 : info : org.apache.zookeeper.server.quorum.QuorumPeer$QuorumServer@13f7169d
2018-06-28 17:41:34,218 [myid:] - INFO  [LearnerHandler-/127.0.0.1:51029:LearnerHandler@401] - Synchronizing with Follower sid: 3 maxCommittedLog=0x3fffffffe minCommittedLog=0x20000001d peerLastZxid=0x3fffffffe
2018-06-28 17:41:34,218 [myid:] - INFO  [LearnerHandler-/127.0.0.1:51029:LearnerHandler@475] - Sending DIFF
2018-06-28 17:41:34,219 [myid:] - INFO  [Thread-82:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:51028 (no session established for client)
2018-06-28 17:41:34,219 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11243:Learner@332] - Getting a diff from the leader 0x3fffffffe
2018-06-28 17:41:34,221 [myid:] - INFO  [LearnerHandler-/127.0.0.1:51029:LearnerHandler@535] - Received NEWLEADER-ACK message from 3
2018-06-28 17:41:34,471 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11243
2018-06-28 17:41:34,472 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11243:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:51030
2018-06-28 17:41:34,472 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11243:NIOServerCnxn@908] - Processing stat command from /127.0.0.1:51030
2018-06-28 17:41:34,472 [myid:] - INFO  [Thread-84:NIOServerCnxn$StatCommand@687] - Stat command output
2018-06-28 17:41:34,473 [myid:] - INFO  [Thread-84:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:51030 (no session established for client)
2018-06-28 17:41:35,285 [myid:] - INFO  [main-SendThread(localhost:11243):ClientCnxn$SendThread@1029] - Opening socket connection to server localhost/127.0.0.1:11243. Will not attempt to authenticate using SASL (unknown error)
2018-06-28 17:41:35,285 [myid:] - INFO  [main-SendThread(localhost:11243):ClientCnxn$SendThread@879] - Socket connection established to localhost/127.0.0.1:11243, initiating session
2018-06-28 17:41:35,286 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11243:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:51031
2018-06-28 17:41:35,286 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11243:ZooKeeperServer@942] - Client attempting to renew session 0x3000654d3f00000 at /127.0.0.1:51031
2018-06-28 17:41:35,286 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11243:Learner@108] - Revalidating client: 0x3000654d3f00000
2018-06-28 17:41:35,287 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11243:ZooKeeperServer@694] - Established session 0x3000654d3f00000 with negotiated timeout 30000 for client /127.0.0.1:51031
2018-06-28 17:41:35,287 [myid:] - INFO  [main-SendThread(localhost:11243):ClientCnxn$SendThread@1303] - Session establishment complete on server localhost/127.0.0.1:11243, sessionid = 0x3000654d3f00000, negotiated timeout = 30000
2018-06-28 17:41:35,287 [myid:] - INFO  [main:ZxidRolloverTest@244] - Validating nodes 0 thru 44
2018-06-28 17:41:35,288 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000004
2018-06-28 17:41:35,289 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000005
2018-06-28 17:41:35,289 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000006
2018-06-28 17:41:35,290 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000007
2018-06-28 17:41:35,290 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000008
2018-06-28 17:41:35,291 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000009
2018-06-28 17:41:35,292 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000a
2018-06-28 17:41:35,292 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000b
2018-06-28 17:41:35,293 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000c
2018-06-28 17:41:35,293 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000d
2018-06-28 17:41:35,294 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:1fffffffd
2018-06-28 17:41:35,294 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:1fffffffe
2018-06-28 17:41:35,295 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000001
2018-06-28 17:41:35,295 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000002
2018-06-28 17:41:35,296 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000003
2018-06-28 17:41:35,296 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000004
2018-06-28 17:41:35,297 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000005
2018-06-28 17:41:35,298 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000006
2018-06-28 17:41:35,298 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000007
2018-06-28 17:41:35,299 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000008
2018-06-28 17:41:35,300 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000009
2018-06-28 17:41:35,300 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:20000000a
2018-06-28 17:41:35,301 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:20000000b
2018-06-28 17:41:35,302 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:20000000c
2018-06-28 17:41:35,302 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:20000000d
2018-06-28 17:41:35,303 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:20000000e
2018-06-28 17:41:35,303 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:20000000f
2018-06-28 17:41:35,304 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000010
2018-06-28 17:41:35,304 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000011
2018-06-28 17:41:35,305 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000012
2018-06-28 17:41:35,305 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000013
2018-06-28 17:41:35,306 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000014
2018-06-28 17:41:35,306 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000015
2018-06-28 17:41:35,307 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000016
2018-06-28 17:41:35,307 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000017
2018-06-28 17:41:35,308 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000018
2018-06-28 17:41:35,308 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:200000019
2018-06-28 17:41:35,308 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:20000001a
2018-06-28 17:41:35,309 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:20000001b
2018-06-28 17:41:35,309 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:20000001c
2018-06-28 17:41:35,310 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:20000001d
2018-06-28 17:41:35,310 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:20000001e
2018-06-28 17:41:35,310 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:3fffffffd
2018-06-28 17:41:35,311 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:3fffffffe
2018-06-28 17:41:35,311 [myid:] - INFO  [main:ZxidRolloverTest@225] - Creating nodes 44 thru 54
2018-06-28 17:41:35,312 [myid:] - WARN  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11239:Follower@119] - Got zxid 0x400000001 expected 0x1
2018-06-28 17:41:35,312 [myid:] - WARN  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11243:Follower@119] - Got zxid 0x400000001 expected 0x1
2018-06-28 17:41:35,313 [myid:] - INFO  [SyncThread:3:FileTxnLog@213] - Creating new log file: log.400000001
2018-06-28 17:41:35,316 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@301] - Snapshotting: 0x400000003 to /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test7847363621123657276.junit.dir/version-2/snapshot.400000003
2018-06-28 17:41:35,317 [myid:] - INFO  [SyncThread:2:FileTxnLog@213] - Creating new log file: log.400000005
2018-06-28 17:41:35,318 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@301] - Snapshotting: 0x400000005 to /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test4167468597469280827.junit.dir/version-2/snapshot.400000005
2018-06-28 17:41:35,318 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@301] - Snapshotting: 0x400000005 to /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test7801919246500148878.junit.dir/version-2/snapshot.400000005
2018-06-28 17:41:35,319 [myid:] - INFO  [SyncThread:3:FileTxnLog@213] - Creating new log file: log.400000007
2018-06-28 17:41:35,319 [myid:] - INFO  [SyncThread:1:FileTxnLog@213] - Creating new log file: log.400000007
2018-06-28 17:41:35,322 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@301] - Snapshotting: 0x400000009 to /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test7847363621123657276.junit.dir/version-2/snapshot.400000009
2018-06-28 17:41:35,322 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@301] - Snapshotting: 0x400000009 to /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test4167468597469280827.junit.dir/version-2/snapshot.400000009
2018-06-28 17:41:35,322 [myid:] - INFO  [main:ZxidRolloverTest@213] - tearDown starting
2018-06-28 17:41:35,323 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::PrepRequestProcessor@487] - Processed session termination for sessionid: 0x1000654d3ec0000
2018-06-28 17:41:35,323 [myid:] - INFO  [SyncThread:2:FileTxnLog@213] - Creating new log file: log.40000000b
2018-06-28 17:41:35,323 [myid:] - INFO  [SyncThread:3:FileTxnLog@213] - Creating new log file: log.40000000b
2018-06-28 17:41:35,323 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@301] - Snapshotting: 0x40000000a to /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test7801919246500148878.junit.dir/version-2/snapshot.40000000a
2018-06-28 17:41:35,325 [myid:] - INFO  [main:ZooKeeper@693] - Session: 0x1000654d3ec0000 closed
2018-06-28 17:41:35,325 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11239:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:51019 which had sessionid 0x1000654d3ec0000
2018-06-28 17:41:35,325 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@522] - EventThread shut down for session: 0x1000654d3ec0000
2018-06-28 17:41:35,325 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::PrepRequestProcessor@487] - Processed session termination for sessionid: 0x2000654d3ec0000
2018-06-28 17:41:35,325 [myid:] - INFO  [SyncThread:1:FileTxnLog@213] - Creating new log file: log.40000000c
2018-06-28 17:41:35,326 [myid:] - INFO  [main:ZooKeeper@693] - Session: 0x2000654d3ec0000 closed
2018-06-28 17:41:35,326 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11241:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:51021 which had sessionid 0x2000654d3ec0000
2018-06-28 17:41:35,326 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@522] - EventThread shut down for session: 0x2000654d3ec0000
2018-06-28 17:41:35,326 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::PrepRequestProcessor@487] - Processed session termination for sessionid: 0x3000654d3f00000
2018-06-28 17:41:35,327 [myid:] - INFO  [main:ZooKeeper@693] - Session: 0x3000654d3f00000 closed
2018-06-28 17:41:35,327 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@522] - EventThread shut down for session: 0x3000654d3f00000
2018-06-28 17:41:35,327 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11243:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:51031 which had sessionid 0x3000654d3f00000
2018-06-28 17:41:35,327 [myid:] - INFO  [main:QuorumUtil@227] - Shutting down quorum peer QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11239
2018-06-28 17:41:35,328 [myid:] - INFO  [main:Follower@169] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:169)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1026)
	at org.apache.zookeeper.test.QuorumUtil.shutdown(QuorumUtil.java:228)
	at org.apache.zookeeper.test.QuorumUtil.shutdownAll(QuorumUtil.java:215)
	at org.apache.zookeeper.server.ZxidRolloverTest.tearDown(ZxidRolloverTest.java:217)
	at junit.framework.TestCase.runBare(TestCase.java:146)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:536)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1205)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1048)
2018-06-28 17:41:35,328 [myid:] - INFO  [main:FollowerZooKeeperServer@140] - Shutting down
2018-06-28 17:41:35,328 [myid:] - INFO  [main:ZooKeeperServer@502] - shutting down
2018-06-28 17:41:35,328 [myid:] - INFO  [main:FollowerRequestProcessor@107] - Shutting down
2018-06-28 17:41:35,328 [myid:] - INFO  [main:CommitProcessor@184] - Shutting down
2018-06-28 17:41:35,328 [myid:] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@97] - FollowerRequestProcessor exited loop!
2018-06-28 17:41:35,328 [myid:] - INFO  [CommitProcessor:1:CommitProcessor@153] - CommitProcessor exited loop!
2018-06-28 17:41:35,328 [myid:] - INFO  [main:FinalRequestProcessor@403] - shutdown of request processor complete
2018-06-28 17:41:35,329 [myid:] - INFO  [main:SyncRequestProcessor@208] - Shutting down
2018-06-28 17:41:35,329 [myid:] - INFO  [SyncThread:1:SyncRequestProcessor@186] - SyncRequestProcessor exited!
2018-06-28 17:41:35,329 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11239:NIOServerCnxnFactory@242] - NIOServerCnxn factory exited run method
2018-06-28 17:41:35,330 [myid:] - ERROR [/127.0.0.1:12240:QuorumCnxManager$Listener@760] - Exception while listening
java.net.SocketException: Socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:409)
	at java.net.ServerSocket.implAccept(ServerSocket.java:545)
	at java.net.ServerSocket.accept(ServerSocket.java:513)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$Listener.run(QuorumCnxManager.java:741)
2018-06-28 17:41:35,330 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1025] - Connection broken for id 1, my id = 2, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1010)
2018-06-28 17:41:35,330 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1028] - Interrupting SendWorker
2018-06-28 17:41:35,330 [myid:] - INFO  [main:QuorumUtil@231] - Shutting down leader election QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11239
2018-06-28 17:41:35,330 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1025] - Connection broken for id 3, my id = 1, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1010)
2018-06-28 17:41:35,330 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1028] - Interrupting SendWorker
2018-06-28 17:41:35,330 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@941] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:418)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1094)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$700(QuorumCnxManager.java:74)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:929)
2018-06-28 17:41:35,330 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1025] - Connection broken for id 2, my id = 1, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1010)
2018-06-28 17:41:35,331 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1028] - Interrupting SendWorker
2018-06-28 17:41:35,330 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1025] - Connection broken for id 1, my id = 3, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1010)
2018-06-28 17:41:35,331 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1028] - Interrupting SendWorker
2018-06-28 17:41:35,330 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@941] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:418)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1094)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$700(QuorumCnxManager.java:74)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:929)
2018-06-28 17:41:35,331 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@951] - Send worker leaving thread
2018-06-28 17:41:35,331 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@941] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:418)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1094)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$700(QuorumCnxManager.java:74)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:929)
2018-06-28 17:41:35,332 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@951] - Send worker leaving thread
2018-06-28 17:41:35,331 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@951] - Send worker leaving thread
2018-06-28 17:41:35,330 [myid:] - INFO  [main:QuorumUtil@236] - Waiting for QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11239 to exit thread
2018-06-28 17:41:35,330 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@941] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:418)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1094)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$700(QuorumCnxManager.java:74)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:929)
2018-06-28 17:41:35,332 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@951] - Send worker leaving thread
2018-06-28 17:41:35,618 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11239:Follower@169] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:169)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:985)
2018-06-28 17:41:35,618 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11239:FollowerZooKeeperServer@140] - Shutting down
2018-06-28 17:41:35,618 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11239:SyncRequestProcessor@208] - Shutting down
2018-06-28 17:41:35,618 [myid:] - WARN  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11239:QuorumPeer@1009] - QuorumPeer main thread exited
2018-06-28 17:41:35,619 [myid:] - INFO  [main:QuorumUtil@227] - Shutting down quorum peer QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11241
2018-06-28 17:41:35,619 [myid:] - INFO  [main:Leader@520] - Shutting down
2018-06-28 17:41:35,619 [myid:] - INFO  [main:Leader@526] - Shutdown called
java.lang.Exception: shutdown Leader! reason: quorum Peer shutdown
	at org.apache.zookeeper.server.quorum.Leader.shutdown(Leader.java:526)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1023)
	at org.apache.zookeeper.test.QuorumUtil.shutdown(QuorumUtil.java:228)
	at org.apache.zookeeper.test.QuorumUtil.shutdownAll(QuorumUtil.java:215)
	at org.apache.zookeeper.server.ZxidRolloverTest.tearDown(ZxidRolloverTest.java:217)
	at junit.framework.TestCase.runBare(TestCase.java:146)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:536)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1205)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1048)
2018-06-28 17:41:35,619 [myid:] - INFO  [main:ZooKeeperServer@502] - shutting down
2018-06-28 17:41:35,619 [myid:] - INFO  [main:SessionTrackerImpl@226] - Shutting down
2018-06-28 17:41:35,619 [myid:] - INFO  [main:PrepRequestProcessor@769] - Shutting down
2018-06-28 17:41:35,619 [myid:] - INFO  [LearnerCnxAcceptor-/127.0.0.1:12241:Leader$LearnerCnxAcceptor@340] - exception while shutting down acceptor: java.net.SocketException: Socket closed
2018-06-28 17:41:35,619 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::PrepRequestProcessor@144] - PrepRequestProcessor exited loop!
2018-06-28 17:41:35,619 [myid:] - INFO  [main:ProposalRequestProcessor@88] - Shutting down
2018-06-28 17:41:35,620 [myid:] - INFO  [main:CommitProcessor@184] - Shutting down
2018-06-28 17:41:35,620 [myid:] - INFO  [main:Leader$ToBeAppliedRequestProcessor@685] - Shutting down
2018-06-28 17:41:35,620 [myid:] - INFO  [main:FinalRequestProcessor@403] - shutdown of request processor complete
2018-06-28 17:41:35,620 [myid:] - INFO  [main:SyncRequestProcessor@208] - Shutting down
2018-06-28 17:41:35,620 [myid:] - INFO  [CommitProcessor:2:CommitProcessor@153] - CommitProcessor exited loop!
2018-06-28 17:41:35,620 [myid:] - INFO  [SyncThread:2:SyncRequestProcessor@186] - SyncRequestProcessor exited!
2018-06-28 17:41:35,621 [myid:] - WARN  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11243:Follower@90] - Exception when following the leader
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:63)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:99)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:153)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:86)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:981)
2018-06-28 17:41:35,621 [myid:] - WARN  [LearnerHandler-/127.0.0.1:51029:LearnerHandler@661] - ******* GOODBYE /127.0.0.1:51029 ********
2018-06-28 17:41:35,621 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11243:Follower@169] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:169)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:985)
2018-06-28 17:41:35,621 [myid:] - WARN  [LearnerHandler-/127.0.0.1:51029:LearnerHandler@673] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1220)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:335)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:339)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:671)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:664)
2018-06-28 17:41:35,621 [myid:] - WARN  [LearnerHandler-/127.0.0.1:51017:LearnerHandler@661] - ******* GOODBYE /127.0.0.1:51017 ********
2018-06-28 17:41:35,621 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11241:NIOServerCnxnFactory@242] - NIOServerCnxn factory exited run method
2018-06-28 17:41:35,621 [myid:] - WARN  [LearnerHandler-/127.0.0.1:51018:LearnerHandler@661] - ******* GOODBYE /127.0.0.1:51018 ********
2018-06-28 17:41:35,621 [myid:] - WARN  [LearnerHandler-/127.0.0.1:51017:LearnerHandler@673] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1220)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:335)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:339)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:671)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:664)
2018-06-28 17:41:35,622 [myid:] - WARN  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11241:QuorumPeer@997] - Unexpected exception
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at org.apache.zookeeper.server.quorum.Leader.lead(Leader.java:474)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:994)
2018-06-28 17:41:35,622 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11241:Leader@520] - Shutting down
2018-06-28 17:41:35,622 [myid:] - INFO  [main:QuorumUtil@231] - Shutting down leader election QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11241
2018-06-28 17:41:35,621 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11243:FollowerZooKeeperServer@140] - Shutting down
2018-06-28 17:41:35,622 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11243:ZooKeeperServer@502] - shutting down
2018-06-28 17:41:35,622 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11243:FollowerRequestProcessor@107] - Shutting down
2018-06-28 17:41:35,622 [myid:] - INFO  [main:QuorumUtil@236] - Waiting for QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11241 to exit thread
2018-06-28 17:41:35,622 [myid:] - WARN  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11241:QuorumPeer@1009] - QuorumPeer main thread exited
2018-06-28 17:41:35,622 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1025] - Connection broken for id 3, my id = 2, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1010)
2018-06-28 17:41:35,622 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1028] - Interrupting SendWorker
2018-06-28 17:41:35,622 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@941] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:418)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1094)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$700(QuorumCnxManager.java:74)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:929)
2018-06-28 17:41:35,622 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@951] - Send worker leaving thread
2018-06-28 17:41:35,622 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1025] - Connection broken for id 2, my id = 3, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1010)
2018-06-28 17:41:35,623 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1028] - Interrupting SendWorker
2018-06-28 17:41:35,622 [myid:] - ERROR [/127.0.0.1:12242:QuorumCnxManager$Listener@760] - Exception while listening
java.net.SocketException: Socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:409)
	at java.net.ServerSocket.implAccept(ServerSocket.java:545)
	at java.net.ServerSocket.accept(ServerSocket.java:513)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$Listener.run(QuorumCnxManager.java:741)
2018-06-28 17:41:35,621 [myid:] - WARN  [LearnerHandler-/127.0.0.1:51018:LearnerHandler@673] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1220)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:335)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:339)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:671)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:664)
2018-06-28 17:41:35,623 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@941] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:418)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1094)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$700(QuorumCnxManager.java:74)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:929)
2018-06-28 17:41:35,623 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@951] - Send worker leaving thread
2018-06-28 17:41:35,622 [myid:] - INFO  [main:QuorumUtil@227] - Shutting down quorum peer QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11243
2018-06-28 17:41:35,623 [myid:] - INFO  [main:Follower@169] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:169)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1026)
	at org.apache.zookeeper.test.QuorumUtil.shutdown(QuorumUtil.java:228)
	at org.apache.zookeeper.test.QuorumUtil.shutdownAll(QuorumUtil.java:215)
	at org.apache.zookeeper.server.ZxidRolloverTest.tearDown(ZxidRolloverTest.java:217)
	at junit.framework.TestCase.runBare(TestCase.java:146)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:536)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1205)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1048)
2018-06-28 17:41:35,622 [myid:] - INFO  [FollowerRequestProcessor:3:FollowerRequestProcessor@97] - FollowerRequestProcessor exited loop!
2018-06-28 17:41:35,622 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11243:CommitProcessor@184] - Shutting down
2018-06-28 17:41:35,623 [myid:] - INFO  [main:FollowerZooKeeperServer@140] - Shutting down
2018-06-28 17:41:35,624 [myid:] - INFO  [CommitProcessor:3:CommitProcessor@153] - CommitProcessor exited loop!
2018-06-28 17:41:35,624 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11243:FinalRequestProcessor@403] - shutdown of request processor complete
2018-06-28 17:41:35,624 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11243:SyncRequestProcessor@208] - Shutting down
2018-06-28 17:41:35,625 [myid:] - INFO  [main:SyncRequestProcessor@208] - Shutting down
2018-06-28 17:41:35,625 [myid:] - INFO  [SyncThread:3:SyncRequestProcessor@186] - SyncRequestProcessor exited!
2018-06-28 17:41:35,625 [myid:] - WARN  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11243:QuorumPeer@1009] - QuorumPeer main thread exited
2018-06-28 17:41:35,625 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11243:NIOServerCnxnFactory@242] - NIOServerCnxn factory exited run method
2018-06-28 17:41:35,625 [myid:] - ERROR [/127.0.0.1:12244:QuorumCnxManager$Listener@760] - Exception while listening
java.net.SocketException: Socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:409)
	at java.net.ServerSocket.implAccept(ServerSocket.java:545)
	at java.net.ServerSocket.accept(ServerSocket.java:513)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$Listener.run(QuorumCnxManager.java:741)
2018-06-28 17:41:35,626 [myid:] - INFO  [main:QuorumUtil@231] - Shutting down leader election QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11243
2018-06-28 17:41:35,626 [myid:] - INFO  [main:QuorumUtil@236] - Waiting for QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11243 to exit thread
2018-06-28 17:41:35,626 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11239
2018-06-28 17:41:35,626 [myid:] - INFO  [main:QuorumUtil@220] - 127.0.0.1:11239 is no longer accepting client connections
2018-06-28 17:41:35,626 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11241
2018-06-28 17:41:35,626 [myid:] - INFO  [main:QuorumUtil@220] - 127.0.0.1:11241 is no longer accepting client connections
2018-06-28 17:41:35,626 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11243
2018-06-28 17:41:35,626 [myid:] - INFO  [main:QuorumUtil@220] - 127.0.0.1:11243 is no longer accepting client connections
2018-06-28 17:41:35,627 [myid:] - INFO  [main:ZxidRolloverTest@57] - STARTING testRolloverThenRestart
2018-06-28 17:41:35,636 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11245
2018-06-28 17:41:35,636 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11246
2018-06-28 17:41:35,636 [myid:] - INFO  [main:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:41:35,638 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11247
2018-06-28 17:41:35,638 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11248
2018-06-28 17:41:35,638 [myid:] - INFO  [main:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:41:35,640 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11249
2018-06-28 17:41:35,640 [myid:] - INFO  [main:PortAssignment@32] - assigning port 11250
2018-06-28 17:41:35,640 [myid:] - INFO  [main:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:41:35,640 [myid:] - INFO  [main:QuorumUtil@110] - Creating QuorumPeer 1; public port 11245
2018-06-28 17:41:35,640 [myid:] - INFO  [main:ServerCnxnFactory@117] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2018-06-28 17:41:35,640 [myid:] - INFO  [main:NIOServerCnxnFactory@89] - binding to port 0.0.0.0/0.0.0.0:11245
2018-06-28 17:41:35,641 [myid:] - INFO  [main:QuorumUtil@110] - Creating QuorumPeer 2; public port 11247
2018-06-28 17:41:35,641 [myid:] - INFO  [main:ServerCnxnFactory@117] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2018-06-28 17:41:35,641 [myid:] - INFO  [main:NIOServerCnxnFactory@89] - binding to port 0.0.0.0/0.0.0.0:11247
2018-06-28 17:41:35,643 [myid:] - INFO  [main:QuorumUtil@110] - Creating QuorumPeer 3; public port 11249
2018-06-28 17:41:35,643 [myid:] - INFO  [main:ServerCnxnFactory@117] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2018-06-28 17:41:35,643 [myid:] - INFO  [main:NIOServerCnxnFactory@89] - binding to port 0.0.0.0/0.0.0.0:11249
2018-06-28 17:41:35,643 [myid:] - INFO  [main:QuorumUtil@227] - Shutting down quorum peer QuorumPeer
2018-06-28 17:41:35,644 [myid:] - INFO  [main:QuorumUtil@234] - No election available to shutdown QuorumPeer
2018-06-28 17:41:35,644 [myid:] - INFO  [main:QuorumUtil@236] - Waiting for QuorumPeer to exit thread
2018-06-28 17:41:35,644 [myid:] - INFO  [main:QuorumUtil@227] - Shutting down quorum peer QuorumPeer
2018-06-28 17:41:35,644 [myid:] - INFO  [main:QuorumUtil@234] - No election available to shutdown QuorumPeer
2018-06-28 17:41:35,644 [myid:] - INFO  [main:QuorumUtil@236] - Waiting for QuorumPeer to exit thread
2018-06-28 17:41:35,644 [myid:] - INFO  [main:QuorumUtil@227] - Shutting down quorum peer QuorumPeer
2018-06-28 17:41:35,644 [myid:] - INFO  [main:QuorumUtil@234] - No election available to shutdown QuorumPeer
2018-06-28 17:41:35,644 [myid:] - INFO  [main:QuorumUtil@236] - Waiting for QuorumPeer to exit thread
2018-06-28 17:41:35,644 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11245
2018-06-28 17:41:35,644 [myid:] - INFO  [main:QuorumUtil@220] - 127.0.0.1:11245 is no longer accepting client connections
2018-06-28 17:41:35,644 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11247
2018-06-28 17:41:35,645 [myid:] - INFO  [main:QuorumUtil@220] - 127.0.0.1:11247 is no longer accepting client connections
2018-06-28 17:41:35,645 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11249
2018-06-28 17:41:35,645 [myid:] - INFO  [main:QuorumUtil@220] - 127.0.0.1:11249 is no longer accepting client connections
2018-06-28 17:41:35,645 [myid:] - INFO  [main:QuorumUtil@186] - Creating QuorumPeer 1; public port 11245
2018-06-28 17:41:35,645 [myid:] - INFO  [main:ServerCnxnFactory@117] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2018-06-28 17:41:35,645 [myid:] - INFO  [main:NIOServerCnxnFactory@89] - binding to port 0.0.0.0/0.0.0.0:11245
2018-06-28 17:41:35,645 [myid:] - INFO  [main:QuorumPeer@668] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2018-06-28 17:41:35,646 [myid:] - INFO  [main:QuorumPeer@683] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2018-06-28 17:41:35,648 [myid:] - INFO  [ListenerThread:QuorumCnxManager$Listener@736] - My election bind port: /127.0.0.1:12246
2018-06-28 17:41:35,648 [myid:] - INFO  [main:QuorumUtil@132] - Started QuorumPeer 1
2018-06-28 17:41:35,648 [myid:] - INFO  [main:QuorumUtil@186] - Creating QuorumPeer 2; public port 11247
2018-06-28 17:41:35,649 [myid:] - INFO  [main:ServerCnxnFactory@117] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2018-06-28 17:41:35,649 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11245:QuorumPeer@909] - LOOKING
2018-06-28 17:41:35,649 [myid:] - INFO  [main:NIOServerCnxnFactory@89] - binding to port 0.0.0.0/0.0.0.0:11247
2018-06-28 17:41:35,649 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11245:FastLeaderElection@813] - New election. My id =  1, proposed zxid=0x0
2018-06-28 17:41:35,649 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:35,650 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@584] - Cannot open channel to 2 at election address /127.0.0.1:12248
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:558)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:534)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:454)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:435)
	at java.lang.Thread.run(Thread.java:748)
2018-06-28 17:41:35,650 [myid:] - INFO  [main:QuorumPeer@668] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2018-06-28 17:41:35,650 [myid:] - INFO  [WorkerSender[myid=1]:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:41:35,651 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@584] - Cannot open channel to 3 at election address /127.0.0.1:12250
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:558)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:534)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:454)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:435)
	at java.lang.Thread.run(Thread.java:748)
2018-06-28 17:41:35,651 [myid:] - INFO  [WorkerSender[myid=1]:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:41:35,651 [myid:] - INFO  [main:QuorumPeer@683] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2018-06-28 17:41:35,653 [myid:] - INFO  [ListenerThread:QuorumCnxManager$Listener@736] - My election bind port: /127.0.0.1:12248
2018-06-28 17:41:35,654 [myid:] - INFO  [main:QuorumUtil@132] - Started QuorumPeer 2
2018-06-28 17:41:35,654 [myid:] - INFO  [main:QuorumUtil@186] - Creating QuorumPeer 3; public port 11249
2018-06-28 17:41:35,654 [myid:] - INFO  [main:ServerCnxnFactory@117] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2018-06-28 17:41:35,654 [myid:] - INFO  [main:NIOServerCnxnFactory@89] - binding to port 0.0.0.0/0.0.0.0:11249
2018-06-28 17:41:35,655 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11247:QuorumPeer@909] - LOOKING
2018-06-28 17:41:35,655 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11247:FastLeaderElection@813] - New election. My id =  2, proposed zxid=0x0
2018-06-28 17:41:35,655 [myid:] - INFO  [main:QuorumPeer@668] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2018-06-28 17:41:35,656 [myid:] - INFO  [/127.0.0.1:12246:QuorumCnxManager$Listener@743] - Received connection request /127.0.0.1:51040
2018-06-28 17:41:35,656 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:35,657 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:35,657 [myid:] - INFO  [main:QuorumPeer@683] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2018-06-28 17:41:35,657 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:35,657 [myid:] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@584] - Cannot open channel to 3 at election address /127.0.0.1:12250
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:558)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:534)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:454)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:435)
	at java.lang.Thread.run(Thread.java:748)
2018-06-28 17:41:35,657 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:35,657 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:35,657 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@584] - Cannot open channel to 3 at election address /127.0.0.1:12250
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:558)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:534)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:454)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:435)
	at java.lang.Thread.run(Thread.java:748)
2018-06-28 17:41:35,657 [myid:] - INFO  [WorkerSender[myid=2]:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:41:35,657 [myid:] - INFO  [WorkerSender[myid=1]:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:41:35,660 [myid:] - INFO  [ListenerThread:QuorumCnxManager$Listener@736] - My election bind port: /127.0.0.1:12250
2018-06-28 17:41:35,660 [myid:] - INFO  [main:QuorumUtil@132] - Started QuorumPeer 3
2018-06-28 17:41:35,660 [myid:] - INFO  [main:QuorumUtil@135] - Checking ports 127.0.0.1:11245,127.0.0.1:11247,127.0.0.1:11249
2018-06-28 17:41:35,661 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11245
2018-06-28 17:41:35,661 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11249:QuorumPeer@909] - LOOKING
2018-06-28 17:41:35,661 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11249:FastLeaderElection@813] - New election. My id =  3, proposed zxid=0x0
2018-06-28 17:41:35,661 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11245:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:51043
2018-06-28 17:41:35,662 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11245:NIOServerCnxn@908] - Processing stat command from /127.0.0.1:51043
2018-06-28 17:41:35,662 [myid:] - INFO  [/127.0.0.1:12246:QuorumCnxManager$Listener@743] - Received connection request /127.0.0.1:51044
2018-06-28 17:41:35,662 [myid:] - INFO  [Thread-86:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:51043 (no session established for client)
2018-06-28 17:41:35,663 [myid:] - INFO  [/127.0.0.1:12248:QuorumCnxManager$Listener@743] - Received connection request /127.0.0.1:51045
2018-06-28 17:41:35,663 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:35,663 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:35,663 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:35,663 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:35,663 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:35,663 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:35,664 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:35,664 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:35,664 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:35,664 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:35,664 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:35,868 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11247:QuorumPeer@979] - FOLLOWING
2018-06-28 17:41:35,868 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11245:QuorumPeer@979] - FOLLOWING
2018-06-28 17:41:35,868 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11249:QuorumPeer@991] - LEADING
2018-06-28 17:41:35,868 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11245:ZooKeeperServer@174] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test4714800816684036148.junit.dir/version-2 snapdir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test4714800816684036148.junit.dir/version-2
2018-06-28 17:41:35,868 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11247:ZooKeeperServer@174] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test5462526835103515188.junit.dir/version-2 snapdir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test5462526835103515188.junit.dir/version-2
2018-06-28 17:41:35,868 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11245:Follower@65] - FOLLOWING - LEADER ELECTION TOOK - 219
2018-06-28 17:41:35,868 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11249:ZooKeeperServer@174] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test5690536941932137879.junit.dir/version-2 snapdir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test5690536941932137879.junit.dir/version-2
2018-06-28 17:41:35,868 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11247:Follower@65] - FOLLOWING - LEADER ELECTION TOOK - 213
2018-06-28 17:41:35,868 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11245:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:41:35,868 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11249:Leader@380] - LEADING - LEADER ELECTION TOOK - 207
2018-06-28 17:41:35,868 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11247:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:41:35,870 [myid:] - INFO  [LearnerHandler-/127.0.0.1:51046:LearnerHandler@346] - Follower sid: 1 : info : org.apache.zookeeper.server.quorum.QuorumPeer$QuorumServer@175b628a
2018-06-28 17:41:35,870 [myid:] - INFO  [LearnerHandler-/127.0.0.1:51047:LearnerHandler@346] - Follower sid: 2 : info : org.apache.zookeeper.server.quorum.QuorumPeer$QuorumServer@7bb001fa
2018-06-28 17:41:35,872 [myid:] - INFO  [LearnerHandler-/127.0.0.1:51047:LearnerHandler@401] - Synchronizing with Follower sid: 2 maxCommittedLog=0x0 minCommittedLog=0x0 peerLastZxid=0x0
2018-06-28 17:41:35,872 [myid:] - INFO  [LearnerHandler-/127.0.0.1:51047:LearnerHandler@410] - leader and follower are in sync, zxid=0x0
2018-06-28 17:41:35,872 [myid:] - INFO  [LearnerHandler-/127.0.0.1:51047:LearnerHandler@475] - Sending DIFF
2018-06-28 17:41:35,873 [myid:] - INFO  [LearnerHandler-/127.0.0.1:51046:LearnerHandler@401] - Synchronizing with Follower sid: 1 maxCommittedLog=0x0 minCommittedLog=0x0 peerLastZxid=0x0
2018-06-28 17:41:35,873 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11247:Learner@332] - Getting a diff from the leader 0x0
2018-06-28 17:41:35,873 [myid:] - INFO  [LearnerHandler-/127.0.0.1:51046:LearnerHandler@410] - leader and follower are in sync, zxid=0x0
2018-06-28 17:41:35,873 [myid:] - INFO  [LearnerHandler-/127.0.0.1:51046:LearnerHandler@475] - Sending DIFF
2018-06-28 17:41:35,873 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11245:Learner@332] - Getting a diff from the leader 0x0
2018-06-28 17:41:35,874 [myid:] - INFO  [LearnerHandler-/127.0.0.1:51047:LearnerHandler@535] - Received NEWLEADER-ACK message from 2
2018-06-28 17:41:35,875 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11249:Leader@964] - Have quorum of supporters, sids: [ 2,3 ]; starting up and setting last processed zxid: 0x100000000
2018-06-28 17:41:35,875 [myid:] - INFO  [LearnerHandler-/127.0.0.1:51046:LearnerHandler@535] - Received NEWLEADER-ACK message from 1
2018-06-28 17:41:35,915 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11245
2018-06-28 17:41:35,915 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11245:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:51048
2018-06-28 17:41:35,915 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11245:NIOServerCnxn@908] - Processing stat command from /127.0.0.1:51048
2018-06-28 17:41:35,916 [myid:] - INFO  [Thread-89:NIOServerCnxn$StatCommand@687] - Stat command output
2018-06-28 17:41:35,917 [myid:] - INFO  [Thread-89:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:51048 (no session established for client)
2018-06-28 17:41:35,917 [myid:] - INFO  [main:QuorumUtil@139] - 127.0.0.1:11245 is accepting client connections
2018-06-28 17:41:35,917 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11247
2018-06-28 17:41:35,917 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11247:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:51049
2018-06-28 17:41:35,918 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11247:NIOServerCnxn@908] - Processing stat command from /127.0.0.1:51049
2018-06-28 17:41:35,918 [myid:] - INFO  [Thread-90:NIOServerCnxn$StatCommand@687] - Stat command output
2018-06-28 17:41:35,919 [myid:] - INFO  [Thread-90:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:51049 (no session established for client)
2018-06-28 17:41:35,919 [myid:] - INFO  [main:QuorumUtil@139] - 127.0.0.1:11247 is accepting client connections
2018-06-28 17:41:35,919 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11249
2018-06-28 17:41:35,920 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11249:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:51050
2018-06-28 17:41:35,920 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11249:NIOServerCnxn@908] - Processing stat command from /127.0.0.1:51050
2018-06-28 17:41:35,921 [myid:] - INFO  [Thread-91:NIOServerCnxn$StatCommand@687] - Stat command output
2018-06-28 17:41:35,922 [myid:] - INFO  [Thread-91:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:51050 (no session established for client)
2018-06-28 17:41:35,922 [myid:] - INFO  [main:QuorumUtil@139] - 127.0.0.1:11249 is accepting client connections
2018-06-28 17:41:35,922 [myid:] - INFO  [main:JMXEnv@199] - JMXEnv.dump() follows
2018-06-28 17:41:35,924 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.2
2018-06-28 17:41:35,924 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1
2018-06-28 17:41:35,924 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree
2018-06-28 17:41:35,924 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.3
2018-06-28 17:41:35,924 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.3
2018-06-28 17:41:35,924 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1
2018-06-28 17:41:35,924 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2
2018-06-28 17:41:35,924 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2
2018-06-28 17:41:35,924 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.1
2018-06-28 17:41:35,924 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3
2018-06-28 17:41:35,925 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower,name3=InMemoryDataTree
2018-06-28 17:41:35,925 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader
2018-06-28 17:41:35,925 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.2
2018-06-28 17:41:35,925 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.1
2018-06-28 17:41:35,925 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3
2018-06-28 17:41:35,925 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader,name3=InMemoryDataTree
2018-06-28 17:41:35,925 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower
2018-06-28 17:41:35,925 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower
2018-06-28 17:41:35,927 [myid:] - INFO  [main:JMXEnv@118] - expect:InMemoryDataTree
2018-06-28 17:41:35,927 [myid:] - INFO  [main:JMXEnv@121] - found:InMemoryDataTree org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree
2018-06-28 17:41:35,927 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id1,name1=replica.1,name2=
2018-06-28 17:41:35,927 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id1,name1=replica.1,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower
2018-06-28 17:41:35,927 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id2,name1=replica.2,name2=
2018-06-28 17:41:35,927 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id2,name1=replica.2,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower,name3=InMemoryDataTree
2018-06-28 17:41:35,927 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id3,name1=replica.3,name2=
2018-06-28 17:41:35,928 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id3,name1=replica.3,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader
2018-06-28 17:41:35,928 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id1,name1=replica.1
2018-06-28 17:41:35,928 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id1,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1
2018-06-28 17:41:35,928 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id1,name1=replica.2
2018-06-28 17:41:35,928 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id1,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.2
2018-06-28 17:41:35,928 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id1,name1=replica.3
2018-06-28 17:41:35,928 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id1,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.3
2018-06-28 17:41:35,928 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id2,name1=replica.1
2018-06-28 17:41:35,928 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id2,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.1
2018-06-28 17:41:35,928 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id2,name1=replica.2
2018-06-28 17:41:35,928 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id2,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2
2018-06-28 17:41:35,928 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id2,name1=replica.3
2018-06-28 17:41:35,928 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id2,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.3
2018-06-28 17:41:35,928 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id3,name1=replica.1
2018-06-28 17:41:35,928 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id3,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.1
2018-06-28 17:41:35,928 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id3,name1=replica.2
2018-06-28 17:41:35,928 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id3,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.2
2018-06-28 17:41:35,928 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id3,name1=replica.3
2018-06-28 17:41:35,928 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id3,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3
2018-06-28 17:41:35,928 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id1
2018-06-28 17:41:35,928 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id1 org.apache.ZooKeeperService:name0=ReplicatedServer_id1
2018-06-28 17:41:35,929 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id2
2018-06-28 17:41:35,929 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id2 org.apache.ZooKeeperService:name0=ReplicatedServer_id2
2018-06-28 17:41:35,929 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id3
2018-06-28 17:41:35,929 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id3 org.apache.ZooKeeperService:name0=ReplicatedServer_id3
2018-06-28 17:41:35,929 [myid:] - INFO  [main:ZooKeeper@442] - Initiating client connection, connectString=127.0.0.1:11245 sessionTimeout=30000 watcher=org.apache.zookeeper.test.ClientBase$CountdownWatcher@42e26948
2018-06-28 17:41:35,929 [myid:] - INFO  [main:ZooKeeper@442] - Initiating client connection, connectString=127.0.0.1:11247 sessionTimeout=30000 watcher=org.apache.zookeeper.test.ClientBase$CountdownWatcher@57baeedf
2018-06-28 17:41:35,930 [myid:] - INFO  [main:ZooKeeper@442] - Initiating client connection, connectString=127.0.0.1:11249 sessionTimeout=30000 watcher=org.apache.zookeeper.test.ClientBase$CountdownWatcher@343f4d3d
2018-06-28 17:41:35,930 [myid:] - INFO  [main-SendThread(localhost:11247):ClientCnxn$SendThread@1029] - Opening socket connection to server localhost/127.0.0.1:11247. Will not attempt to authenticate using SASL (unknown error)
2018-06-28 17:41:35,930 [myid:] - INFO  [main-SendThread(localhost:11245):ClientCnxn$SendThread@1029] - Opening socket connection to server localhost/127.0.0.1:11245. Will not attempt to authenticate using SASL (unknown error)
2018-06-28 17:41:35,931 [myid:] - INFO  [main-SendThread(localhost:11249):ClientCnxn$SendThread@1029] - Opening socket connection to server localhost/127.0.0.1:11249. Will not attempt to authenticate using SASL (unknown error)
2018-06-28 17:41:35,931 [myid:] - INFO  [main-SendThread(localhost:11247):ClientCnxn$SendThread@879] - Socket connection established to localhost/127.0.0.1:11247, initiating session
2018-06-28 17:41:35,931 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11247:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:51051
2018-06-28 17:41:35,931 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11245:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:51052
2018-06-28 17:41:35,931 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11249:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:51053
2018-06-28 17:41:35,931 [myid:] - INFO  [main-SendThread(localhost:11249):ClientCnxn$SendThread@879] - Socket connection established to localhost/127.0.0.1:11249, initiating session
2018-06-28 17:41:35,931 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11247:ZooKeeperServer@949] - Client attempting to establish new session at /127.0.0.1:51051
2018-06-28 17:41:35,931 [myid:] - INFO  [main-SendThread(localhost:11245):ClientCnxn$SendThread@879] - Socket connection established to localhost/127.0.0.1:11245, initiating session
2018-06-28 17:41:35,931 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11249:ZooKeeperServer@949] - Client attempting to establish new session at /127.0.0.1:51053
2018-06-28 17:41:35,932 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11245:ZooKeeperServer@949] - Client attempting to establish new session at /127.0.0.1:51052
2018-06-28 17:41:35,932 [myid:] - INFO  [SyncThread:3:FileTxnLog@213] - Creating new log file: log.100000001
2018-06-28 17:41:35,933 [myid:] - WARN  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11247:Follower@119] - Got zxid 0x100000001 expected 0x1
2018-06-28 17:41:35,933 [myid:] - WARN  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11245:Follower@119] - Got zxid 0x100000001 expected 0x1
2018-06-28 17:41:35,933 [myid:] - INFO  [SyncThread:2:FileTxnLog@213] - Creating new log file: log.100000001
2018-06-28 17:41:35,933 [myid:] - INFO  [SyncThread:1:FileTxnLog@213] - Creating new log file: log.100000001
2018-06-28 17:41:35,935 [myid:] - INFO  [CommitProcessor:2:ZooKeeperServer@694] - Established session 0x200065505490000 with negotiated timeout 30000 for client /127.0.0.1:51051
2018-06-28 17:41:35,935 [myid:] - INFO  [main-SendThread(localhost:11245):ClientCnxn$SendThread@1303] - Session establishment complete on server localhost/127.0.0.1:11245, sessionid = 0x100065505490000, negotiated timeout = 30000
2018-06-28 17:41:35,935 [myid:] - INFO  [main-SendThread(localhost:11249):ClientCnxn$SendThread@1303] - Session establishment complete on server localhost/127.0.0.1:11249, sessionid = 0x3000655054b0000, negotiated timeout = 30000
2018-06-28 17:41:35,935 [myid:] - INFO  [main-SendThread(localhost:11247):ClientCnxn$SendThread@1303] - Session establishment complete on server localhost/127.0.0.1:11247, sessionid = 0x200065505490000, negotiated timeout = 30000
2018-06-28 17:41:35,935 [myid:] - INFO  [CommitProcessor:3:ZooKeeperServer@694] - Established session 0x3000655054b0000 with negotiated timeout 30000 for client /127.0.0.1:51053
2018-06-28 17:41:35,935 [myid:] - INFO  [CommitProcessor:1:ZooKeeperServer@694] - Established session 0x100065505490000 with negotiated timeout 30000 for client /127.0.0.1:51052
2018-06-28 17:41:35,936 [myid:] - INFO  [main:ZxidRolloverTest@225] - Creating nodes 0 thru 10
2018-06-28 17:41:35,940 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@301] - Snapshotting: 0x100000004 to /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test5690536941932137879.junit.dir/version-2/snapshot.100000004
2018-06-28 17:41:35,940 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@301] - Snapshotting: 0x100000004 to /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test4714800816684036148.junit.dir/version-2/snapshot.100000004
2018-06-28 17:41:35,940 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@301] - Snapshotting: 0x100000004 to /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test5462526835103515188.junit.dir/version-2/snapshot.100000004
2018-06-28 17:41:35,942 [myid:] - INFO  [SyncThread:3:FileTxnLog@213] - Creating new log file: log.100000006
2018-06-28 17:41:35,942 [myid:] - INFO  [SyncThread:1:FileTxnLog@213] - Creating new log file: log.100000006
2018-06-28 17:41:35,942 [myid:] - INFO  [SyncThread:2:FileTxnLog@213] - Creating new log file: log.100000006
2018-06-28 17:41:35,947 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@301] - Snapshotting: 0x100000008 to /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test5690536941932137879.junit.dir/version-2/snapshot.100000008
2018-06-28 17:41:35,947 [myid:] - INFO  [SyncThread:3:FileTxnLog@213] - Creating new log file: log.10000000a
2018-06-28 17:41:35,949 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@301] - Snapshotting: 0x10000000a to /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test5462526835103515188.junit.dir/version-2/snapshot.10000000a
2018-06-28 17:41:35,949 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@301] - Snapshotting: 0x10000000a to /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test4714800816684036148.junit.dir/version-2/snapshot.10000000a
2018-06-28 17:41:35,951 [myid:] - INFO  [SyncThread:2:FileTxnLog@213] - Creating new log file: log.10000000c
2018-06-28 17:41:35,951 [myid:] - INFO  [SyncThread:1:FileTxnLog@213] - Creating new log file: log.10000000c
2018-06-28 17:41:35,953 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@301] - Snapshotting: 0x10000000c to /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test5690536941932137879.junit.dir/version-2/snapshot.10000000c
2018-06-28 17:41:35,954 [myid:] - INFO  [main:ZxidRolloverTest@225] - Creating nodes 10 thru 20
2018-06-28 17:41:35,954 [myid:] - INFO  [SyncThread:3:FileTxnLog@213] - Creating new log file: log.1fffffffd
2018-06-28 17:41:35,955 [myid:] - WARN  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11247:Follower@119] - Got zxid 0x1fffffffd expected 0x10000000e
2018-06-28 17:41:35,955 [myid:] - WARN  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11245:Follower@119] - Got zxid 0x1fffffffd expected 0x10000000e
2018-06-28 17:41:35,955 [myid:] - WARN  [LearnerHandler-/127.0.0.1:51046:Leader@613] - Commiting zxid 0x1fffffffd from /127.0.0.1:12249 not first!
2018-06-28 17:41:35,955 [myid:] - WARN  [LearnerHandler-/127.0.0.1:51046:Leader@615] - First is 0x10000000e
2018-06-28 17:41:35,956 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@301] - Snapshotting: 0x1fffffffd to /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test5462526835103515188.junit.dir/version-2/snapshot.1fffffffd
2018-06-28 17:41:35,956 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@301] - Snapshotting: 0x1fffffffd to /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test4714800816684036148.junit.dir/version-2/snapshot.1fffffffd
2018-06-28 17:41:35,957 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::Leader@520] - Shutting down
2018-06-28 17:41:35,957 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::Leader@526] - Shutdown called
java.lang.Exception: shutdown Leader! reason: zxid lower 32 bits have rolled over, forcing re-election, and therefore new epoch start
	at org.apache.zookeeper.server.quorum.Leader.shutdown(Leader.java:526)
	at org.apache.zookeeper.server.quorum.Leader.propose(Leader.java:772)
	at org.apache.zookeeper.server.quorum.ProposalRequestProcessor.processRequest(ProposalRequestProcessor.java:78)
	at org.apache.zookeeper.server.PrepRequestProcessor.pRequest(PrepRequestProcessor.java:681)
	at org.apache.zookeeper.server.PrepRequestProcessor.run(PrepRequestProcessor.java:134)
2018-06-28 17:41:35,957 [myid:] - INFO  [LearnerCnxAcceptor-/127.0.0.1:12249:Leader$LearnerCnxAcceptor@340] - exception while shutting down acceptor: java.net.SocketException: Socket closed
2018-06-28 17:41:35,957 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:51053 which had sessionid 0x3000655054b0000
2018-06-28 17:41:35,958 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::ZooKeeperServer@502] - shutting down
2018-06-28 17:41:35,958 [myid:] - INFO  [main-SendThread(localhost:11249):ClientCnxn$SendThread@1162] - Unable to read additional data from server sessionid 0x3000655054b0000, likely server has closed socket, closing socket connection and attempting reconnect
2018-06-28 17:41:35,958 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::SessionTrackerImpl@226] - Shutting down
2018-06-28 17:41:35,958 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::PrepRequestProcessor@769] - Shutting down
2018-06-28 17:41:35,958 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::ProposalRequestProcessor@88] - Shutting down
2018-06-28 17:41:35,958 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::CommitProcessor@184] - Shutting down
2018-06-28 17:41:35,958 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::Leader$ToBeAppliedRequestProcessor@685] - Shutting down
2018-06-28 17:41:35,958 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::FinalRequestProcessor@403] - shutdown of request processor complete
2018-06-28 17:41:35,958 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::SyncRequestProcessor@208] - Shutting down
2018-06-28 17:41:35,958 [myid:] - INFO  [CommitProcessor:3:CommitProcessor@153] - CommitProcessor exited loop!
2018-06-28 17:41:35,958 [myid:] - INFO  [SyncThread:3:SyncRequestProcessor@186] - SyncRequestProcessor exited!
2018-06-28 17:41:35,959 [myid:] - WARN  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11247:Follower@90] - Exception when following the leader
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:63)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:99)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:153)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:86)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:981)
2018-06-28 17:41:35,960 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::PrepRequestProcessor@138] - zxid lower 32 bits have rolled over, forcing re-election, and therefore new epoch start
2018-06-28 17:41:35,960 [myid:] - WARN  [LearnerHandler-/127.0.0.1:51046:LearnerHandler@661] - ******* GOODBYE /127.0.0.1:51046 ********
2018-06-28 17:41:35,959 [myid:] - WARN  [LearnerHandler-/127.0.0.1:51047:LearnerHandler@661] - ******* GOODBYE /127.0.0.1:51047 ********
2018-06-28 17:41:35,959 [myid:] - WARN  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11245:Follower@90] - Exception when following the leader
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:63)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:99)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:153)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:86)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:981)
2018-06-28 17:41:35,960 [myid:] - WARN  [LearnerHandler-/127.0.0.1:51047:LearnerHandler@673] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1220)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:335)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:339)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:671)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:664)
2018-06-28 17:41:35,960 [myid:] - WARN  [LearnerHandler-/127.0.0.1:51046:LearnerHandler@673] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1220)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:335)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:339)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:671)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:664)
2018-06-28 17:41:35,960 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11247:Follower@169] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:169)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:985)
2018-06-28 17:41:35,960 [myid:] - ERROR [ProcessThread(sid:3 cport:-1)::ZooKeeperCriticalThread@49] - Severe unrecoverable error, from thread : ProcessThread(sid:3 cport:-1):
org.apache.zookeeper.server.RequestProcessor$RequestProcessorException: zxid lower 32 bits have rolled over, forcing re-election, and therefore new epoch start
	at org.apache.zookeeper.server.quorum.ProposalRequestProcessor.processRequest(ProposalRequestProcessor.java:80)
	at org.apache.zookeeper.server.PrepRequestProcessor.pRequest(PrepRequestProcessor.java:681)
	at org.apache.zookeeper.server.PrepRequestProcessor.run(PrepRequestProcessor.java:134)
Caused by: org.apache.zookeeper.server.quorum.Leader$XidRolloverException: zxid lower 32 bits have rolled over, forcing re-election, and therefore new epoch start
	at org.apache.zookeeper.server.quorum.Leader.propose(Leader.java:773)
	at org.apache.zookeeper.server.quorum.ProposalRequestProcessor.processRequest(ProposalRequestProcessor.java:78)
	... 2 more
2018-06-28 17:41:35,961 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11247:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:51051 which had sessionid 0x200065505490000
2018-06-28 17:41:35,961 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::ZooKeeperServerListenerImpl@42] - Thread ProcessThread(sid:3 cport:-1): exits, error code 1
2018-06-28 17:41:35,961 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11247:FollowerZooKeeperServer@140] - Shutting down
2018-06-28 17:41:35,960 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11245:Follower@169] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:169)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:985)
2018-06-28 17:41:35,961 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11247:ZooKeeperServer@502] - shutting down
2018-06-28 17:41:35,961 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11247:FollowerRequestProcessor@107] - Shutting down
2018-06-28 17:41:35,961 [myid:] - INFO  [main-SendThread(localhost:11247):ClientCnxn$SendThread@1162] - Unable to read additional data from server sessionid 0x200065505490000, likely server has closed socket, closing socket connection and attempting reconnect
2018-06-28 17:41:35,961 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::PrepRequestProcessor@144] - PrepRequestProcessor exited loop!
2018-06-28 17:41:35,961 [myid:] - INFO  [FollowerRequestProcessor:2:FollowerRequestProcessor@97] - FollowerRequestProcessor exited loop!
2018-06-28 17:41:35,961 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11247:CommitProcessor@184] - Shutting down
2018-06-28 17:41:35,961 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11245:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:51052 which had sessionid 0x100065505490000
2018-06-28 17:41:35,962 [myid:] - INFO  [CommitProcessor:2:CommitProcessor@153] - CommitProcessor exited loop!
2018-06-28 17:41:35,962 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11247:FinalRequestProcessor@403] - shutdown of request processor complete
2018-06-28 17:41:35,962 [myid:] - INFO  [main-SendThread(localhost:11245):ClientCnxn$SendThread@1162] - Unable to read additional data from server sessionid 0x100065505490000, likely server has closed socket, closing socket connection and attempting reconnect
2018-06-28 17:41:35,962 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11245:FollowerZooKeeperServer@140] - Shutting down
2018-06-28 17:41:35,962 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11245:ZooKeeperServer@502] - shutting down
2018-06-28 17:41:35,962 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11245:FollowerRequestProcessor@107] - Shutting down
2018-06-28 17:41:35,962 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11245:CommitProcessor@184] - Shutting down
2018-06-28 17:41:35,962 [myid:] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@97] - FollowerRequestProcessor exited loop!
2018-06-28 17:41:35,962 [myid:] - INFO  [CommitProcessor:1:CommitProcessor@153] - CommitProcessor exited loop!
2018-06-28 17:41:35,962 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11245:FinalRequestProcessor@403] - shutdown of request processor complete
2018-06-28 17:41:35,962 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11247:SyncRequestProcessor@208] - Shutting down
2018-06-28 17:41:35,962 [myid:] - INFO  [SyncThread:2:SyncRequestProcessor@186] - SyncRequestProcessor exited!
2018-06-28 17:41:35,963 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11247:QuorumPeer@909] - LOOKING
2018-06-28 17:41:35,963 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11245:SyncRequestProcessor@208] - Shutting down
2018-06-28 17:41:35,963 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11247:FastLeaderElection@813] - New election. My id =  2, proposed zxid=0x1fffffffe
2018-06-28 17:41:35,963 [myid:] - INFO  [SyncThread:1:SyncRequestProcessor@186] - SyncRequestProcessor exited!
2018-06-28 17:41:35,963 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11245:QuorumPeer@909] - LOOKING
2018-06-28 17:41:35,963 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:35,963 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11245:FastLeaderElection@813] - New election. My id =  1, proposed zxid=0x1fffffffe
2018-06-28 17:41:35,963 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEpoch) LEADING (my state)
2018-06-28 17:41:35,963 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 2 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:35,963 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:35,963 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:35,963 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) LEADING (my state)
2018-06-28 17:41:35,963 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LEADING (n.state), 3 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:35,963 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:35,964 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:35,964 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) LEADING (my state)
2018-06-28 17:41:35,964 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LEADING (n.state), 3 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:35,964 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LEADING (n.state), 3 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:36,167 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11245:QuorumPeer@979] - FOLLOWING
2018-06-28 17:41:36,167 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11247:QuorumPeer@991] - LEADING
2018-06-28 17:41:36,167 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11245:ZooKeeperServer@174] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test4714800816684036148.junit.dir/version-2 snapdir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test4714800816684036148.junit.dir/version-2
2018-06-28 17:41:36,167 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11247:ZooKeeperServer@174] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test5462526835103515188.junit.dir/version-2 snapdir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test5462526835103515188.junit.dir/version-2
2018-06-28 17:41:36,168 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11245:Follower@65] - FOLLOWING - LEADER ELECTION TOOK - 205
2018-06-28 17:41:36,168 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11247:Leader@380] - LEADING - LEADER ELECTION TOOK - 205
2018-06-28 17:41:36,168 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11245:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:41:36,169 [myid:] - INFO  [LearnerHandler-/127.0.0.1:51054:LearnerHandler@346] - Follower sid: 1 : info : org.apache.zookeeper.server.quorum.QuorumPeer$QuorumServer@175b628a
2018-06-28 17:41:36,171 [myid:] - INFO  [LearnerHandler-/127.0.0.1:51054:LearnerHandler@401] - Synchronizing with Follower sid: 1 maxCommittedLog=0x1fffffffe minCommittedLog=0x100000001 peerLastZxid=0x1fffffffe
2018-06-28 17:41:36,172 [myid:] - INFO  [LearnerHandler-/127.0.0.1:51054:LearnerHandler@410] - leader and follower are in sync, zxid=0x1fffffffe
2018-06-28 17:41:36,172 [myid:] - INFO  [LearnerHandler-/127.0.0.1:51054:LearnerHandler@475] - Sending DIFF
2018-06-28 17:41:36,172 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11245:Learner@332] - Getting a diff from the leader 0x1fffffffe
2018-06-28 17:41:36,173 [myid:] - INFO  [LearnerHandler-/127.0.0.1:51054:LearnerHandler@535] - Received NEWLEADER-ACK message from 1
2018-06-28 17:41:36,173 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11247:Leader@964] - Have quorum of supporters, sids: [ 1,2 ]; starting up and setting last processed zxid: 0x200000000
2018-06-28 17:41:36,332 [myid:] - INFO  [/127.0.0.1:12240:QuorumCnxManager$Listener@773] - Leaving listener
2018-06-28 17:41:36,627 [myid:] - INFO  [/127.0.0.1:12244:QuorumCnxManager$Listener@773] - Leaving listener
2018-06-28 17:41:36,627 [myid:] - INFO  [/127.0.0.1:12242:QuorumCnxManager$Listener@773] - Leaving listener
2018-06-28 17:41:36,665 [myid:] - INFO  [SessionTracker:SessionTrackerImpl@163] - SessionTrackerImpl exited loop!
2018-06-28 17:41:36,665 [myid:] - INFO  [SessionTracker:SessionTrackerImpl@163] - SessionTrackerImpl exited loop!
2018-06-28 17:41:36,881 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11249:Leader@520] - Shutting down
2018-06-28 17:41:36,881 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11249:QuorumPeer@909] - LOOKING
2018-06-28 17:41:36,881 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11249:FastLeaderElection@813] - New election. My id =  3, proposed zxid=0x1fffffffe
2018-06-28 17:41:36,882 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 3 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:36,882 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 3 (n.sid), 0x1 (n.peerEpoch) LEADING (my state)
2018-06-28 17:41:36,882 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 3 (n.sid), 0x1 (n.peerEpoch) FOLLOWING (my state)
2018-06-28 17:41:36,882 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), LEADING (n.state), 2 (n.sid), 0x2 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:36,882 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x1fffffffe (n.zxid), 0x2 (n.round), FOLLOWING (n.state), 1 (n.sid), 0x2 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:36,882 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11249:QuorumPeer@979] - FOLLOWING
2018-06-28 17:41:36,883 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11249:ZooKeeperServer@174] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test5690536941932137879.junit.dir/version-2 snapdir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test5690536941932137879.junit.dir/version-2
2018-06-28 17:41:36,883 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11249:Follower@65] - FOLLOWING - LEADER ELECTION TOOK - 1
2018-06-28 17:41:36,883 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11249:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:41:36,884 [myid:] - INFO  [LearnerHandler-/127.0.0.1:51055:LearnerHandler@346] - Follower sid: 3 : info : org.apache.zookeeper.server.quorum.QuorumPeer$QuorumServer@6287d4e
2018-06-28 17:41:36,891 [myid:] - INFO  [LearnerHandler-/127.0.0.1:51055:LearnerHandler@401] - Synchronizing with Follower sid: 3 maxCommittedLog=0x1fffffffe minCommittedLog=0x100000001 peerLastZxid=0x1fffffffe
2018-06-28 17:41:36,892 [myid:] - INFO  [LearnerHandler-/127.0.0.1:51055:LearnerHandler@475] - Sending DIFF
2018-06-28 17:41:36,892 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11249:Learner@332] - Getting a diff from the leader 0x1fffffffe
2018-06-28 17:41:36,894 [myid:] - INFO  [LearnerHandler-/127.0.0.1:51055:LearnerHandler@535] - Received NEWLEADER-ACK message from 3
2018-06-28 17:41:37,110 [myid:] - INFO  [main-SendThread(localhost:11247):ClientCnxn$SendThread@1029] - Opening socket connection to server localhost/127.0.0.1:11247. Will not attempt to authenticate using SASL (unknown error)
2018-06-28 17:41:37,111 [myid:] - INFO  [main-SendThread(localhost:11247):ClientCnxn$SendThread@879] - Socket connection established to localhost/127.0.0.1:11247, initiating session
2018-06-28 17:41:37,111 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11247:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:51056
2018-06-28 17:41:37,111 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11247:ZooKeeperServer@942] - Client attempting to renew session 0x200065505490000 at /127.0.0.1:51056
2018-06-28 17:41:37,112 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11247:ZooKeeperServer@694] - Established session 0x200065505490000 with negotiated timeout 30000 for client /127.0.0.1:51056
2018-06-28 17:41:37,112 [myid:] - INFO  [main-SendThread(localhost:11247):ClientCnxn$SendThread@1303] - Session establishment complete on server localhost/127.0.0.1:11247, sessionid = 0x200065505490000, negotiated timeout = 30000
2018-06-28 17:41:37,121 [myid:] - INFO  [main-SendThread(localhost:11249):ClientCnxn$SendThread@1029] - Opening socket connection to server localhost/127.0.0.1:11249. Will not attempt to authenticate using SASL (unknown error)
2018-06-28 17:41:37,121 [myid:] - INFO  [main-SendThread(localhost:11249):ClientCnxn$SendThread@879] - Socket connection established to localhost/127.0.0.1:11249, initiating session
2018-06-28 17:41:37,121 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11249:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:51057
2018-06-28 17:41:37,122 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11249:ZooKeeperServer@942] - Client attempting to renew session 0x3000655054b0000 at /127.0.0.1:51057
2018-06-28 17:41:37,122 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11249:Learner@108] - Revalidating client: 0x3000655054b0000
2018-06-28 17:41:37,123 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11249:ZooKeeperServer@694] - Established session 0x3000655054b0000 with negotiated timeout 30000 for client /127.0.0.1:51057
2018-06-28 17:41:37,123 [myid:] - INFO  [main-SendThread(localhost:11249):ClientCnxn$SendThread@1303] - Session establishment complete on server localhost/127.0.0.1:11249, sessionid = 0x3000655054b0000, negotiated timeout = 30000
2018-06-28 17:41:37,219 [myid:] - INFO  [WorkerSender[myid=3]:FastLeaderElection$Messenger$WorkerSender@440] - WorkerSender is down
2018-06-28 17:41:37,219 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@409] - WorkerReceiver is down
2018-06-28 17:41:37,219 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@409] - WorkerReceiver is down
2018-06-28 17:41:37,219 [myid:] - INFO  [WorkerSender[myid=2]:FastLeaderElection$Messenger$WorkerSender@440] - WorkerSender is down
2018-06-28 17:41:37,219 [myid:] - INFO  [WorkerSender[myid=1]:FastLeaderElection$Messenger$WorkerSender@440] - WorkerSender is down
2018-06-28 17:41:37,219 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@409] - WorkerReceiver is down
2018-06-28 17:41:38,065 [myid:] - INFO  [main-SendThread(localhost:11245):ClientCnxn$SendThread@1029] - Opening socket connection to server localhost/127.0.0.1:11245. Will not attempt to authenticate using SASL (unknown error)
2018-06-28 17:41:38,066 [myid:] - INFO  [main-SendThread(localhost:11245):ClientCnxn$SendThread@879] - Socket connection established to localhost/127.0.0.1:11245, initiating session
2018-06-28 17:41:38,066 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11245:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:51058
2018-06-28 17:41:38,066 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11245:ZooKeeperServer@942] - Client attempting to renew session 0x100065505490000 at /127.0.0.1:51058
2018-06-28 17:41:38,066 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11245:Learner@108] - Revalidating client: 0x100065505490000
2018-06-28 17:41:38,067 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11245:ZooKeeperServer@694] - Established session 0x100065505490000 with negotiated timeout 30000 for client /127.0.0.1:51058
2018-06-28 17:41:38,067 [myid:] - INFO  [main-SendThread(localhost:11245):ClientCnxn$SendThread@1303] - Session establishment complete on server localhost/127.0.0.1:11245, sessionid = 0x100065505490000, negotiated timeout = 30000
2018-06-28 17:41:38,067 [myid:] - INFO  [main:QuorumUtil@227] - Shutting down quorum peer QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11245
2018-06-28 17:41:38,067 [myid:] - INFO  [main:Follower@169] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:169)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1026)
	at org.apache.zookeeper.test.QuorumUtil.shutdown(QuorumUtil.java:228)
	at org.apache.zookeeper.test.QuorumUtil.shutdownAll(QuorumUtil.java:215)
	at org.apache.zookeeper.server.ZxidRolloverTest.shutdownAll(ZxidRolloverTest.java:177)
	at org.apache.zookeeper.server.ZxidRolloverTest.testRolloverThenRestart(ZxidRolloverTest.java:280)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:536)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1205)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1048)
2018-06-28 17:41:38,068 [myid:] - INFO  [main:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:51058 which had sessionid 0x100065505490000
2018-06-28 17:41:38,068 [myid:] - INFO  [main:FollowerZooKeeperServer@140] - Shutting down
2018-06-28 17:41:38,068 [myid:] - INFO  [main:ZooKeeperServer@502] - shutting down
2018-06-28 17:41:38,068 [myid:] - INFO  [main-SendThread(localhost:11245):ClientCnxn$SendThread@1162] - Unable to read additional data from server sessionid 0x100065505490000, likely server has closed socket, closing socket connection and attempting reconnect
2018-06-28 17:41:38,068 [myid:] - INFO  [main:FollowerRequestProcessor@107] - Shutting down
2018-06-28 17:41:38,068 [myid:] - INFO  [main:CommitProcessor@184] - Shutting down
2018-06-28 17:41:38,068 [myid:] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@97] - FollowerRequestProcessor exited loop!
2018-06-28 17:41:38,068 [myid:] - INFO  [CommitProcessor:1:CommitProcessor@153] - CommitProcessor exited loop!
2018-06-28 17:41:38,068 [myid:] - INFO  [main:FinalRequestProcessor@403] - shutdown of request processor complete
2018-06-28 17:41:38,069 [myid:] - INFO  [main:SyncRequestProcessor@208] - Shutting down
2018-06-28 17:41:38,069 [myid:] - INFO  [SyncThread:1:SyncRequestProcessor@186] - SyncRequestProcessor exited!
2018-06-28 17:41:38,070 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11245:NIOServerCnxnFactory@242] - NIOServerCnxn factory exited run method
2018-06-28 17:41:38,070 [myid:] - ERROR [/127.0.0.1:12246:QuorumCnxManager$Listener@760] - Exception while listening
java.net.SocketException: Socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:409)
	at java.net.ServerSocket.implAccept(ServerSocket.java:545)
	at java.net.ServerSocket.accept(ServerSocket.java:513)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$Listener.run(QuorumCnxManager.java:741)
2018-06-28 17:41:38,070 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@941] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:418)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1094)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$700(QuorumCnxManager.java:74)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:929)
2018-06-28 17:41:38,070 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1025] - Connection broken for id 1, my id = 2, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1010)
2018-06-28 17:41:38,071 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1028] - Interrupting SendWorker
2018-06-28 17:41:38,070 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@941] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:418)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1094)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$700(QuorumCnxManager.java:74)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:929)
2018-06-28 17:41:38,071 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@951] - Send worker leaving thread
2018-06-28 17:41:38,071 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@941] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:418)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1094)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$700(QuorumCnxManager.java:74)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:929)
2018-06-28 17:41:38,071 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@951] - Send worker leaving thread
2018-06-28 17:41:38,071 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1025] - Connection broken for id 3, my id = 1, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1010)
2018-06-28 17:41:38,071 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1028] - Interrupting SendWorker
2018-06-28 17:41:38,070 [myid:] - INFO  [main:QuorumUtil@231] - Shutting down leader election QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11245
2018-06-28 17:41:38,070 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1025] - Connection broken for id 1, my id = 3, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1010)
2018-06-28 17:41:38,072 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1028] - Interrupting SendWorker
2018-06-28 17:41:38,070 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1025] - Connection broken for id 2, my id = 1, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1010)
2018-06-28 17:41:38,072 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1028] - Interrupting SendWorker
2018-06-28 17:41:38,072 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@941] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:418)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1094)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$700(QuorumCnxManager.java:74)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:929)
2018-06-28 17:41:38,072 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@951] - Send worker leaving thread
2018-06-28 17:41:38,072 [myid:] - INFO  [main:QuorumUtil@236] - Waiting for QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11245 to exit thread
2018-06-28 17:41:38,071 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@951] - Send worker leaving thread
2018-06-28 17:41:38,185 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11245:Follower@169] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:169)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:985)
2018-06-28 17:41:38,185 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11245:FollowerZooKeeperServer@140] - Shutting down
2018-06-28 17:41:38,185 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11245:SyncRequestProcessor@208] - Shutting down
2018-06-28 17:41:38,185 [myid:] - WARN  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11245:QuorumPeer@1009] - QuorumPeer main thread exited
2018-06-28 17:41:38,186 [myid:] - INFO  [main:QuorumUtil@227] - Shutting down quorum peer QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11247
2018-06-28 17:41:38,186 [myid:] - INFO  [main:Leader@520] - Shutting down
2018-06-28 17:41:38,186 [myid:] - INFO  [main:Leader@526] - Shutdown called
java.lang.Exception: shutdown Leader! reason: quorum Peer shutdown
	at org.apache.zookeeper.server.quorum.Leader.shutdown(Leader.java:526)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1023)
	at org.apache.zookeeper.test.QuorumUtil.shutdown(QuorumUtil.java:228)
	at org.apache.zookeeper.test.QuorumUtil.shutdownAll(QuorumUtil.java:215)
	at org.apache.zookeeper.server.ZxidRolloverTest.shutdownAll(ZxidRolloverTest.java:177)
	at org.apache.zookeeper.server.ZxidRolloverTest.testRolloverThenRestart(ZxidRolloverTest.java:280)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:536)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1205)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1048)
2018-06-28 17:41:38,186 [myid:] - INFO  [LearnerCnxAcceptor-/127.0.0.1:12247:Leader$LearnerCnxAcceptor@340] - exception while shutting down acceptor: java.net.SocketException: Socket closed
2018-06-28 17:41:38,186 [myid:] - INFO  [main:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:51056 which had sessionid 0x200065505490000
2018-06-28 17:41:38,187 [myid:] - INFO  [main:ZooKeeperServer@502] - shutting down
2018-06-28 17:41:38,187 [myid:] - INFO  [main:SessionTrackerImpl@226] - Shutting down
2018-06-28 17:41:38,187 [myid:] - INFO  [main:PrepRequestProcessor@769] - Shutting down
2018-06-28 17:41:38,187 [myid:] - INFO  [main-SendThread(localhost:11247):ClientCnxn$SendThread@1162] - Unable to read additional data from server sessionid 0x200065505490000, likely server has closed socket, closing socket connection and attempting reconnect
2018-06-28 17:41:38,187 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::PrepRequestProcessor@144] - PrepRequestProcessor exited loop!
2018-06-28 17:41:38,187 [myid:] - INFO  [main:ProposalRequestProcessor@88] - Shutting down
2018-06-28 17:41:38,187 [myid:] - INFO  [main:CommitProcessor@184] - Shutting down
2018-06-28 17:41:38,187 [myid:] - INFO  [main:Leader$ToBeAppliedRequestProcessor@685] - Shutting down
2018-06-28 17:41:38,187 [myid:] - INFO  [main:FinalRequestProcessor@403] - shutdown of request processor complete
2018-06-28 17:41:38,188 [myid:] - INFO  [main:SyncRequestProcessor@208] - Shutting down
2018-06-28 17:41:38,187 [myid:] - INFO  [CommitProcessor:2:CommitProcessor@153] - CommitProcessor exited loop!
2018-06-28 17:41:38,188 [myid:] - INFO  [SyncThread:2:SyncRequestProcessor@186] - SyncRequestProcessor exited!
2018-06-28 17:41:38,189 [myid:] - WARN  [LearnerHandler-/127.0.0.1:51054:LearnerHandler@661] - ******* GOODBYE /127.0.0.1:51054 ********
2018-06-28 17:41:38,189 [myid:] - WARN  [LearnerHandler-/127.0.0.1:51055:LearnerHandler@661] - ******* GOODBYE /127.0.0.1:51055 ********
2018-06-28 17:41:38,189 [myid:] - WARN  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11249:Follower@90] - Exception when following the leader
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:63)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:99)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:153)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:86)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:981)
2018-06-28 17:41:38,189 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11247:NIOServerCnxnFactory@242] - NIOServerCnxn factory exited run method
2018-06-28 17:41:38,189 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11249:Follower@169] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:169)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:985)
2018-06-28 17:41:38,189 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11249:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:51057 which had sessionid 0x3000655054b0000
2018-06-28 17:41:38,189 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11249:FollowerZooKeeperServer@140] - Shutting down
2018-06-28 17:41:38,189 [myid:] - WARN  [LearnerHandler-/127.0.0.1:51055:LearnerHandler@673] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1220)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:335)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:339)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:671)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:664)
2018-06-28 17:41:38,190 [myid:] - WARN  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11247:QuorumPeer@997] - Unexpected exception
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at org.apache.zookeeper.server.quorum.Leader.lead(Leader.java:474)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:994)
2018-06-28 17:41:38,190 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11247:Leader@520] - Shutting down
2018-06-28 17:41:38,189 [myid:] - WARN  [LearnerHandler-/127.0.0.1:51054:LearnerHandler@673] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1220)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:335)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:339)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:671)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:664)
2018-06-28 17:41:38,190 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1025] - Connection broken for id 2, my id = 3, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1010)
2018-06-28 17:41:38,191 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1028] - Interrupting SendWorker
2018-06-28 17:41:38,190 [myid:] - WARN  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11247:QuorumPeer@1009] - QuorumPeer main thread exited
2018-06-28 17:41:38,191 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@941] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:418)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1094)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$700(QuorumCnxManager.java:74)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:929)
2018-06-28 17:41:38,191 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@951] - Send worker leaving thread
2018-06-28 17:41:38,190 [myid:] - ERROR [/127.0.0.1:12248:QuorumCnxManager$Listener@760] - Exception while listening
java.net.SocketException: Socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:409)
	at java.net.ServerSocket.implAccept(ServerSocket.java:545)
	at java.net.ServerSocket.accept(ServerSocket.java:513)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$Listener.run(QuorumCnxManager.java:741)
2018-06-28 17:41:38,190 [myid:] - INFO  [main-SendThread(localhost:11249):ClientCnxn$SendThread@1162] - Unable to read additional data from server sessionid 0x3000655054b0000, likely server has closed socket, closing socket connection and attempting reconnect
2018-06-28 17:41:38,190 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11249:ZooKeeperServer@502] - shutting down
2018-06-28 17:41:38,192 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11249:FollowerRequestProcessor@107] - Shutting down
2018-06-28 17:41:38,191 [myid:] - INFO  [main:QuorumUtil@231] - Shutting down leader election QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11247
2018-06-28 17:41:38,190 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@941] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:418)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1094)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$700(QuorumCnxManager.java:74)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:929)
2018-06-28 17:41:38,192 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@951] - Send worker leaving thread
2018-06-28 17:41:38,190 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1025] - Connection broken for id 3, my id = 2, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1010)
2018-06-28 17:41:38,192 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1028] - Interrupting SendWorker
2018-06-28 17:41:38,192 [myid:] - INFO  [main:QuorumUtil@236] - Waiting for QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11247 to exit thread
2018-06-28 17:41:38,192 [myid:] - INFO  [FollowerRequestProcessor:3:FollowerRequestProcessor@97] - FollowerRequestProcessor exited loop!
2018-06-28 17:41:38,192 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11249:CommitProcessor@184] - Shutting down
2018-06-28 17:41:38,192 [myid:] - INFO  [main:QuorumUtil@227] - Shutting down quorum peer QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11249
2018-06-28 17:41:38,193 [myid:] - INFO  [CommitProcessor:3:CommitProcessor@153] - CommitProcessor exited loop!
2018-06-28 17:41:38,193 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11249:FinalRequestProcessor@403] - shutdown of request processor complete
2018-06-28 17:41:38,193 [myid:] - INFO  [main:Follower@169] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:169)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1026)
	at org.apache.zookeeper.test.QuorumUtil.shutdown(QuorumUtil.java:228)
	at org.apache.zookeeper.test.QuorumUtil.shutdownAll(QuorumUtil.java:215)
	at org.apache.zookeeper.server.ZxidRolloverTest.shutdownAll(ZxidRolloverTest.java:177)
	at org.apache.zookeeper.server.ZxidRolloverTest.testRolloverThenRestart(ZxidRolloverTest.java:280)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:536)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1205)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1048)
2018-06-28 17:41:38,193 [myid:] - INFO  [main:FollowerZooKeeperServer@140] - Shutting down
2018-06-28 17:41:38,194 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11249:SyncRequestProcessor@208] - Shutting down
2018-06-28 17:41:38,194 [myid:] - INFO  [main:SyncRequestProcessor@208] - Shutting down
2018-06-28 17:41:38,194 [myid:] - INFO  [SyncThread:3:SyncRequestProcessor@186] - SyncRequestProcessor exited!
2018-06-28 17:41:38,194 [myid:] - WARN  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11249:QuorumPeer@1009] - QuorumPeer main thread exited
2018-06-28 17:41:38,194 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11249:NIOServerCnxnFactory@242] - NIOServerCnxn factory exited run method
2018-06-28 17:41:38,195 [myid:] - ERROR [/127.0.0.1:12250:QuorumCnxManager$Listener@760] - Exception while listening
java.net.SocketException: Socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:409)
	at java.net.ServerSocket.implAccept(ServerSocket.java:545)
	at java.net.ServerSocket.accept(ServerSocket.java:513)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$Listener.run(QuorumCnxManager.java:741)
2018-06-28 17:41:38,195 [myid:] - INFO  [main:QuorumUtil@231] - Shutting down leader election QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11249
2018-06-28 17:41:38,195 [myid:] - INFO  [main:QuorumUtil@236] - Waiting for QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11249 to exit thread
2018-06-28 17:41:38,195 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11245
2018-06-28 17:41:38,196 [myid:] - INFO  [main:QuorumUtil@220] - 127.0.0.1:11245 is no longer accepting client connections
2018-06-28 17:41:38,196 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11247
2018-06-28 17:41:38,196 [myid:] - INFO  [main:QuorumUtil@220] - 127.0.0.1:11247 is no longer accepting client connections
2018-06-28 17:41:38,196 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11249
2018-06-28 17:41:38,196 [myid:] - INFO  [main:QuorumUtil@220] - 127.0.0.1:11249 is no longer accepting client connections
2018-06-28 17:41:38,664 [myid:] - INFO  [SessionTracker:SessionTrackerImpl@163] - SessionTrackerImpl exited loop!
2018-06-28 17:41:39,075 [myid:] - INFO  [/127.0.0.1:12246:QuorumCnxManager$Listener@773] - Leaving listener
2018-06-28 17:41:39,192 [myid:] - INFO  [/127.0.0.1:12248:QuorumCnxManager$Listener@773] - Leaving listener
2018-06-28 17:41:39,195 [myid:] - INFO  [/127.0.0.1:12250:QuorumCnxManager$Listener@773] - Leaving listener
2018-06-28 17:41:39,312 [myid:] - INFO  [main-SendThread(localhost:11247):ClientCnxn$SendThread@1029] - Opening socket connection to server localhost/127.0.0.1:11247. Will not attempt to authenticate using SASL (unknown error)
2018-06-28 17:41:39,313 [myid:] - INFO  [main-SendThread(localhost:11247):ClientCnxn$SendThread@1166] - Socket error occurred: localhost/127.0.0.1:11247: Connection refused
2018-06-28 17:41:39,779 [myid:] - INFO  [main-SendThread(localhost:11245):ClientCnxn$SendThread@1029] - Opening socket connection to server localhost/127.0.0.1:11245. Will not attempt to authenticate using SASL (unknown error)
2018-06-28 17:41:39,780 [myid:] - INFO  [main-SendThread(localhost:11245):ClientCnxn$SendThread@1166] - Socket error occurred: localhost/127.0.0.1:11245: Connection refused
2018-06-28 17:41:39,885 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@409] - WorkerReceiver is down
2018-06-28 17:41:39,885 [myid:] - INFO  [WorkerSender[myid=1]:FastLeaderElection$Messenger$WorkerSender@440] - WorkerSender is down
2018-06-28 17:41:39,885 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@409] - WorkerReceiver is down
2018-06-28 17:41:39,885 [myid:] - INFO  [WorkerSender[myid=3]:FastLeaderElection$Messenger$WorkerSender@440] - WorkerSender is down
2018-06-28 17:41:39,885 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@409] - WorkerReceiver is down
2018-06-28 17:41:39,885 [myid:] - INFO  [WorkerSender[myid=2]:FastLeaderElection$Messenger$WorkerSender@440] - WorkerSender is down
2018-06-28 17:41:40,056 [myid:] - INFO  [main-SendThread(localhost:11249):ClientCnxn$SendThread@1029] - Opening socket connection to server localhost/127.0.0.1:11249. Will not attempt to authenticate using SASL (unknown error)
2018-06-28 17:41:40,057 [myid:] - INFO  [main-SendThread(localhost:11249):ClientCnxn$SendThread@1166] - Socket error occurred: localhost/127.0.0.1:11249: Connection refused
2018-06-28 17:41:41,056 [myid:] - INFO  [main-SendThread(localhost:11247):ClientCnxn$SendThread@1029] - Opening socket connection to server localhost/127.0.0.1:11247. Will not attempt to authenticate using SASL (unknown error)
2018-06-28 17:41:41,057 [myid:] - INFO  [main-SendThread(localhost:11247):ClientCnxn$SendThread@1166] - Socket error occurred: localhost/127.0.0.1:11247: Connection refused
2018-06-28 17:41:41,684 [myid:] - INFO  [main-SendThread(localhost:11249):ClientCnxn$SendThread@1029] - Opening socket connection to server localhost/127.0.0.1:11249. Will not attempt to authenticate using SASL (unknown error)
2018-06-28 17:41:41,685 [myid:] - INFO  [main-SendThread(localhost:11249):ClientCnxn$SendThread@1166] - Socket error occurred: localhost/127.0.0.1:11249: Connection refused
2018-06-28 17:41:41,786 [myid:] - INFO  [main:QuorumUtil@227] - Shutting down quorum peer QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11245
2018-06-28 17:41:41,786 [myid:] - INFO  [main:QuorumUtil@231] - Shutting down leader election QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11245
2018-06-28 17:41:41,786 [myid:] - INFO  [main:QuorumUtil@236] - Waiting for QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11245 to exit thread
2018-06-28 17:41:41,786 [myid:] - INFO  [main:QuorumUtil@227] - Shutting down quorum peer QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11247
2018-06-28 17:41:41,786 [myid:] - INFO  [main:QuorumUtil@231] - Shutting down leader election QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11247
2018-06-28 17:41:41,786 [myid:] - INFO  [main:QuorumUtil@236] - Waiting for QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11247 to exit thread
2018-06-28 17:41:41,786 [myid:] - INFO  [main:QuorumUtil@227] - Shutting down quorum peer QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11249
2018-06-28 17:41:41,786 [myid:] - INFO  [main:QuorumUtil@231] - Shutting down leader election QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11249
2018-06-28 17:41:41,787 [myid:] - INFO  [main:QuorumUtil@236] - Waiting for QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11249 to exit thread
2018-06-28 17:41:41,787 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11245
2018-06-28 17:41:41,787 [myid:] - INFO  [main:QuorumUtil@220] - 127.0.0.1:11245 is no longer accepting client connections
2018-06-28 17:41:41,787 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11247
2018-06-28 17:41:41,788 [myid:] - INFO  [main:QuorumUtil@220] - 127.0.0.1:11247 is no longer accepting client connections
2018-06-28 17:41:41,788 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11249
2018-06-28 17:41:41,788 [myid:] - INFO  [main:QuorumUtil@220] - 127.0.0.1:11249 is no longer accepting client connections
2018-06-28 17:41:41,788 [myid:] - INFO  [main:QuorumUtil@186] - Creating QuorumPeer 1; public port 11245
2018-06-28 17:41:41,788 [myid:] - INFO  [main:ServerCnxnFactory@117] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2018-06-28 17:41:41,789 [myid:] - INFO  [main:NIOServerCnxnFactory@89] - binding to port 0.0.0.0/0.0.0.0:11245
2018-06-28 17:41:41,789 [myid:] - INFO  [main:FileSnap@86] - Reading snapshot /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test4714800816684036148.junit.dir/version-2/snapshot.1fffffffd
2018-06-28 17:41:41,791 [myid:] - INFO  [ListenerThread:QuorumCnxManager$Listener@736] - My election bind port: /127.0.0.1:12246
2018-06-28 17:41:41,791 [myid:] - INFO  [main:QuorumUtil@132] - Started QuorumPeer 1
2018-06-28 17:41:41,792 [myid:] - INFO  [main:QuorumUtil@186] - Creating QuorumPeer 2; public port 11247
2018-06-28 17:41:41,792 [myid:] - INFO  [main:ServerCnxnFactory@117] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2018-06-28 17:41:41,792 [myid:] - INFO  [main:NIOServerCnxnFactory@89] - binding to port 0.0.0.0/0.0.0.0:11247
2018-06-28 17:41:41,792 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11245:QuorumPeer@909] - LOOKING
2018-06-28 17:41:41,792 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11245:FastLeaderElection@813] - New election. My id =  1, proposed zxid=0x1fffffffe
2018-06-28 17:41:41,793 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x1fffffffe (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x2 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:41,793 [myid:] - INFO  [main:FileSnap@86] - Reading snapshot /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test5462526835103515188.junit.dir/version-2/snapshot.1fffffffd
2018-06-28 17:41:41,793 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@584] - Cannot open channel to 2 at election address /127.0.0.1:12248
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:558)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:534)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:454)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:435)
	at java.lang.Thread.run(Thread.java:748)
2018-06-28 17:41:41,794 [myid:] - INFO  [WorkerSender[myid=1]:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:41:41,794 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@584] - Cannot open channel to 3 at election address /127.0.0.1:12250
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:558)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:534)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:454)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:435)
	at java.lang.Thread.run(Thread.java:748)
2018-06-28 17:41:41,794 [myid:] - INFO  [WorkerSender[myid=1]:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:41:41,795 [myid:] - INFO  [ListenerThread:QuorumCnxManager$Listener@736] - My election bind port: /127.0.0.1:12248
2018-06-28 17:41:41,795 [myid:] - INFO  [main:QuorumUtil@132] - Started QuorumPeer 2
2018-06-28 17:41:41,795 [myid:] - INFO  [main:QuorumUtil@186] - Creating QuorumPeer 3; public port 11249
2018-06-28 17:41:41,795 [myid:] - INFO  [main:ServerCnxnFactory@117] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2018-06-28 17:41:41,796 [myid:] - INFO  [main:NIOServerCnxnFactory@89] - binding to port 0.0.0.0/0.0.0.0:11249
2018-06-28 17:41:41,796 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11247:QuorumPeer@909] - LOOKING
2018-06-28 17:41:41,796 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11247:FastLeaderElection@813] - New election. My id =  2, proposed zxid=0x1fffffffe
2018-06-28 17:41:41,796 [myid:] - INFO  [main:FileSnap@86] - Reading snapshot /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test5690536941932137879.junit.dir/version-2/snapshot.10000000c
2018-06-28 17:41:41,796 [myid:] - INFO  [/127.0.0.1:12246:QuorumCnxManager$Listener@743] - Received connection request /127.0.0.1:51072
2018-06-28 17:41:41,797 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x1fffffffe (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x2 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:41,797 [myid:] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@584] - Cannot open channel to 3 at election address /127.0.0.1:12250
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:558)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:534)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:454)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:435)
	at java.lang.Thread.run(Thread.java:748)
2018-06-28 17:41:41,797 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x1fffffffe (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x2 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:41,797 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x1fffffffe (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x2 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:41,797 [myid:] - INFO  [WorkerSender[myid=2]:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:41:41,797 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x1fffffffe (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x2 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:41,798 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x1fffffffe (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x2 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:41,798 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@584] - Cannot open channel to 3 at election address /127.0.0.1:12250
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:558)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:534)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:454)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:435)
	at java.lang.Thread.run(Thread.java:748)
2018-06-28 17:41:41,799 [myid:] - INFO  [main:QuorumUtil@132] - Started QuorumPeer 3
2018-06-28 17:41:41,799 [myid:] - INFO  [main:QuorumUtil@135] - Checking ports 127.0.0.1:11245,127.0.0.1:11247,127.0.0.1:11249
2018-06-28 17:41:41,799 [myid:] - INFO  [WorkerSender[myid=1]:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:41:41,798 [myid:] - INFO  [ListenerThread:QuorumCnxManager$Listener@736] - My election bind port: /127.0.0.1:12250
2018-06-28 17:41:41,799 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11245
2018-06-28 17:41:41,799 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11249:QuorumPeer@909] - LOOKING
2018-06-28 17:41:41,799 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11249:FastLeaderElection@813] - New election. My id =  3, proposed zxid=0x1fffffffe
2018-06-28 17:41:41,799 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11245:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:51075
2018-06-28 17:41:41,800 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11245:NIOServerCnxn@908] - Processing stat command from /127.0.0.1:51075
2018-06-28 17:41:41,800 [myid:] - INFO  [/127.0.0.1:12246:QuorumCnxManager$Listener@743] - Received connection request /127.0.0.1:51076
2018-06-28 17:41:41,800 [myid:] - INFO  [Thread-94:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:51075 (no session established for client)
2018-06-28 17:41:41,801 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x1fffffffe (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x2 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:41,801 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x1fffffffe (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x2 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:41,801 [myid:] - INFO  [/127.0.0.1:12248:QuorumCnxManager$Listener@743] - Received connection request /127.0.0.1:51077
2018-06-28 17:41:41,801 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x1fffffffe (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x2 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:41,801 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x1fffffffe (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x2 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:41,801 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x1fffffffe (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x2 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:41,801 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x1fffffffe (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x2 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:41,801 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x1fffffffe (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x2 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:41,801 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x1fffffffe (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x2 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:41,801 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x1fffffffe (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x2 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:41,801 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x1fffffffe (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x2 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:41,802 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x1fffffffe (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x2 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:41,827 [myid:] - INFO  [main-SendThread(localhost:11245):ClientCnxn$SendThread@1029] - Opening socket connection to server localhost/127.0.0.1:11245. Will not attempt to authenticate using SASL (unknown error)
2018-06-28 17:41:41,827 [myid:] - INFO  [main-SendThread(localhost:11245):ClientCnxn$SendThread@879] - Socket connection established to localhost/127.0.0.1:11245, initiating session
2018-06-28 17:41:41,827 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11245:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:51078
2018-06-28 17:41:41,828 [myid:] - WARN  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11245:NIOServerCnxn@383] - Exception causing close of session 0x0: ZooKeeperServer not running
2018-06-28 17:41:41,828 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11245:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:51078 (no session established for client)
2018-06-28 17:41:41,828 [myid:] - INFO  [main-SendThread(localhost:11245):ClientCnxn$SendThread@1162] - Unable to read additional data from server sessionid 0x100065505490000, likely server has closed socket, closing socket connection and attempting reconnect
2018-06-28 17:41:42,007 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11247:QuorumPeer@979] - FOLLOWING
2018-06-28 17:41:42,007 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11247:ZooKeeperServer@174] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test5462526835103515188.junit.dir/version-2 snapdir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test5462526835103515188.junit.dir/version-2
2018-06-28 17:41:42,007 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11245:QuorumPeer@979] - FOLLOWING
2018-06-28 17:41:42,007 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11249:QuorumPeer@991] - LEADING
2018-06-28 17:41:42,007 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11245:ZooKeeperServer@174] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test4714800816684036148.junit.dir/version-2 snapdir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test4714800816684036148.junit.dir/version-2
2018-06-28 17:41:42,007 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11247:Follower@65] - FOLLOWING - LEADER ELECTION TOOK - 211
2018-06-28 17:41:42,007 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11245:Follower@65] - FOLLOWING - LEADER ELECTION TOOK - 215
2018-06-28 17:41:42,007 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11249:ZooKeeperServer@174] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test5690536941932137879.junit.dir/version-2 snapdir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test5690536941932137879.junit.dir/version-2
2018-06-28 17:41:42,007 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11247:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:41:42,007 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11245:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:41:42,007 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11249:Leader@380] - LEADING - LEADER ELECTION TOOK - 208
2018-06-28 17:41:42,009 [myid:] - INFO  [LearnerHandler-/127.0.0.1:51079:LearnerHandler@346] - Follower sid: 2 : info : org.apache.zookeeper.server.quorum.QuorumPeer$QuorumServer@7bb001fa
2018-06-28 17:41:42,009 [myid:] - INFO  [LearnerHandler-/127.0.0.1:51080:LearnerHandler@346] - Follower sid: 1 : info : org.apache.zookeeper.server.quorum.QuorumPeer$QuorumServer@175b628a
2018-06-28 17:41:42,011 [myid:] - INFO  [LearnerHandler-/127.0.0.1:51079:LearnerHandler@401] - Synchronizing with Follower sid: 2 maxCommittedLog=0x1fffffffe minCommittedLog=0x10000000d peerLastZxid=0x1fffffffe
2018-06-28 17:41:42,011 [myid:] - INFO  [LearnerHandler-/127.0.0.1:51080:LearnerHandler@401] - Synchronizing with Follower sid: 1 maxCommittedLog=0x1fffffffe minCommittedLog=0x10000000d peerLastZxid=0x1fffffffe
2018-06-28 17:41:42,011 [myid:] - INFO  [LearnerHandler-/127.0.0.1:51079:LearnerHandler@410] - leader and follower are in sync, zxid=0x1fffffffe
2018-06-28 17:41:42,011 [myid:] - INFO  [LearnerHandler-/127.0.0.1:51080:LearnerHandler@410] - leader and follower are in sync, zxid=0x1fffffffe
2018-06-28 17:41:42,011 [myid:] - INFO  [LearnerHandler-/127.0.0.1:51079:LearnerHandler@475] - Sending DIFF
2018-06-28 17:41:42,012 [myid:] - INFO  [LearnerHandler-/127.0.0.1:51080:LearnerHandler@475] - Sending DIFF
2018-06-28 17:41:42,012 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11247:Learner@332] - Getting a diff from the leader 0x1fffffffe
2018-06-28 17:41:42,012 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11245:Learner@332] - Getting a diff from the leader 0x1fffffffe
2018-06-28 17:41:42,014 [myid:] - INFO  [LearnerHandler-/127.0.0.1:51079:LearnerHandler@535] - Received NEWLEADER-ACK message from 2
2018-06-28 17:41:42,014 [myid:] - INFO  [LearnerHandler-/127.0.0.1:51080:LearnerHandler@535] - Received NEWLEADER-ACK message from 1
2018-06-28 17:41:42,014 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11249:Leader@964] - Have quorum of supporters, sids: [ 2,3 ]; starting up and setting last processed zxid: 0x300000000
2018-06-28 17:41:42,051 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11245
2018-06-28 17:41:42,052 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11245:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:51081
2018-06-28 17:41:42,052 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11245:NIOServerCnxn@908] - Processing stat command from /127.0.0.1:51081
2018-06-28 17:41:42,052 [myid:] - INFO  [Thread-97:NIOServerCnxn$StatCommand@687] - Stat command output
2018-06-28 17:41:42,053 [myid:] - INFO  [Thread-97:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:51081 (no session established for client)
2018-06-28 17:41:42,053 [myid:] - INFO  [main:QuorumUtil@139] - 127.0.0.1:11245 is accepting client connections
2018-06-28 17:41:42,053 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11247
2018-06-28 17:41:42,054 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11247:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:51082
2018-06-28 17:41:42,054 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11247:NIOServerCnxn@908] - Processing stat command from /127.0.0.1:51082
2018-06-28 17:41:42,054 [myid:] - INFO  [Thread-98:NIOServerCnxn$StatCommand@687] - Stat command output
2018-06-28 17:41:42,055 [myid:] - INFO  [Thread-98:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:51082 (no session established for client)
2018-06-28 17:41:42,055 [myid:] - INFO  [main:QuorumUtil@139] - 127.0.0.1:11247 is accepting client connections
2018-06-28 17:41:42,055 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11249
2018-06-28 17:41:42,056 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11249:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:51083
2018-06-28 17:41:42,056 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11249:NIOServerCnxn@908] - Processing stat command from /127.0.0.1:51083
2018-06-28 17:41:42,056 [myid:] - INFO  [Thread-99:NIOServerCnxn$StatCommand@687] - Stat command output
2018-06-28 17:41:42,057 [myid:] - INFO  [Thread-99:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:51083 (no session established for client)
2018-06-28 17:41:42,057 [myid:] - INFO  [main:QuorumUtil@139] - 127.0.0.1:11249 is accepting client connections
2018-06-28 17:41:42,058 [myid:] - INFO  [main:JMXEnv@199] - JMXEnv.dump() follows
2018-06-28 17:41:42,059 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.2
2018-06-28 17:41:42,060 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1
2018-06-28 17:41:42,060 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree
2018-06-28 17:41:42,060 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.3
2018-06-28 17:41:42,060 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.3
2018-06-28 17:41:42,060 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1
2018-06-28 17:41:42,060 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2
2018-06-28 17:41:42,060 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2
2018-06-28 17:41:42,060 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.1
2018-06-28 17:41:42,060 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3
2018-06-28 17:41:42,060 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower,name3=InMemoryDataTree
2018-06-28 17:41:42,060 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader
2018-06-28 17:41:42,060 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.2
2018-06-28 17:41:42,060 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.1
2018-06-28 17:41:42,060 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3
2018-06-28 17:41:42,060 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader,name3=InMemoryDataTree
2018-06-28 17:41:42,060 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower
2018-06-28 17:41:42,060 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower
2018-06-28 17:41:42,062 [myid:] - INFO  [main:JMXEnv@118] - expect:InMemoryDataTree
2018-06-28 17:41:42,062 [myid:] - INFO  [main:JMXEnv@121] - found:InMemoryDataTree org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree
2018-06-28 17:41:42,062 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id1,name1=replica.1,name2=
2018-06-28 17:41:42,063 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id1,name1=replica.1,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower
2018-06-28 17:41:42,063 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id2,name1=replica.2,name2=
2018-06-28 17:41:42,063 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id2,name1=replica.2,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower,name3=InMemoryDataTree
2018-06-28 17:41:42,063 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id3,name1=replica.3,name2=
2018-06-28 17:41:42,063 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id3,name1=replica.3,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader
2018-06-28 17:41:42,063 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id1,name1=replica.1
2018-06-28 17:41:42,063 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id1,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1
2018-06-28 17:41:42,063 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id1,name1=replica.2
2018-06-28 17:41:42,063 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id1,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.2
2018-06-28 17:41:42,063 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id1,name1=replica.3
2018-06-28 17:41:42,063 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id1,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.3
2018-06-28 17:41:42,063 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id2,name1=replica.1
2018-06-28 17:41:42,063 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id2,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.1
2018-06-28 17:41:42,063 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id2,name1=replica.2
2018-06-28 17:41:42,063 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id2,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2
2018-06-28 17:41:42,064 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id2,name1=replica.3
2018-06-28 17:41:42,064 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id2,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.3
2018-06-28 17:41:42,064 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id3,name1=replica.1
2018-06-28 17:41:42,064 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id3,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.1
2018-06-28 17:41:42,064 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id3,name1=replica.2
2018-06-28 17:41:42,064 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id3,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.2
2018-06-28 17:41:42,064 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id3,name1=replica.3
2018-06-28 17:41:42,064 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id3,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3
2018-06-28 17:41:42,064 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id1
2018-06-28 17:41:42,064 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id1 org.apache.ZooKeeperService:name0=ReplicatedServer_id1
2018-06-28 17:41:42,064 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id2
2018-06-28 17:41:42,064 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id2 org.apache.ZooKeeperService:name0=ReplicatedServer_id2
2018-06-28 17:41:42,064 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id3
2018-06-28 17:41:42,064 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id3 org.apache.ZooKeeperService:name0=ReplicatedServer_id3
2018-06-28 17:41:42,576 [myid:] - INFO  [main-SendThread(localhost:11247):ClientCnxn$SendThread@1029] - Opening socket connection to server localhost/127.0.0.1:11247. Will not attempt to authenticate using SASL (unknown error)
2018-06-28 17:41:42,576 [myid:] - INFO  [main-SendThread(localhost:11247):ClientCnxn$SendThread@879] - Socket connection established to localhost/127.0.0.1:11247, initiating session
2018-06-28 17:41:42,577 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11247:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:51084
2018-06-28 17:41:42,577 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11247:ZooKeeperServer@942] - Client attempting to renew session 0x200065505490000 at /127.0.0.1:51084
2018-06-28 17:41:42,577 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11247:Learner@108] - Revalidating client: 0x200065505490000
2018-06-28 17:41:42,578 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11247:ZooKeeperServer@694] - Established session 0x200065505490000 with negotiated timeout 30000 for client /127.0.0.1:51084
2018-06-28 17:41:42,578 [myid:] - INFO  [main-SendThread(localhost:11247):ClientCnxn$SendThread@1303] - Session establishment complete on server localhost/127.0.0.1:11247, sessionid = 0x200065505490000, negotiated timeout = 30000
2018-06-28 17:41:43,162 [myid:] - INFO  [main-SendThread(localhost:11245):ClientCnxn$SendThread@1029] - Opening socket connection to server localhost/127.0.0.1:11245. Will not attempt to authenticate using SASL (unknown error)
2018-06-28 17:41:43,163 [myid:] - INFO  [main-SendThread(localhost:11245):ClientCnxn$SendThread@879] - Socket connection established to localhost/127.0.0.1:11245, initiating session
2018-06-28 17:41:43,163 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11245:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:51085
2018-06-28 17:41:43,163 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11245:ZooKeeperServer@942] - Client attempting to renew session 0x100065505490000 at /127.0.0.1:51085
2018-06-28 17:41:43,163 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11245:Learner@108] - Revalidating client: 0x100065505490000
2018-06-28 17:41:43,164 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11245:ZooKeeperServer@694] - Established session 0x100065505490000 with negotiated timeout 30000 for client /127.0.0.1:51085
2018-06-28 17:41:43,164 [myid:] - INFO  [main-SendThread(localhost:11245):ClientCnxn$SendThread@1303] - Session establishment complete on server localhost/127.0.0.1:11245, sessionid = 0x100065505490000, negotiated timeout = 30000
2018-06-28 17:41:43,503 [myid:] - INFO  [main-SendThread(localhost:11249):ClientCnxn$SendThread@1029] - Opening socket connection to server localhost/127.0.0.1:11249. Will not attempt to authenticate using SASL (unknown error)
2018-06-28 17:41:43,504 [myid:] - INFO  [main-SendThread(localhost:11249):ClientCnxn$SendThread@879] - Socket connection established to localhost/127.0.0.1:11249, initiating session
2018-06-28 17:41:43,504 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11249:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:51086
2018-06-28 17:41:43,504 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11249:ZooKeeperServer@942] - Client attempting to renew session 0x3000655054b0000 at /127.0.0.1:51086
2018-06-28 17:41:43,504 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11249:ZooKeeperServer@694] - Established session 0x3000655054b0000 with negotiated timeout 30000 for client /127.0.0.1:51086
2018-06-28 17:41:43,504 [myid:] - INFO  [main-SendThread(localhost:11249):ClientCnxn$SendThread@1303] - Session establishment complete on server localhost/127.0.0.1:11249, sessionid = 0x3000655054b0000, negotiated timeout = 30000
2018-06-28 17:41:43,505 [myid:] - INFO  [main:ZxidRolloverTest@244] - Validating nodes 0 thru 12
2018-06-28 17:41:43,506 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000004
2018-06-28 17:41:43,506 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000005
2018-06-28 17:41:43,507 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000006
2018-06-28 17:41:43,508 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000007
2018-06-28 17:41:43,508 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000008
2018-06-28 17:41:43,509 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000009
2018-06-28 17:41:43,509 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000a
2018-06-28 17:41:43,510 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000b
2018-06-28 17:41:43,510 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000c
2018-06-28 17:41:43,511 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000d
2018-06-28 17:41:43,512 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:1fffffffd
2018-06-28 17:41:43,512 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:1fffffffe
2018-06-28 17:41:43,512 [myid:] - INFO  [main:ZxidRolloverTest@225] - Creating nodes 12 thru 22
2018-06-28 17:41:43,514 [myid:] - INFO  [SyncThread:3:FileTxnLog@213] - Creating new log file: log.300000001
2018-06-28 17:41:43,514 [myid:] - WARN  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11245:Follower@119] - Got zxid 0x300000001 expected 0x1
2018-06-28 17:41:43,514 [myid:] - WARN  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11247:Follower@119] - Got zxid 0x300000001 expected 0x1
2018-06-28 17:41:43,514 [myid:] - INFO  [SyncThread:1:FileTxnLog@213] - Creating new log file: log.300000001
2018-06-28 17:41:43,514 [myid:] - INFO  [SyncThread:2:FileTxnLog@213] - Creating new log file: log.300000001
2018-06-28 17:41:43,525 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@301] - Snapshotting: 0x300000005 to /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test5690536941932137879.junit.dir/version-2/snapshot.300000005
2018-06-28 17:41:43,525 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@301] - Snapshotting: 0x300000005 to /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test4714800816684036148.junit.dir/version-2/snapshot.300000005
2018-06-28 17:41:43,525 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@301] - Snapshotting: 0x300000005 to /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test5462526835103515188.junit.dir/version-2/snapshot.300000005
2018-06-28 17:41:43,526 [myid:] - INFO  [SyncThread:3:FileTxnLog@213] - Creating new log file: log.300000007
2018-06-28 17:41:43,526 [myid:] - INFO  [SyncThread:1:FileTxnLog@213] - Creating new log file: log.300000007
2018-06-28 17:41:43,527 [myid:] - INFO  [SyncThread:2:FileTxnLog@213] - Creating new log file: log.300000007
2018-06-28 17:41:43,530 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@301] - Snapshotting: 0x300000009 to /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test5690536941932137879.junit.dir/version-2/snapshot.300000009
2018-06-28 17:41:43,531 [myid:] - INFO  [main:ZxidRolloverTest@244] - Validating nodes 0 thru 22
2018-06-28 17:41:43,532 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000004
2018-06-28 17:41:43,533 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000005
2018-06-28 17:41:43,533 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000006
2018-06-28 17:41:43,534 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000007
2018-06-28 17:41:43,534 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000008
2018-06-28 17:41:43,535 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000009
2018-06-28 17:41:43,536 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000a
2018-06-28 17:41:43,537 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000b
2018-06-28 17:41:43,538 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000c
2018-06-28 17:41:43,539 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000d
2018-06-28 17:41:43,540 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:1fffffffd
2018-06-28 17:41:43,541 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:1fffffffe
2018-06-28 17:41:43,541 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:300000001
2018-06-28 17:41:43,542 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:300000002
2018-06-28 17:41:43,543 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:300000003
2018-06-28 17:41:43,544 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:300000004
2018-06-28 17:41:43,544 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:300000005
2018-06-28 17:41:43,545 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:300000006
2018-06-28 17:41:43,546 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:300000007
2018-06-28 17:41:43,546 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:300000008
2018-06-28 17:41:43,547 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:300000009
2018-06-28 17:41:43,548 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:30000000a
2018-06-28 17:41:43,548 [myid:] - INFO  [main:ZxidRolloverTest@225] - Creating nodes 22 thru 32
2018-06-28 17:41:43,548 [myid:] - INFO  [SyncThread:3:FileTxnLog@213] - Creating new log file: log.3fffffffd
2018-06-28 17:41:43,549 [myid:] - WARN  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11247:Follower@119] - Got zxid 0x3fffffffd expected 0x30000000b
2018-06-28 17:41:43,549 [myid:] - WARN  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11245:Follower@119] - Got zxid 0x3fffffffd expected 0x30000000b
2018-06-28 17:41:43,568 [myid:] - WARN  [LearnerHandler-/127.0.0.1:51079:Leader@613] - Commiting zxid 0x3fffffffd from /127.0.0.1:12249 not first!
2018-06-28 17:41:43,568 [myid:] - WARN  [LearnerHandler-/127.0.0.1:51079:Leader@615] - First is 0x30000000b
2018-06-28 17:41:43,570 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@301] - Snapshotting: 0x3fffffffd to /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test4714800816684036148.junit.dir/version-2/snapshot.3fffffffd
2018-06-28 17:41:43,570 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@301] - Snapshotting: 0x3fffffffd to /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test5462526835103515188.junit.dir/version-2/snapshot.3fffffffd
2018-06-28 17:41:43,623 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::Leader@520] - Shutting down
2018-06-28 17:41:43,623 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::Leader@526] - Shutdown called
java.lang.Exception: shutdown Leader! reason: zxid lower 32 bits have rolled over, forcing re-election, and therefore new epoch start
	at org.apache.zookeeper.server.quorum.Leader.shutdown(Leader.java:526)
	at org.apache.zookeeper.server.quorum.Leader.propose(Leader.java:772)
	at org.apache.zookeeper.server.quorum.ProposalRequestProcessor.processRequest(ProposalRequestProcessor.java:78)
	at org.apache.zookeeper.server.PrepRequestProcessor.pRequest(PrepRequestProcessor.java:681)
	at org.apache.zookeeper.server.PrepRequestProcessor.run(PrepRequestProcessor.java:134)
2018-06-28 17:41:43,624 [myid:] - INFO  [LearnerCnxAcceptor-/127.0.0.1:12249:Leader$LearnerCnxAcceptor@340] - exception while shutting down acceptor: java.net.SocketException: Socket closed
2018-06-28 17:41:43,624 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:51086 which had sessionid 0x3000655054b0000
2018-06-28 17:41:43,624 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::ZooKeeperServer@502] - shutting down
2018-06-28 17:41:43,624 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::SessionTrackerImpl@226] - Shutting down
2018-06-28 17:41:43,624 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::PrepRequestProcessor@769] - Shutting down
2018-06-28 17:41:43,624 [myid:] - INFO  [main-SendThread(localhost:11249):ClientCnxn$SendThread@1162] - Unable to read additional data from server sessionid 0x3000655054b0000, likely server has closed socket, closing socket connection and attempting reconnect
2018-06-28 17:41:43,624 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::ProposalRequestProcessor@88] - Shutting down
2018-06-28 17:41:43,625 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::CommitProcessor@184] - Shutting down
2018-06-28 17:41:43,625 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::Leader$ToBeAppliedRequestProcessor@685] - Shutting down
2018-06-28 17:41:43,625 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::FinalRequestProcessor@403] - shutdown of request processor complete
2018-06-28 17:41:43,625 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::SyncRequestProcessor@208] - Shutting down
2018-06-28 17:41:43,625 [myid:] - INFO  [CommitProcessor:3:CommitProcessor@153] - CommitProcessor exited loop!
2018-06-28 17:41:43,625 [myid:] - INFO  [SyncThread:3:SyncRequestProcessor@186] - SyncRequestProcessor exited!
2018-06-28 17:41:43,626 [myid:] - WARN  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11247:Follower@90] - Exception when following the leader
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:63)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:99)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:153)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:86)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:981)
2018-06-28 17:41:43,626 [myid:] - WARN  [LearnerHandler-/127.0.0.1:51079:LearnerHandler@661] - ******* GOODBYE /127.0.0.1:51079 ********
2018-06-28 17:41:43,626 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11247:Follower@169] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:169)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:985)
2018-06-28 17:41:43,626 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::PrepRequestProcessor@138] - zxid lower 32 bits have rolled over, forcing re-election, and therefore new epoch start
2018-06-28 17:41:43,626 [myid:] - WARN  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11245:Follower@90] - Exception when following the leader
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:63)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:99)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:153)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:86)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:981)
2018-06-28 17:41:43,626 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11247:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:51084 which had sessionid 0x200065505490000
2018-06-28 17:41:43,626 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11245:Follower@169] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:169)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:985)
2018-06-28 17:41:43,626 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11247:FollowerZooKeeperServer@140] - Shutting down
2018-06-28 17:41:43,626 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11247:ZooKeeperServer@502] - shutting down
2018-06-28 17:41:43,626 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11245:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:51085 which had sessionid 0x100065505490000
2018-06-28 17:41:43,626 [myid:] - ERROR [ProcessThread(sid:3 cport:-1)::ZooKeeperCriticalThread@49] - Severe unrecoverable error, from thread : ProcessThread(sid:3 cport:-1):
org.apache.zookeeper.server.RequestProcessor$RequestProcessorException: zxid lower 32 bits have rolled over, forcing re-election, and therefore new epoch start
	at org.apache.zookeeper.server.quorum.ProposalRequestProcessor.processRequest(ProposalRequestProcessor.java:80)
	at org.apache.zookeeper.server.PrepRequestProcessor.pRequest(PrepRequestProcessor.java:681)
	at org.apache.zookeeper.server.PrepRequestProcessor.run(PrepRequestProcessor.java:134)
Caused by: org.apache.zookeeper.server.quorum.Leader$XidRolloverException: zxid lower 32 bits have rolled over, forcing re-election, and therefore new epoch start
	at org.apache.zookeeper.server.quorum.Leader.propose(Leader.java:773)
	at org.apache.zookeeper.server.quorum.ProposalRequestProcessor.processRequest(ProposalRequestProcessor.java:78)
	... 2 more
2018-06-28 17:41:43,626 [myid:] - WARN  [LearnerHandler-/127.0.0.1:51079:LearnerHandler@673] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1220)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:335)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:339)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:671)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:664)
2018-06-28 17:41:43,626 [myid:] - WARN  [LearnerHandler-/127.0.0.1:51080:LearnerHandler@661] - ******* GOODBYE /127.0.0.1:51080 ********
2018-06-28 17:41:43,627 [myid:] - WARN  [LearnerHandler-/127.0.0.1:51080:LearnerHandler@673] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1220)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:335)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:339)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:671)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:664)
2018-06-28 17:41:43,627 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::ZooKeeperServerListenerImpl@42] - Thread ProcessThread(sid:3 cport:-1): exits, error code 1
2018-06-28 17:41:43,627 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::PrepRequestProcessor@144] - PrepRequestProcessor exited loop!
2018-06-28 17:41:43,627 [myid:] - INFO  [main-SendThread(localhost:11245):ClientCnxn$SendThread@1162] - Unable to read additional data from server sessionid 0x100065505490000, likely server has closed socket, closing socket connection and attempting reconnect
2018-06-28 17:41:43,627 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11245:FollowerZooKeeperServer@140] - Shutting down
2018-06-28 17:41:43,627 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11245:ZooKeeperServer@502] - shutting down
2018-06-28 17:41:43,627 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11245:FollowerRequestProcessor@107] - Shutting down
2018-06-28 17:41:43,626 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11247:FollowerRequestProcessor@107] - Shutting down
2018-06-28 17:41:43,626 [myid:] - INFO  [main-SendThread(localhost:11247):ClientCnxn$SendThread@1162] - Unable to read additional data from server sessionid 0x200065505490000, likely server has closed socket, closing socket connection and attempting reconnect
2018-06-28 17:41:43,628 [myid:] - INFO  [FollowerRequestProcessor:2:FollowerRequestProcessor@97] - FollowerRequestProcessor exited loop!
2018-06-28 17:41:43,628 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11247:CommitProcessor@184] - Shutting down
2018-06-28 17:41:43,628 [myid:] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@97] - FollowerRequestProcessor exited loop!
2018-06-28 17:41:43,628 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11245:CommitProcessor@184] - Shutting down
2018-06-28 17:41:43,628 [myid:] - INFO  [CommitProcessor:2:CommitProcessor@153] - CommitProcessor exited loop!
2018-06-28 17:41:43,628 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11247:FinalRequestProcessor@403] - shutdown of request processor complete
2018-06-28 17:41:43,628 [myid:] - INFO  [CommitProcessor:1:CommitProcessor@153] - CommitProcessor exited loop!
2018-06-28 17:41:43,628 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11245:FinalRequestProcessor@403] - shutdown of request processor complete
2018-06-28 17:41:43,629 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11247:SyncRequestProcessor@208] - Shutting down
2018-06-28 17:41:43,629 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11245:SyncRequestProcessor@208] - Shutting down
2018-06-28 17:41:43,629 [myid:] - INFO  [SyncThread:2:SyncRequestProcessor@186] - SyncRequestProcessor exited!
2018-06-28 17:41:43,629 [myid:] - INFO  [SyncThread:1:SyncRequestProcessor@186] - SyncRequestProcessor exited!
2018-06-28 17:41:43,629 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11247:QuorumPeer@909] - LOOKING
2018-06-28 17:41:43,629 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11245:QuorumPeer@909] - LOOKING
2018-06-28 17:41:43,629 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11245:FastLeaderElection@813] - New election. My id =  1, proposed zxid=0x3fffffffe
2018-06-28 17:41:43,629 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11247:FastLeaderElection@813] - New election. My id =  2, proposed zxid=0x3fffffffe
2018-06-28 17:41:43,629 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x3fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x3 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:43,630 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x3fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 2 (n.sid), 0x3 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:43,630 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x3fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x3 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:43,630 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x3fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 2 (n.sid), 0x3 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:43,630 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x3fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x3 (n.peerEpoch) LEADING (my state)
2018-06-28 17:41:43,630 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x3fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x3 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:43,630 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x3fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 2 (n.sid), 0x3 (n.peerEpoch) LEADING (my state)
2018-06-28 17:41:43,630 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x3fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x3 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:43,630 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x3fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x3 (n.peerEpoch) LEADING (my state)
2018-06-28 17:41:43,630 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x1fffffffe (n.zxid), 0x1 (n.round), LEADING (n.state), 3 (n.sid), 0x3 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:43,630 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x1fffffffe (n.zxid), 0x1 (n.round), LEADING (n.state), 3 (n.sid), 0x3 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:43,630 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x1fffffffe (n.zxid), 0x1 (n.round), LEADING (n.state), 3 (n.sid), 0x3 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:43,835 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11245:QuorumPeer@979] - FOLLOWING
2018-06-28 17:41:43,835 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11245:ZooKeeperServer@174] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test4714800816684036148.junit.dir/version-2 snapdir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test4714800816684036148.junit.dir/version-2
2018-06-28 17:41:43,835 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11247:QuorumPeer@991] - LEADING
2018-06-28 17:41:43,836 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11245:Follower@65] - FOLLOWING - LEADER ELECTION TOOK - 206
2018-06-28 17:41:43,836 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11247:ZooKeeperServer@174] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test5462526835103515188.junit.dir/version-2 snapdir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test5462526835103515188.junit.dir/version-2
2018-06-28 17:41:43,836 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11247:Leader@380] - LEADING - LEADER ELECTION TOOK - 207
2018-06-28 17:41:43,836 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11245:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:41:43,837 [myid:] - INFO  [LearnerHandler-/127.0.0.1:51087:LearnerHandler@346] - Follower sid: 1 : info : org.apache.zookeeper.server.quorum.QuorumPeer$QuorumServer@175b628a
2018-06-28 17:41:43,840 [myid:] - INFO  [LearnerHandler-/127.0.0.1:51087:LearnerHandler@401] - Synchronizing with Follower sid: 1 maxCommittedLog=0x3fffffffe minCommittedLog=0x1fffffffe peerLastZxid=0x3fffffffe
2018-06-28 17:41:43,840 [myid:] - INFO  [LearnerHandler-/127.0.0.1:51087:LearnerHandler@410] - leader and follower are in sync, zxid=0x3fffffffe
2018-06-28 17:41:43,840 [myid:] - INFO  [LearnerHandler-/127.0.0.1:51087:LearnerHandler@475] - Sending DIFF
2018-06-28 17:41:43,841 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11245:Learner@332] - Getting a diff from the leader 0x3fffffffe
2018-06-28 17:41:43,843 [myid:] - INFO  [LearnerHandler-/127.0.0.1:51087:LearnerHandler@535] - Received NEWLEADER-ACK message from 1
2018-06-28 17:41:43,843 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11247:Leader@964] - Have quorum of supporters, sids: [ 1,2 ]; starting up and setting last processed zxid: 0x400000000
2018-06-28 17:41:44,016 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11249:Leader@520] - Shutting down
2018-06-28 17:41:44,017 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11249:QuorumPeer@909] - LOOKING
2018-06-28 17:41:44,017 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11249:FastLeaderElection@813] - New election. My id =  3, proposed zxid=0x3fffffffe
2018-06-28 17:41:44,017 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x3fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 3 (n.sid), 0x3 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:44,017 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x3fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 3 (n.sid), 0x3 (n.peerEpoch) LEADING (my state)
2018-06-28 17:41:44,017 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x3fffffffe (n.zxid), 0x2 (n.round), LOOKING (n.state), 3 (n.sid), 0x3 (n.peerEpoch) FOLLOWING (my state)
2018-06-28 17:41:44,018 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x3fffffffe (n.zxid), 0x2 (n.round), LEADING (n.state), 2 (n.sid), 0x4 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:44,018 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x3fffffffe (n.zxid), 0x2 (n.round), FOLLOWING (n.state), 1 (n.sid), 0x4 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:44,018 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11249:QuorumPeer@979] - FOLLOWING
2018-06-28 17:41:44,018 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11249:ZooKeeperServer@174] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test5690536941932137879.junit.dir/version-2 snapdir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test5690536941932137879.junit.dir/version-2
2018-06-28 17:41:44,018 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11249:Follower@65] - FOLLOWING - LEADER ELECTION TOOK - 1
2018-06-28 17:41:44,018 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11249:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:41:44,019 [myid:] - INFO  [LearnerHandler-/127.0.0.1:51088:LearnerHandler@346] - Follower sid: 3 : info : org.apache.zookeeper.server.quorum.QuorumPeer$QuorumServer@6287d4e
2018-06-28 17:41:44,020 [myid:] - INFO  [LearnerHandler-/127.0.0.1:51088:LearnerHandler@401] - Synchronizing with Follower sid: 3 maxCommittedLog=0x3fffffffe minCommittedLog=0x1fffffffe peerLastZxid=0x3fffffffe
2018-06-28 17:41:44,021 [myid:] - INFO  [LearnerHandler-/127.0.0.1:51088:LearnerHandler@475] - Sending DIFF
2018-06-28 17:41:44,021 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11249:Learner@332] - Getting a diff from the leader 0x3fffffffe
2018-06-28 17:41:44,022 [myid:] - INFO  [LearnerHandler-/127.0.0.1:51088:LearnerHandler@535] - Received NEWLEADER-ACK message from 3
2018-06-28 17:41:44,669 [myid:] - INFO  [SessionTracker:SessionTrackerImpl@163] - SessionTrackerImpl exited loop!
2018-06-28 17:41:44,842 [myid:] - INFO  [main-SendThread(localhost:11249):ClientCnxn$SendThread@1029] - Opening socket connection to server localhost/127.0.0.1:11249. Will not attempt to authenticate using SASL (unknown error)
2018-06-28 17:41:44,842 [myid:] - INFO  [main-SendThread(localhost:11249):ClientCnxn$SendThread@879] - Socket connection established to localhost/127.0.0.1:11249, initiating session
2018-06-28 17:41:44,843 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11249:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:51089
2018-06-28 17:41:44,843 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11249:ZooKeeperServer@942] - Client attempting to renew session 0x3000655054b0000 at /127.0.0.1:51089
2018-06-28 17:41:44,843 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11249:Learner@108] - Revalidating client: 0x3000655054b0000
2018-06-28 17:41:44,844 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11249:ZooKeeperServer@694] - Established session 0x3000655054b0000 with negotiated timeout 30000 for client /127.0.0.1:51089
2018-06-28 17:41:44,844 [myid:] - INFO  [main-SendThread(localhost:11249):ClientCnxn$SendThread@1303] - Session establishment complete on server localhost/127.0.0.1:11249, sessionid = 0x3000655054b0000, negotiated timeout = 30000
2018-06-28 17:41:44,844 [myid:] - INFO  [main:QuorumUtil@227] - Shutting down quorum peer QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11245
2018-06-28 17:41:44,844 [myid:] - INFO  [main:Follower@169] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:169)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1026)
	at org.apache.zookeeper.test.QuorumUtil.shutdown(QuorumUtil.java:228)
	at org.apache.zookeeper.test.QuorumUtil.shutdownAll(QuorumUtil.java:215)
	at org.apache.zookeeper.server.ZxidRolloverTest.shutdownAll(ZxidRolloverTest.java:177)
	at org.apache.zookeeper.server.ZxidRolloverTest.testRolloverThenRestart(ZxidRolloverTest.java:292)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:536)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1205)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1048)
2018-06-28 17:41:44,844 [myid:] - INFO  [main:FollowerZooKeeperServer@140] - Shutting down
2018-06-28 17:41:44,844 [myid:] - INFO  [main:ZooKeeperServer@502] - shutting down
2018-06-28 17:41:44,844 [myid:] - INFO  [main:FollowerRequestProcessor@107] - Shutting down
2018-06-28 17:41:44,844 [myid:] - INFO  [main:CommitProcessor@184] - Shutting down
2018-06-28 17:41:44,844 [myid:] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@97] - FollowerRequestProcessor exited loop!
2018-06-28 17:41:44,845 [myid:] - INFO  [CommitProcessor:1:CommitProcessor@153] - CommitProcessor exited loop!
2018-06-28 17:41:44,845 [myid:] - INFO  [main:FinalRequestProcessor@403] - shutdown of request processor complete
2018-06-28 17:41:44,846 [myid:] - INFO  [main:SyncRequestProcessor@208] - Shutting down
2018-06-28 17:41:44,846 [myid:] - INFO  [SyncThread:1:SyncRequestProcessor@186] - SyncRequestProcessor exited!
2018-06-28 17:41:44,846 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11245:Follower@169] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:169)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:985)
2018-06-28 17:41:44,847 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11245:NIOServerCnxnFactory@242] - NIOServerCnxn factory exited run method
2018-06-28 17:41:44,847 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11245:FollowerZooKeeperServer@140] - Shutting down
2018-06-28 17:41:44,847 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11245:SyncRequestProcessor@208] - Shutting down
2018-06-28 17:41:44,848 [myid:] - WARN  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11245:QuorumPeer@1009] - QuorumPeer main thread exited
2018-06-28 17:41:44,848 [myid:] - ERROR [/127.0.0.1:12246:QuorumCnxManager$Listener@760] - Exception while listening
java.net.SocketException: Socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:409)
	at java.net.ServerSocket.implAccept(ServerSocket.java:545)
	at java.net.ServerSocket.accept(ServerSocket.java:513)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$Listener.run(QuorumCnxManager.java:741)
2018-06-28 17:41:44,848 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1025] - Connection broken for id 1, my id = 2, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1010)
2018-06-28 17:41:44,849 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1025] - Connection broken for id 3, my id = 1, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1010)
2018-06-28 17:41:44,849 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1028] - Interrupting SendWorker
2018-06-28 17:41:44,849 [myid:] - INFO  [main:QuorumUtil@231] - Shutting down leader election QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11245
2018-06-28 17:41:44,849 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1028] - Interrupting SendWorker
2018-06-28 17:41:44,849 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1025] - Connection broken for id 2, my id = 1, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1010)
2018-06-28 17:41:44,849 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@941] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:418)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1094)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$700(QuorumCnxManager.java:74)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:929)
2018-06-28 17:41:44,850 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@951] - Send worker leaving thread
2018-06-28 17:41:44,849 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@941] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:418)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1094)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$700(QuorumCnxManager.java:74)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:929)
2018-06-28 17:41:44,850 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@951] - Send worker leaving thread
2018-06-28 17:41:44,848 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1025] - Connection broken for id 1, my id = 3, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1010)
2018-06-28 17:41:44,850 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1028] - Interrupting SendWorker
2018-06-28 17:41:44,848 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@941] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:418)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1094)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$700(QuorumCnxManager.java:74)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:929)
2018-06-28 17:41:44,850 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@951] - Send worker leaving thread
2018-06-28 17:41:44,850 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@941] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:418)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1094)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$700(QuorumCnxManager.java:74)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:929)
2018-06-28 17:41:44,850 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@951] - Send worker leaving thread
2018-06-28 17:41:44,849 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1028] - Interrupting SendWorker
2018-06-28 17:41:44,849 [myid:] - INFO  [main:QuorumUtil@236] - Waiting for QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11245 to exit thread
2018-06-28 17:41:44,850 [myid:] - INFO  [main:QuorumUtil@227] - Shutting down quorum peer QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11247
2018-06-28 17:41:44,850 [myid:] - INFO  [main:Leader@520] - Shutting down
2018-06-28 17:41:44,851 [myid:] - INFO  [main:Leader@526] - Shutdown called
java.lang.Exception: shutdown Leader! reason: quorum Peer shutdown
	at org.apache.zookeeper.server.quorum.Leader.shutdown(Leader.java:526)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1023)
	at org.apache.zookeeper.test.QuorumUtil.shutdown(QuorumUtil.java:228)
	at org.apache.zookeeper.test.QuorumUtil.shutdownAll(QuorumUtil.java:215)
	at org.apache.zookeeper.server.ZxidRolloverTest.shutdownAll(ZxidRolloverTest.java:177)
	at org.apache.zookeeper.server.ZxidRolloverTest.testRolloverThenRestart(ZxidRolloverTest.java:292)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:536)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1205)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1048)
2018-06-28 17:41:44,851 [myid:] - INFO  [main:ZooKeeperServer@502] - shutting down
2018-06-28 17:41:44,851 [myid:] - INFO  [main:SessionTrackerImpl@226] - Shutting down
2018-06-28 17:41:44,851 [myid:] - INFO  [main:PrepRequestProcessor@769] - Shutting down
2018-06-28 17:41:44,851 [myid:] - INFO  [LearnerCnxAcceptor-/127.0.0.1:12247:Leader$LearnerCnxAcceptor@340] - exception while shutting down acceptor: java.net.SocketException: Socket closed
2018-06-28 17:41:44,851 [myid:] - INFO  [ProcessThread(sid:2 cport:-1)::PrepRequestProcessor@144] - PrepRequestProcessor exited loop!
2018-06-28 17:41:44,851 [myid:] - INFO  [main:ProposalRequestProcessor@88] - Shutting down
2018-06-28 17:41:44,851 [myid:] - INFO  [main:CommitProcessor@184] - Shutting down
2018-06-28 17:41:44,851 [myid:] - INFO  [main:Leader$ToBeAppliedRequestProcessor@685] - Shutting down
2018-06-28 17:41:44,852 [myid:] - INFO  [main:FinalRequestProcessor@403] - shutdown of request processor complete
2018-06-28 17:41:44,852 [myid:] - INFO  [main:SyncRequestProcessor@208] - Shutting down
2018-06-28 17:41:44,852 [myid:] - INFO  [CommitProcessor:2:CommitProcessor@153] - CommitProcessor exited loop!
2018-06-28 17:41:44,852 [myid:] - INFO  [SyncThread:2:SyncRequestProcessor@186] - SyncRequestProcessor exited!
2018-06-28 17:41:44,852 [myid:] - WARN  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11249:Follower@90] - Exception when following the leader
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:63)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:99)
	at org.apache.zookeeper.server.quorum.Learner.readPacket(Learner.java:153)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:86)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:981)
2018-06-28 17:41:44,853 [myid:] - WARN  [LearnerHandler-/127.0.0.1:51088:LearnerHandler@661] - ******* GOODBYE /127.0.0.1:51088 ********
2018-06-28 17:41:44,853 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11249:Follower@169] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:169)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:985)
2018-06-28 17:41:44,853 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11247:NIOServerCnxnFactory@242] - NIOServerCnxn factory exited run method
2018-06-28 17:41:44,853 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11249:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:51089 which had sessionid 0x3000655054b0000
2018-06-28 17:41:44,853 [myid:] - WARN  [LearnerHandler-/127.0.0.1:51087:LearnerHandler@661] - ******* GOODBYE /127.0.0.1:51087 ********
2018-06-28 17:41:44,853 [myid:] - WARN  [LearnerHandler-/127.0.0.1:51088:LearnerHandler@673] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1220)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:335)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:339)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:671)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:664)
2018-06-28 17:41:44,853 [myid:] - ERROR [/127.0.0.1:12248:QuorumCnxManager$Listener@760] - Exception while listening
java.net.SocketException: Socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:409)
	at java.net.ServerSocket.implAccept(ServerSocket.java:545)
	at java.net.ServerSocket.accept(ServerSocket.java:513)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$Listener.run(QuorumCnxManager.java:741)
2018-06-28 17:41:44,854 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1025] - Connection broken for id 3, my id = 2, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1010)
2018-06-28 17:41:44,854 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1028] - Interrupting SendWorker
2018-06-28 17:41:44,854 [myid:] - INFO  [main:QuorumUtil@231] - Shutting down leader election QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11247
2018-06-28 17:41:44,853 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1025] - Connection broken for id 2, my id = 3, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1010)
2018-06-28 17:41:44,854 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1028] - Interrupting SendWorker
2018-06-28 17:41:44,853 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@941] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:418)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1094)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$700(QuorumCnxManager.java:74)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:929)
2018-06-28 17:41:44,854 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@951] - Send worker leaving thread
2018-06-28 17:41:44,853 [myid:] - WARN  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11247:QuorumPeer@997] - Unexpected exception
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at org.apache.zookeeper.server.quorum.Leader.lead(Leader.java:474)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:994)
2018-06-28 17:41:44,855 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11247:Leader@520] - Shutting down
2018-06-28 17:41:44,855 [myid:] - WARN  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11247:QuorumPeer@1009] - QuorumPeer main thread exited
2018-06-28 17:41:44,853 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11249:FollowerZooKeeperServer@140] - Shutting down
2018-06-28 17:41:44,855 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11249:ZooKeeperServer@502] - shutting down
2018-06-28 17:41:44,855 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11249:FollowerRequestProcessor@107] - Shutting down
2018-06-28 17:41:44,853 [myid:] - INFO  [main-SendThread(localhost:11249):ClientCnxn$SendThread@1162] - Unable to read additional data from server sessionid 0x3000655054b0000, likely server has closed socket, closing socket connection and attempting reconnect
2018-06-28 17:41:44,853 [myid:] - WARN  [LearnerHandler-/127.0.0.1:51087:LearnerHandler@673] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1220)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:335)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:339)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:671)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:664)
2018-06-28 17:41:44,855 [myid:] - INFO  [FollowerRequestProcessor:3:FollowerRequestProcessor@97] - FollowerRequestProcessor exited loop!
2018-06-28 17:41:44,855 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11249:CommitProcessor@184] - Shutting down
2018-06-28 17:41:44,854 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@941] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:418)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1094)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$700(QuorumCnxManager.java:74)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:929)
2018-06-28 17:41:44,855 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@951] - Send worker leaving thread
2018-06-28 17:41:44,854 [myid:] - INFO  [main:QuorumUtil@236] - Waiting for QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11247 to exit thread
2018-06-28 17:41:44,855 [myid:] - INFO  [CommitProcessor:3:CommitProcessor@153] - CommitProcessor exited loop!
2018-06-28 17:41:44,855 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11249:FinalRequestProcessor@403] - shutdown of request processor complete
2018-06-28 17:41:44,855 [myid:] - INFO  [main:QuorumUtil@227] - Shutting down quorum peer QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11249
2018-06-28 17:41:44,856 [myid:] - INFO  [main:Follower@169] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:169)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1026)
	at org.apache.zookeeper.test.QuorumUtil.shutdown(QuorumUtil.java:228)
	at org.apache.zookeeper.test.QuorumUtil.shutdownAll(QuorumUtil.java:215)
	at org.apache.zookeeper.server.ZxidRolloverTest.shutdownAll(ZxidRolloverTest.java:177)
	at org.apache.zookeeper.server.ZxidRolloverTest.testRolloverThenRestart(ZxidRolloverTest.java:292)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:536)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1205)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1048)
2018-06-28 17:41:44,856 [myid:] - INFO  [main:FollowerZooKeeperServer@140] - Shutting down
2018-06-28 17:41:44,856 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11249:SyncRequestProcessor@208] - Shutting down
2018-06-28 17:41:44,856 [myid:] - INFO  [main:SyncRequestProcessor@208] - Shutting down
2018-06-28 17:41:44,856 [myid:] - INFO  [SyncThread:3:SyncRequestProcessor@186] - SyncRequestProcessor exited!
2018-06-28 17:41:44,856 [myid:] - WARN  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11249:QuorumPeer@1009] - QuorumPeer main thread exited
2018-06-28 17:41:44,856 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11249:NIOServerCnxnFactory@242] - NIOServerCnxn factory exited run method
2018-06-28 17:41:44,857 [myid:] - ERROR [/127.0.0.1:12250:QuorumCnxManager$Listener@760] - Exception while listening
java.net.SocketException: Socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:409)
	at java.net.ServerSocket.implAccept(ServerSocket.java:545)
	at java.net.ServerSocket.accept(ServerSocket.java:513)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$Listener.run(QuorumCnxManager.java:741)
2018-06-28 17:41:44,857 [myid:] - INFO  [main:QuorumUtil@231] - Shutting down leader election QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11249
2018-06-28 17:41:44,857 [myid:] - INFO  [main:QuorumUtil@236] - Waiting for QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11249 to exit thread
2018-06-28 17:41:44,857 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11245
2018-06-28 17:41:44,857 [myid:] - INFO  [main:QuorumUtil@220] - 127.0.0.1:11245 is no longer accepting client connections
2018-06-28 17:41:44,857 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11247
2018-06-28 17:41:44,857 [myid:] - INFO  [main:QuorumUtil@220] - 127.0.0.1:11247 is no longer accepting client connections
2018-06-28 17:41:44,857 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11249
2018-06-28 17:41:44,858 [myid:] - INFO  [main:QuorumUtil@220] - 127.0.0.1:11249 is no longer accepting client connections
2018-06-28 17:41:45,171 [myid:] - INFO  [main-SendThread(localhost:11247):ClientCnxn$SendThread@1029] - Opening socket connection to server localhost/127.0.0.1:11247. Will not attempt to authenticate using SASL (unknown error)
2018-06-28 17:41:45,172 [myid:] - INFO  [main-SendThread(localhost:11247):ClientCnxn$SendThread@1166] - Socket error occurred: localhost/127.0.0.1:11247: Connection refused
2018-06-28 17:41:45,624 [myid:] - INFO  [main-SendThread(localhost:11245):ClientCnxn$SendThread@1029] - Opening socket connection to server localhost/127.0.0.1:11245. Will not attempt to authenticate using SASL (unknown error)
2018-06-28 17:41:45,625 [myid:] - INFO  [main-SendThread(localhost:11245):ClientCnxn$SendThread@1166] - Socket error occurred: localhost/127.0.0.1:11245: Connection refused
2018-06-28 17:41:45,848 [myid:] - INFO  [/127.0.0.1:12246:QuorumCnxManager$Listener@773] - Leaving listener
2018-06-28 17:41:45,858 [myid:] - INFO  [/127.0.0.1:12248:QuorumCnxManager$Listener@773] - Leaving listener
2018-06-28 17:41:45,858 [myid:] - INFO  [/127.0.0.1:12250:QuorumCnxManager$Listener@773] - Leaving listener
2018-06-28 17:41:46,664 [myid:] - INFO  [SessionTracker:SessionTrackerImpl@163] - SessionTrackerImpl exited loop!
2018-06-28 17:41:46,801 [myid:] - INFO  [main-SendThread(localhost:11249):ClientCnxn$SendThread@1029] - Opening socket connection to server localhost/127.0.0.1:11249. Will not attempt to authenticate using SASL (unknown error)
2018-06-28 17:41:46,801 [myid:] - INFO  [main-SendThread(localhost:11249):ClientCnxn$SendThread@1166] - Socket error occurred: localhost/127.0.0.1:11249: Connection refused
2018-06-28 17:41:47,017 [myid:] - INFO  [WorkerSender[myid=3]:FastLeaderElection$Messenger$WorkerSender@440] - WorkerSender is down
2018-06-28 17:41:47,018 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@409] - WorkerReceiver is down
2018-06-28 17:41:47,018 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@409] - WorkerReceiver is down
2018-06-28 17:41:47,018 [myid:] - INFO  [WorkerSender[myid=2]:FastLeaderElection$Messenger$WorkerSender@440] - WorkerSender is down
2018-06-28 17:41:47,018 [myid:] - INFO  [WorkerSender[myid=1]:FastLeaderElection$Messenger$WorkerSender@440] - WorkerSender is down
2018-06-28 17:41:47,018 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@409] - WorkerReceiver is down
2018-06-28 17:41:47,058 [myid:] - INFO  [main-SendThread(localhost:11245):ClientCnxn$SendThread@1029] - Opening socket connection to server localhost/127.0.0.1:11245. Will not attempt to authenticate using SASL (unknown error)
2018-06-28 17:41:47,059 [myid:] - INFO  [main-SendThread(localhost:11245):ClientCnxn$SendThread@1166] - Socket error occurred: localhost/127.0.0.1:11245: Connection refused
2018-06-28 17:41:47,109 [myid:] - INFO  [main-SendThread(localhost:11247):ClientCnxn$SendThread@1029] - Opening socket connection to server localhost/127.0.0.1:11247. Will not attempt to authenticate using SASL (unknown error)
2018-06-28 17:41:47,110 [myid:] - INFO  [main-SendThread(localhost:11247):ClientCnxn$SendThread@1166] - Socket error occurred: localhost/127.0.0.1:11247: Connection refused
2018-06-28 17:41:48,128 [myid:] - INFO  [main-SendThread(localhost:11249):ClientCnxn$SendThread@1029] - Opening socket connection to server localhost/127.0.0.1:11249. Will not attempt to authenticate using SASL (unknown error)
2018-06-28 17:41:48,128 [myid:] - INFO  [main-SendThread(localhost:11249):ClientCnxn$SendThread@1166] - Socket error occurred: localhost/127.0.0.1:11249: Connection refused
2018-06-28 17:41:48,229 [myid:] - INFO  [main:QuorumUtil@227] - Shutting down quorum peer QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11245
2018-06-28 17:41:48,230 [myid:] - INFO  [main:QuorumUtil@231] - Shutting down leader election QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11245
2018-06-28 17:41:48,230 [myid:] - INFO  [main:QuorumUtil@236] - Waiting for QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11245 to exit thread
2018-06-28 17:41:48,230 [myid:] - INFO  [main:QuorumUtil@227] - Shutting down quorum peer QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11247
2018-06-28 17:41:48,230 [myid:] - INFO  [main:QuorumUtil@231] - Shutting down leader election QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11247
2018-06-28 17:41:48,230 [myid:] - INFO  [main:QuorumUtil@236] - Waiting for QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11247 to exit thread
2018-06-28 17:41:48,230 [myid:] - INFO  [main:QuorumUtil@227] - Shutting down quorum peer QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11249
2018-06-28 17:41:48,230 [myid:] - INFO  [main:QuorumUtil@231] - Shutting down leader election QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11249
2018-06-28 17:41:48,230 [myid:] - INFO  [main:QuorumUtil@236] - Waiting for QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11249 to exit thread
2018-06-28 17:41:48,230 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11245
2018-06-28 17:41:48,231 [myid:] - INFO  [main:QuorumUtil@220] - 127.0.0.1:11245 is no longer accepting client connections
2018-06-28 17:41:48,231 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11247
2018-06-28 17:41:48,231 [myid:] - INFO  [main:QuorumUtil@220] - 127.0.0.1:11247 is no longer accepting client connections
2018-06-28 17:41:48,231 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11249
2018-06-28 17:41:48,232 [myid:] - INFO  [main:QuorumUtil@220] - 127.0.0.1:11249 is no longer accepting client connections
2018-06-28 17:41:48,232 [myid:] - INFO  [main:QuorumUtil@186] - Creating QuorumPeer 1; public port 11245
2018-06-28 17:41:48,232 [myid:] - INFO  [main:ServerCnxnFactory@117] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2018-06-28 17:41:48,232 [myid:] - INFO  [main:NIOServerCnxnFactory@89] - binding to port 0.0.0.0/0.0.0.0:11245
2018-06-28 17:41:48,233 [myid:] - INFO  [main:FileSnap@86] - Reading snapshot /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test4714800816684036148.junit.dir/version-2/snapshot.3fffffffd
2018-06-28 17:41:48,235 [myid:] - INFO  [ListenerThread:QuorumCnxManager$Listener@736] - My election bind port: /127.0.0.1:12246
2018-06-28 17:41:48,235 [myid:] - INFO  [main:QuorumUtil@132] - Started QuorumPeer 1
2018-06-28 17:41:48,235 [myid:] - INFO  [main:QuorumUtil@186] - Creating QuorumPeer 2; public port 11247
2018-06-28 17:41:48,235 [myid:] - INFO  [main:ServerCnxnFactory@117] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2018-06-28 17:41:48,235 [myid:] - INFO  [main:NIOServerCnxnFactory@89] - binding to port 0.0.0.0/0.0.0.0:11247
2018-06-28 17:41:48,236 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11245:QuorumPeer@909] - LOOKING
2018-06-28 17:41:48,236 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11245:FastLeaderElection@813] - New election. My id =  1, proposed zxid=0x3fffffffe
2018-06-28 17:41:48,236 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x3fffffffe (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x4 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:48,236 [myid:] - INFO  [main:FileSnap@86] - Reading snapshot /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test5462526835103515188.junit.dir/version-2/snapshot.3fffffffd
2018-06-28 17:41:48,236 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@584] - Cannot open channel to 2 at election address /127.0.0.1:12248
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:558)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:534)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:454)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:435)
	at java.lang.Thread.run(Thread.java:748)
2018-06-28 17:41:48,236 [myid:] - INFO  [WorkerSender[myid=1]:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:41:48,237 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@584] - Cannot open channel to 3 at election address /127.0.0.1:12250
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:558)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:534)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:454)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:435)
	at java.lang.Thread.run(Thread.java:748)
2018-06-28 17:41:48,237 [myid:] - INFO  [WorkerSender[myid=1]:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:41:48,238 [myid:] - INFO  [ListenerThread:QuorumCnxManager$Listener@736] - My election bind port: /127.0.0.1:12248
2018-06-28 17:41:48,238 [myid:] - INFO  [main:QuorumUtil@132] - Started QuorumPeer 2
2018-06-28 17:41:48,238 [myid:] - INFO  [main:QuorumUtil@186] - Creating QuorumPeer 3; public port 11249
2018-06-28 17:41:48,238 [myid:] - INFO  [main:ServerCnxnFactory@117] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2018-06-28 17:41:48,238 [myid:] - INFO  [main:NIOServerCnxnFactory@89] - binding to port 0.0.0.0/0.0.0.0:11249
2018-06-28 17:41:48,239 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11247:QuorumPeer@909] - LOOKING
2018-06-28 17:41:48,239 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11247:FastLeaderElection@813] - New election. My id =  2, proposed zxid=0x3fffffffe
2018-06-28 17:41:48,239 [myid:] - INFO  [/127.0.0.1:12246:QuorumCnxManager$Listener@743] - Received connection request /127.0.0.1:51104
2018-06-28 17:41:48,239 [myid:] - INFO  [main:FileSnap@86] - Reading snapshot /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test5690536941932137879.junit.dir/version-2/snapshot.300000009
2018-06-28 17:41:48,240 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x3fffffffe (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x4 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:48,240 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x3fffffffe (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x4 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:48,240 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x3fffffffe (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x4 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:48,240 [myid:] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@584] - Cannot open channel to 3 at election address /127.0.0.1:12250
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:558)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:534)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:454)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:435)
	at java.lang.Thread.run(Thread.java:748)
2018-06-28 17:41:48,240 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x3fffffffe (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x4 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:48,240 [myid:] - INFO  [WorkerSender[myid=2]:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:41:48,240 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@584] - Cannot open channel to 3 at election address /127.0.0.1:12250
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:558)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:534)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:454)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:435)
	at java.lang.Thread.run(Thread.java:748)
2018-06-28 17:41:48,240 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x3fffffffe (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x4 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:48,241 [myid:] - INFO  [WorkerSender[myid=1]:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:41:48,241 [myid:] - INFO  [ListenerThread:QuorumCnxManager$Listener@736] - My election bind port: /127.0.0.1:12250
2018-06-28 17:41:48,242 [myid:] - INFO  [main:QuorumUtil@132] - Started QuorumPeer 3
2018-06-28 17:41:48,242 [myid:] - INFO  [main:QuorumUtil@135] - Checking ports 127.0.0.1:11245,127.0.0.1:11247,127.0.0.1:11249
2018-06-28 17:41:48,242 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11245
2018-06-28 17:41:48,242 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11249:QuorumPeer@909] - LOOKING
2018-06-28 17:41:48,242 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11249:FastLeaderElection@813] - New election. My id =  3, proposed zxid=0x3fffffffe
2018-06-28 17:41:48,242 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11245:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:51107
2018-06-28 17:41:48,242 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11245:NIOServerCnxn@908] - Processing stat command from /127.0.0.1:51107
2018-06-28 17:41:48,243 [myid:] - INFO  [/127.0.0.1:12246:QuorumCnxManager$Listener@743] - Received connection request /127.0.0.1:51108
2018-06-28 17:41:48,243 [myid:] - INFO  [Thread-102:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:51107 (no session established for client)
2018-06-28 17:41:48,243 [myid:] - INFO  [/127.0.0.1:12248:QuorumCnxManager$Listener@743] - Received connection request /127.0.0.1:51109
2018-06-28 17:41:48,244 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x3fffffffe (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x4 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:48,244 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x3fffffffe (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x4 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:48,244 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x3fffffffe (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x4 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:48,244 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x3fffffffe (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x4 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:48,244 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x3fffffffe (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x4 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:48,244 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x3fffffffe (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x4 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:48,244 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x3fffffffe (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x4 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:48,244 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x3fffffffe (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x4 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:48,244 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x3fffffffe (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x4 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:48,244 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x3fffffffe (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x4 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:48,244 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x3fffffffe (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x4 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:48,448 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11249:QuorumPeer@991] - LEADING
2018-06-28 17:41:48,448 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11249:ZooKeeperServer@174] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test5690536941932137879.junit.dir/version-2 snapdir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test5690536941932137879.junit.dir/version-2
2018-06-28 17:41:48,448 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11247:QuorumPeer@979] - FOLLOWING
2018-06-28 17:41:48,448 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11247:ZooKeeperServer@174] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test5462526835103515188.junit.dir/version-2 snapdir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test5462526835103515188.junit.dir/version-2
2018-06-28 17:41:48,448 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11245:QuorumPeer@979] - FOLLOWING
2018-06-28 17:41:48,448 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11247:Follower@65] - FOLLOWING - LEADER ELECTION TOOK - 210
2018-06-28 17:41:48,448 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11249:Leader@380] - LEADING - LEADER ELECTION TOOK - 206
2018-06-28 17:41:48,448 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11245:ZooKeeperServer@174] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test4714800816684036148.junit.dir/version-2 snapdir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test4714800816684036148.junit.dir/version-2
2018-06-28 17:41:48,449 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11247:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:41:48,449 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11245:Follower@65] - FOLLOWING - LEADER ELECTION TOOK - 213
2018-06-28 17:41:48,449 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11245:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:41:48,450 [myid:] - INFO  [LearnerHandler-/127.0.0.1:51110:LearnerHandler@346] - Follower sid: 2 : info : org.apache.zookeeper.server.quorum.QuorumPeer$QuorumServer@7bb001fa
2018-06-28 17:41:48,450 [myid:] - INFO  [LearnerHandler-/127.0.0.1:51111:LearnerHandler@346] - Follower sid: 1 : info : org.apache.zookeeper.server.quorum.QuorumPeer$QuorumServer@175b628a
2018-06-28 17:41:48,459 [myid:] - INFO  [LearnerHandler-/127.0.0.1:51110:LearnerHandler@401] - Synchronizing with Follower sid: 2 maxCommittedLog=0x3fffffffe minCommittedLog=0x30000000a peerLastZxid=0x3fffffffe
2018-06-28 17:41:48,459 [myid:] - INFO  [LearnerHandler-/127.0.0.1:51111:LearnerHandler@401] - Synchronizing with Follower sid: 1 maxCommittedLog=0x3fffffffe minCommittedLog=0x30000000a peerLastZxid=0x3fffffffe
2018-06-28 17:41:48,459 [myid:] - INFO  [LearnerHandler-/127.0.0.1:51110:LearnerHandler@410] - leader and follower are in sync, zxid=0x3fffffffe
2018-06-28 17:41:48,459 [myid:] - INFO  [LearnerHandler-/127.0.0.1:51111:LearnerHandler@410] - leader and follower are in sync, zxid=0x3fffffffe
2018-06-28 17:41:48,460 [myid:] - INFO  [LearnerHandler-/127.0.0.1:51111:LearnerHandler@475] - Sending DIFF
2018-06-28 17:41:48,460 [myid:] - INFO  [LearnerHandler-/127.0.0.1:51110:LearnerHandler@475] - Sending DIFF
2018-06-28 17:41:48,460 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11245:Learner@332] - Getting a diff from the leader 0x3fffffffe
2018-06-28 17:41:48,460 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11247:Learner@332] - Getting a diff from the leader 0x3fffffffe
2018-06-28 17:41:48,462 [myid:] - INFO  [LearnerHandler-/127.0.0.1:51111:LearnerHandler@535] - Received NEWLEADER-ACK message from 1
2018-06-28 17:41:48,463 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11249:Leader@964] - Have quorum of supporters, sids: [ 1,3 ]; starting up and setting last processed zxid: 0x500000000
2018-06-28 17:41:48,463 [myid:] - INFO  [LearnerHandler-/127.0.0.1:51110:LearnerHandler@535] - Received NEWLEADER-ACK message from 2
2018-06-28 17:41:48,498 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11245
2018-06-28 17:41:48,499 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11245:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:51112
2018-06-28 17:41:48,499 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11245:NIOServerCnxn@908] - Processing stat command from /127.0.0.1:51112
2018-06-28 17:41:48,499 [myid:] - INFO  [Thread-105:NIOServerCnxn$StatCommand@687] - Stat command output
2018-06-28 17:41:48,500 [myid:] - INFO  [Thread-105:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:51112 (no session established for client)
2018-06-28 17:41:48,500 [myid:] - INFO  [main:QuorumUtil@139] - 127.0.0.1:11245 is accepting client connections
2018-06-28 17:41:48,500 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11247
2018-06-28 17:41:48,501 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11247:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:51113
2018-06-28 17:41:48,501 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11247:NIOServerCnxn@908] - Processing stat command from /127.0.0.1:51113
2018-06-28 17:41:48,501 [myid:] - INFO  [Thread-106:NIOServerCnxn$StatCommand@687] - Stat command output
2018-06-28 17:41:48,502 [myid:] - INFO  [Thread-106:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:51113 (no session established for client)
2018-06-28 17:41:48,502 [myid:] - INFO  [main:QuorumUtil@139] - 127.0.0.1:11247 is accepting client connections
2018-06-28 17:41:48,502 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11249
2018-06-28 17:41:48,502 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11249:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:51114
2018-06-28 17:41:48,502 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11249:NIOServerCnxn@908] - Processing stat command from /127.0.0.1:51114
2018-06-28 17:41:48,503 [myid:] - INFO  [Thread-107:NIOServerCnxn$StatCommand@687] - Stat command output
2018-06-28 17:41:48,503 [myid:] - INFO  [Thread-107:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:51114 (no session established for client)
2018-06-28 17:41:48,503 [myid:] - INFO  [main:QuorumUtil@139] - 127.0.0.1:11249 is accepting client connections
2018-06-28 17:41:48,504 [myid:] - INFO  [main:JMXEnv@199] - JMXEnv.dump() follows
2018-06-28 17:41:48,505 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.2
2018-06-28 17:41:48,505 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1
2018-06-28 17:41:48,506 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree
2018-06-28 17:41:48,506 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.3
2018-06-28 17:41:48,506 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.3
2018-06-28 17:41:48,506 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1
2018-06-28 17:41:48,506 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2
2018-06-28 17:41:48,506 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2
2018-06-28 17:41:48,506 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.1
2018-06-28 17:41:48,506 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3
2018-06-28 17:41:48,506 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower,name3=InMemoryDataTree
2018-06-28 17:41:48,506 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader
2018-06-28 17:41:48,506 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.2
2018-06-28 17:41:48,506 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.1
2018-06-28 17:41:48,506 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3
2018-06-28 17:41:48,506 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader,name3=InMemoryDataTree
2018-06-28 17:41:48,506 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower
2018-06-28 17:41:48,506 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower
2018-06-28 17:41:48,509 [myid:] - INFO  [main:JMXEnv@118] - expect:InMemoryDataTree
2018-06-28 17:41:48,509 [myid:] - INFO  [main:JMXEnv@121] - found:InMemoryDataTree org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree
2018-06-28 17:41:48,509 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id1,name1=replica.1,name2=
2018-06-28 17:41:48,510 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id1,name1=replica.1,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower
2018-06-28 17:41:48,510 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id2,name1=replica.2,name2=
2018-06-28 17:41:48,510 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id2,name1=replica.2,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower,name3=InMemoryDataTree
2018-06-28 17:41:48,510 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id3,name1=replica.3,name2=
2018-06-28 17:41:48,510 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id3,name1=replica.3,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader
2018-06-28 17:41:48,510 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id1,name1=replica.1
2018-06-28 17:41:48,510 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id1,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1
2018-06-28 17:41:48,510 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id1,name1=replica.2
2018-06-28 17:41:48,510 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id1,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.2
2018-06-28 17:41:48,510 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id1,name1=replica.3
2018-06-28 17:41:48,510 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id1,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.3
2018-06-28 17:41:48,510 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id2,name1=replica.1
2018-06-28 17:41:48,510 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id2,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.1
2018-06-28 17:41:48,510 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id2,name1=replica.2
2018-06-28 17:41:48,510 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id2,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2
2018-06-28 17:41:48,510 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id2,name1=replica.3
2018-06-28 17:41:48,510 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id2,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.3
2018-06-28 17:41:48,511 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id3,name1=replica.1
2018-06-28 17:41:48,511 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id3,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.1
2018-06-28 17:41:48,511 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id3,name1=replica.2
2018-06-28 17:41:48,511 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id3,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.2
2018-06-28 17:41:48,511 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id3,name1=replica.3
2018-06-28 17:41:48,511 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id3,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3
2018-06-28 17:41:48,511 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id1
2018-06-28 17:41:48,511 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id1 org.apache.ZooKeeperService:name0=ReplicatedServer_id1
2018-06-28 17:41:48,511 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id2
2018-06-28 17:41:48,511 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id2 org.apache.ZooKeeperService:name0=ReplicatedServer_id2
2018-06-28 17:41:48,511 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id3
2018-06-28 17:41:48,511 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id3 org.apache.ZooKeeperService:name0=ReplicatedServer_id3
2018-06-28 17:41:48,602 [myid:] - INFO  [main-SendThread(localhost:11245):ClientCnxn$SendThread@1029] - Opening socket connection to server localhost/127.0.0.1:11245. Will not attempt to authenticate using SASL (unknown error)
2018-06-28 17:41:48,603 [myid:] - INFO  [main-SendThread(localhost:11245):ClientCnxn$SendThread@879] - Socket connection established to localhost/127.0.0.1:11245, initiating session
2018-06-28 17:41:48,603 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11245:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:51115
2018-06-28 17:41:48,603 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11245:ZooKeeperServer@942] - Client attempting to renew session 0x100065505490000 at /127.0.0.1:51115
2018-06-28 17:41:48,603 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11245:Learner@108] - Revalidating client: 0x100065505490000
2018-06-28 17:41:48,604 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11245:ZooKeeperServer@694] - Established session 0x100065505490000 with negotiated timeout 30000 for client /127.0.0.1:51115
2018-06-28 17:41:48,604 [myid:] - INFO  [main-SendThread(localhost:11245):ClientCnxn$SendThread@1303] - Session establishment complete on server localhost/127.0.0.1:11245, sessionid = 0x100065505490000, negotiated timeout = 30000
2018-06-28 17:41:48,680 [myid:] - INFO  [main-SendThread(localhost:11247):ClientCnxn$SendThread@1029] - Opening socket connection to server localhost/127.0.0.1:11247. Will not attempt to authenticate using SASL (unknown error)
2018-06-28 17:41:48,680 [myid:] - INFO  [main-SendThread(localhost:11247):ClientCnxn$SendThread@879] - Socket connection established to localhost/127.0.0.1:11247, initiating session
2018-06-28 17:41:48,680 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11247:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:51116
2018-06-28 17:41:48,680 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11247:ZooKeeperServer@942] - Client attempting to renew session 0x200065505490000 at /127.0.0.1:51116
2018-06-28 17:41:48,680 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11247:Learner@108] - Revalidating client: 0x200065505490000
2018-06-28 17:41:48,681 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11247:ZooKeeperServer@694] - Established session 0x200065505490000 with negotiated timeout 30000 for client /127.0.0.1:51116
2018-06-28 17:41:48,681 [myid:] - INFO  [main-SendThread(localhost:11247):ClientCnxn$SendThread@1303] - Session establishment complete on server localhost/127.0.0.1:11247, sessionid = 0x200065505490000, negotiated timeout = 30000
2018-06-28 17:41:49,983 [myid:] - INFO  [main-SendThread(localhost:11249):ClientCnxn$SendThread@1029] - Opening socket connection to server localhost/127.0.0.1:11249. Will not attempt to authenticate using SASL (unknown error)
2018-06-28 17:41:49,984 [myid:] - INFO  [main-SendThread(localhost:11249):ClientCnxn$SendThread@879] - Socket connection established to localhost/127.0.0.1:11249, initiating session
2018-06-28 17:41:49,984 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11249:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:51117
2018-06-28 17:41:49,984 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11249:ZooKeeperServer@942] - Client attempting to renew session 0x3000655054b0000 at /127.0.0.1:51117
2018-06-28 17:41:49,984 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11249:ZooKeeperServer@694] - Established session 0x3000655054b0000 with negotiated timeout 30000 for client /127.0.0.1:51117
2018-06-28 17:41:49,984 [myid:] - INFO  [main-SendThread(localhost:11249):ClientCnxn$SendThread@1303] - Session establishment complete on server localhost/127.0.0.1:11249, sessionid = 0x3000655054b0000, negotiated timeout = 30000
2018-06-28 17:41:49,985 [myid:] - INFO  [main:ZxidRolloverTest@244] - Validating nodes 0 thru 24
2018-06-28 17:41:49,986 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000004
2018-06-28 17:41:49,986 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000005
2018-06-28 17:41:49,987 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000006
2018-06-28 17:41:49,987 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000007
2018-06-28 17:41:49,988 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000008
2018-06-28 17:41:49,988 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000009
2018-06-28 17:41:49,988 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000a
2018-06-28 17:41:49,989 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000b
2018-06-28 17:41:49,989 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000c
2018-06-28 17:41:49,990 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000d
2018-06-28 17:41:49,990 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:1fffffffd
2018-06-28 17:41:49,990 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:1fffffffe
2018-06-28 17:41:49,991 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:300000001
2018-06-28 17:41:49,991 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:300000002
2018-06-28 17:41:49,992 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:300000003
2018-06-28 17:41:49,992 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:300000004
2018-06-28 17:41:49,992 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:300000005
2018-06-28 17:41:49,993 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:300000006
2018-06-28 17:41:49,993 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:300000007
2018-06-28 17:41:49,994 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:300000008
2018-06-28 17:41:49,994 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:300000009
2018-06-28 17:41:49,995 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:30000000a
2018-06-28 17:41:49,995 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:3fffffffd
2018-06-28 17:41:49,996 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:3fffffffe
2018-06-28 17:41:49,996 [myid:] - INFO  [main:ZxidRolloverTest@225] - Creating nodes 24 thru 34
2018-06-28 17:41:49,997 [myid:] - INFO  [SyncThread:3:FileTxnLog@213] - Creating new log file: log.500000001
2018-06-28 17:41:49,997 [myid:] - WARN  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11245:Follower@119] - Got zxid 0x500000001 expected 0x1
2018-06-28 17:41:49,997 [myid:] - WARN  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11247:Follower@119] - Got zxid 0x500000001 expected 0x1
2018-06-28 17:41:49,997 [myid:] - INFO  [SyncThread:1:FileTxnLog@213] - Creating new log file: log.500000001
2018-06-28 17:41:49,997 [myid:] - INFO  [SyncThread:2:FileTxnLog@213] - Creating new log file: log.500000001
2018-06-28 17:41:50,002 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@301] - Snapshotting: 0x500000005 to /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test5690536941932137879.junit.dir/version-2/snapshot.500000005
2018-06-28 17:41:50,002 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@301] - Snapshotting: 0x500000005 to /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test4714800816684036148.junit.dir/version-2/snapshot.500000005
2018-06-28 17:41:50,002 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@301] - Snapshotting: 0x500000005 to /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test5462526835103515188.junit.dir/version-2/snapshot.500000005
2018-06-28 17:41:50,003 [myid:] - INFO  [SyncThread:3:FileTxnLog@213] - Creating new log file: log.500000007
2018-06-28 17:41:50,003 [myid:] - INFO  [SyncThread:1:FileTxnLog@213] - Creating new log file: log.500000007
2018-06-28 17:41:50,003 [myid:] - INFO  [SyncThread:2:FileTxnLog@213] - Creating new log file: log.500000007
2018-06-28 17:41:50,006 [myid:] - INFO  [main:QuorumUtil@227] - Shutting down quorum peer QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11245
2018-06-28 17:41:50,007 [myid:] - INFO  [main:Follower@169] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:169)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1026)
	at org.apache.zookeeper.test.QuorumUtil.shutdown(QuorumUtil.java:228)
	at org.apache.zookeeper.test.QuorumUtil.shutdownAll(QuorumUtil.java:215)
	at org.apache.zookeeper.server.ZxidRolloverTest.shutdownAll(ZxidRolloverTest.java:177)
	at org.apache.zookeeper.server.ZxidRolloverTest.testRolloverThenRestart(ZxidRolloverTest.java:299)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:536)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1205)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1048)
2018-06-28 17:41:50,007 [myid:] - INFO  [main:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:51115 which had sessionid 0x100065505490000
2018-06-28 17:41:50,007 [myid:] - INFO  [main:FollowerZooKeeperServer@140] - Shutting down
2018-06-28 17:41:50,007 [myid:] - INFO  [main:ZooKeeperServer@502] - shutting down
2018-06-28 17:41:50,007 [myid:] - INFO  [main:FollowerRequestProcessor@107] - Shutting down
2018-06-28 17:41:50,007 [myid:] - INFO  [main-SendThread(localhost:11245):ClientCnxn$SendThread@1162] - Unable to read additional data from server sessionid 0x100065505490000, likely server has closed socket, closing socket connection and attempting reconnect
2018-06-28 17:41:50,007 [myid:] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@97] - FollowerRequestProcessor exited loop!
2018-06-28 17:41:50,007 [myid:] - INFO  [main:CommitProcessor@184] - Shutting down
2018-06-28 17:41:50,008 [myid:] - INFO  [main:FinalRequestProcessor@403] - shutdown of request processor complete
2018-06-28 17:41:50,008 [myid:] - INFO  [CommitProcessor:1:CommitProcessor@153] - CommitProcessor exited loop!
2018-06-28 17:41:50,008 [myid:] - INFO  [main:SyncRequestProcessor@208] - Shutting down
2018-06-28 17:41:50,008 [myid:] - INFO  [SyncThread:1:SyncRequestProcessor@186] - SyncRequestProcessor exited!
2018-06-28 17:41:50,008 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11245:NIOServerCnxnFactory@242] - NIOServerCnxn factory exited run method
2018-06-28 17:41:50,009 [myid:] - ERROR [/127.0.0.1:12246:QuorumCnxManager$Listener@760] - Exception while listening
java.net.SocketException: Socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:409)
	at java.net.ServerSocket.implAccept(ServerSocket.java:545)
	at java.net.ServerSocket.accept(ServerSocket.java:513)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$Listener.run(QuorumCnxManager.java:741)
2018-06-28 17:41:50,009 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@941] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:418)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1094)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$700(QuorumCnxManager.java:74)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:929)
2018-06-28 17:41:50,009 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@951] - Send worker leaving thread
2018-06-28 17:41:50,010 [myid:] - INFO  [main:QuorumUtil@231] - Shutting down leader election QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11245
2018-06-28 17:41:50,009 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1025] - Connection broken for id 3, my id = 1, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1010)
2018-06-28 17:41:50,010 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1028] - Interrupting SendWorker
2018-06-28 17:41:50,009 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1025] - Connection broken for id 2, my id = 1, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1010)
2018-06-28 17:41:50,010 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1028] - Interrupting SendWorker
2018-06-28 17:41:50,009 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1025] - Connection broken for id 1, my id = 2, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1010)
2018-06-28 17:41:50,010 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1028] - Interrupting SendWorker
2018-06-28 17:41:50,009 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1025] - Connection broken for id 1, my id = 3, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1010)
2018-06-28 17:41:50,010 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@941] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:418)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1094)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$700(QuorumCnxManager.java:74)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:929)
2018-06-28 17:41:50,010 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@951] - Send worker leaving thread
2018-06-28 17:41:50,009 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@941] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:418)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1094)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$700(QuorumCnxManager.java:74)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:929)
2018-06-28 17:41:50,010 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@951] - Send worker leaving thread
2018-06-28 17:41:50,010 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1028] - Interrupting SendWorker
2018-06-28 17:41:50,010 [myid:] - INFO  [main:QuorumUtil@236] - Waiting for QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11245 to exit thread
2018-06-28 17:41:50,010 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@941] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:418)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1094)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$700(QuorumCnxManager.java:74)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:929)
2018-06-28 17:41:50,010 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@951] - Send worker leaving thread
2018-06-28 17:41:50,468 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11245:Follower@169] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:169)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:985)
2018-06-28 17:41:50,469 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11245:FollowerZooKeeperServer@140] - Shutting down
2018-06-28 17:41:50,469 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11245:SyncRequestProcessor@208] - Shutting down
2018-06-28 17:41:50,469 [myid:] - WARN  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11245:QuorumPeer@1009] - QuorumPeer main thread exited
2018-06-28 17:41:50,469 [myid:] - INFO  [main:QuorumUtil@227] - Shutting down quorum peer QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11247
2018-06-28 17:41:50,469 [myid:] - INFO  [main:Follower@169] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:169)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1026)
	at org.apache.zookeeper.test.QuorumUtil.shutdown(QuorumUtil.java:228)
	at org.apache.zookeeper.test.QuorumUtil.shutdownAll(QuorumUtil.java:215)
	at org.apache.zookeeper.server.ZxidRolloverTest.shutdownAll(ZxidRolloverTest.java:177)
	at org.apache.zookeeper.server.ZxidRolloverTest.testRolloverThenRestart(ZxidRolloverTest.java:299)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:536)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1205)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1048)
2018-06-28 17:41:50,469 [myid:] - INFO  [main:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:51116 which had sessionid 0x200065505490000
2018-06-28 17:41:50,469 [myid:] - INFO  [main:FollowerZooKeeperServer@140] - Shutting down
2018-06-28 17:41:50,470 [myid:] - INFO  [main:ZooKeeperServer@502] - shutting down
2018-06-28 17:41:50,470 [myid:] - INFO  [main:FollowerRequestProcessor@107] - Shutting down
2018-06-28 17:41:50,470 [myid:] - INFO  [main-SendThread(localhost:11247):ClientCnxn$SendThread@1162] - Unable to read additional data from server sessionid 0x200065505490000, likely server has closed socket, closing socket connection and attempting reconnect
2018-06-28 17:41:50,470 [myid:] - INFO  [FollowerRequestProcessor:2:FollowerRequestProcessor@97] - FollowerRequestProcessor exited loop!
2018-06-28 17:41:50,470 [myid:] - INFO  [main:CommitProcessor@184] - Shutting down
2018-06-28 17:41:50,470 [myid:] - INFO  [main:FinalRequestProcessor@403] - shutdown of request processor complete
2018-06-28 17:41:50,470 [myid:] - INFO  [CommitProcessor:2:CommitProcessor@153] - CommitProcessor exited loop!
2018-06-28 17:41:50,471 [myid:] - INFO  [main:SyncRequestProcessor@208] - Shutting down
2018-06-28 17:41:50,471 [myid:] - INFO  [SyncThread:2:SyncRequestProcessor@186] - SyncRequestProcessor exited!
2018-06-28 17:41:50,472 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11247:NIOServerCnxnFactory@242] - NIOServerCnxn factory exited run method
2018-06-28 17:41:50,472 [myid:] - ERROR [/127.0.0.1:12248:QuorumCnxManager$Listener@760] - Exception while listening
java.net.SocketException: Socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:409)
	at java.net.ServerSocket.implAccept(ServerSocket.java:545)
	at java.net.ServerSocket.accept(ServerSocket.java:513)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$Listener.run(QuorumCnxManager.java:741)
2018-06-28 17:41:50,473 [myid:] - INFO  [main:QuorumUtil@231] - Shutting down leader election QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11247
2018-06-28 17:41:50,473 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1025] - Connection broken for id 3, my id = 2, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1010)
2018-06-28 17:41:50,474 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1028] - Interrupting SendWorker
2018-06-28 17:41:50,473 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1025] - Connection broken for id 2, my id = 3, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1010)
2018-06-28 17:41:50,474 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1028] - Interrupting SendWorker
2018-06-28 17:41:50,473 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@941] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:418)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1094)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$700(QuorumCnxManager.java:74)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:929)
2018-06-28 17:41:50,474 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@951] - Send worker leaving thread
2018-06-28 17:41:50,474 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@941] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:418)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1094)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$700(QuorumCnxManager.java:74)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:929)
2018-06-28 17:41:50,474 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@951] - Send worker leaving thread
2018-06-28 17:41:50,473 [myid:] - INFO  [main:QuorumUtil@236] - Waiting for QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11247 to exit thread
2018-06-28 17:41:51,013 [myid:] - INFO  [/127.0.0.1:12246:QuorumCnxManager$Listener@773] - Leaving listener
2018-06-28 17:41:51,247 [myid:] - INFO  [WorkerSender[myid=1]:FastLeaderElection$Messenger$WorkerSender@440] - WorkerSender is down
2018-06-28 17:41:51,247 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@409] - WorkerReceiver is down
2018-06-28 17:41:51,247 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@409] - WorkerReceiver is down
2018-06-28 17:41:51,247 [myid:] - INFO  [WorkerSender[myid=2]:FastLeaderElection$Messenger$WorkerSender@440] - WorkerSender is down
2018-06-28 17:41:51,471 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11247:Follower@169] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:169)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:985)
2018-06-28 17:41:51,471 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11247:FollowerZooKeeperServer@140] - Shutting down
2018-06-28 17:41:51,471 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11247:SyncRequestProcessor@208] - Shutting down
2018-06-28 17:41:51,471 [myid:] - WARN  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11247:QuorumPeer@1009] - QuorumPeer main thread exited
2018-06-28 17:41:51,472 [myid:] - INFO  [main:QuorumUtil@227] - Shutting down quorum peer QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11249
2018-06-28 17:41:51,472 [myid:] - INFO  [main:Leader@520] - Shutting down
2018-06-28 17:41:51,472 [myid:] - INFO  [main:Leader@526] - Shutdown called
java.lang.Exception: shutdown Leader! reason: quorum Peer shutdown
	at org.apache.zookeeper.server.quorum.Leader.shutdown(Leader.java:526)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1023)
	at org.apache.zookeeper.test.QuorumUtil.shutdown(QuorumUtil.java:228)
	at org.apache.zookeeper.test.QuorumUtil.shutdownAll(QuorumUtil.java:215)
	at org.apache.zookeeper.server.ZxidRolloverTest.shutdownAll(ZxidRolloverTest.java:177)
	at org.apache.zookeeper.server.ZxidRolloverTest.testRolloverThenRestart(ZxidRolloverTest.java:299)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at junit.framework.TestCase.runTest(TestCase.java:176)
	at junit.framework.TestCase.runBare(TestCase.java:141)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:536)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1205)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1048)
2018-06-28 17:41:51,472 [myid:] - INFO  [main:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:51117 which had sessionid 0x3000655054b0000
2018-06-28 17:41:51,472 [myid:] - INFO  [LearnerCnxAcceptor-/127.0.0.1:12249:Leader$LearnerCnxAcceptor@340] - exception while shutting down acceptor: java.net.SocketException: Socket closed
2018-06-28 17:41:51,472 [myid:] - INFO  [main:ZooKeeperServer@502] - shutting down
2018-06-28 17:41:51,473 [myid:] - INFO  [main-SendThread(localhost:11249):ClientCnxn$SendThread@1162] - Unable to read additional data from server sessionid 0x3000655054b0000, likely server has closed socket, closing socket connection and attempting reconnect
2018-06-28 17:41:51,473 [myid:] - INFO  [main:SessionTrackerImpl@226] - Shutting down
2018-06-28 17:41:51,473 [myid:] - INFO  [main:PrepRequestProcessor@769] - Shutting down
2018-06-28 17:41:51,473 [myid:] - INFO  [main:ProposalRequestProcessor@88] - Shutting down
2018-06-28 17:41:51,473 [myid:] - INFO  [main:CommitProcessor@184] - Shutting down
2018-06-28 17:41:51,473 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::PrepRequestProcessor@144] - PrepRequestProcessor exited loop!
2018-06-28 17:41:51,473 [myid:] - INFO  [CommitProcessor:3:CommitProcessor@153] - CommitProcessor exited loop!
2018-06-28 17:41:51,473 [myid:] - INFO  [main:Leader$ToBeAppliedRequestProcessor@685] - Shutting down
2018-06-28 17:41:51,473 [myid:] - INFO  [main:FinalRequestProcessor@403] - shutdown of request processor complete
2018-06-28 17:41:51,474 [myid:] - INFO  [main:SyncRequestProcessor@208] - Shutting down
2018-06-28 17:41:51,473 [myid:] - INFO  [/127.0.0.1:12248:QuorumCnxManager$Listener@773] - Leaving listener
2018-06-28 17:41:51,474 [myid:] - INFO  [SyncThread:3:SyncRequestProcessor@186] - SyncRequestProcessor exited!
2018-06-28 17:41:51,475 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11249:NIOServerCnxnFactory@242] - NIOServerCnxn factory exited run method
2018-06-28 17:41:51,475 [myid:] - WARN  [LearnerHandler-/127.0.0.1:51111:LearnerHandler@661] - ******* GOODBYE /127.0.0.1:51111 ********
2018-06-28 17:41:51,475 [myid:] - WARN  [LearnerHandler-/127.0.0.1:51110:LearnerHandler@661] - ******* GOODBYE /127.0.0.1:51110 ********
2018-06-28 17:41:51,475 [myid:] - WARN  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11249:QuorumPeer@997] - Unexpected exception
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at org.apache.zookeeper.server.quorum.Leader.lead(Leader.java:474)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:994)
2018-06-28 17:41:51,475 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11249:Leader@520] - Shutting down
2018-06-28 17:41:51,476 [myid:] - WARN  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11249:QuorumPeer@1009] - QuorumPeer main thread exited
2018-06-28 17:41:51,475 [myid:] - WARN  [LearnerHandler-/127.0.0.1:51111:LearnerHandler@673] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1220)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:335)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:339)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:671)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:664)
2018-06-28 17:41:51,476 [myid:] - INFO  [main:QuorumUtil@231] - Shutting down leader election QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11249
2018-06-28 17:41:51,475 [myid:] - ERROR [/127.0.0.1:12250:QuorumCnxManager$Listener@760] - Exception while listening
java.net.SocketException: Socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:409)
	at java.net.ServerSocket.implAccept(ServerSocket.java:545)
	at java.net.ServerSocket.accept(ServerSocket.java:513)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$Listener.run(QuorumCnxManager.java:741)
2018-06-28 17:41:51,475 [myid:] - WARN  [LearnerHandler-/127.0.0.1:51110:LearnerHandler@673] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1220)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:335)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:339)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:671)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:664)
2018-06-28 17:41:51,476 [myid:] - INFO  [main:QuorumUtil@236] - Waiting for QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11249 to exit thread
2018-06-28 17:41:51,476 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11245
2018-06-28 17:41:51,477 [myid:] - INFO  [main:QuorumUtil@220] - 127.0.0.1:11245 is no longer accepting client connections
2018-06-28 17:41:51,477 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11247
2018-06-28 17:41:51,477 [myid:] - INFO  [main:QuorumUtil@220] - 127.0.0.1:11247 is no longer accepting client connections
2018-06-28 17:41:51,477 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11249
2018-06-28 17:41:51,477 [myid:] - INFO  [main:QuorumUtil@220] - 127.0.0.1:11249 is no longer accepting client connections
2018-06-28 17:41:51,513 [myid:] - INFO  [main-SendThread(localhost:11245):ClientCnxn$SendThread@1029] - Opening socket connection to server localhost/127.0.0.1:11245. Will not attempt to authenticate using SASL (unknown error)
2018-06-28 17:41:51,514 [myid:] - INFO  [main-SendThread(localhost:11245):ClientCnxn$SendThread@1166] - Socket error occurred: localhost/127.0.0.1:11245: Connection refused
2018-06-28 17:41:51,800 [myid:] - INFO  [main-SendThread(localhost:11247):ClientCnxn$SendThread@1029] - Opening socket connection to server localhost/127.0.0.1:11247. Will not attempt to authenticate using SASL (unknown error)
2018-06-28 17:41:51,800 [myid:] - INFO  [main-SendThread(localhost:11247):ClientCnxn$SendThread@1166] - Socket error occurred: localhost/127.0.0.1:11247: Connection refused
2018-06-28 17:41:52,481 [myid:] - INFO  [/127.0.0.1:12250:QuorumCnxManager$Listener@773] - Leaving listener
2018-06-28 17:41:52,667 [myid:] - INFO  [SessionTracker:SessionTrackerImpl@163] - SessionTrackerImpl exited loop!
2018-06-28 17:41:52,994 [myid:] - INFO  [main-SendThread(localhost:11249):ClientCnxn$SendThread@1029] - Opening socket connection to server localhost/127.0.0.1:11249. Will not attempt to authenticate using SASL (unknown error)
2018-06-28 17:41:52,995 [myid:] - INFO  [main-SendThread(localhost:11249):ClientCnxn$SendThread@1166] - Socket error occurred: localhost/127.0.0.1:11249: Connection refused
2018-06-28 17:41:53,096 [myid:] - INFO  [main:QuorumUtil@227] - Shutting down quorum peer QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11245
2018-06-28 17:41:53,096 [myid:] - INFO  [main:QuorumUtil@231] - Shutting down leader election QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11245
2018-06-28 17:41:53,096 [myid:] - INFO  [main:QuorumUtil@236] - Waiting for QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11245 to exit thread
2018-06-28 17:41:53,096 [myid:] - INFO  [main:QuorumUtil@227] - Shutting down quorum peer QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11247
2018-06-28 17:41:53,096 [myid:] - INFO  [main:QuorumUtil@231] - Shutting down leader election QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11247
2018-06-28 17:41:53,096 [myid:] - INFO  [main:QuorumUtil@236] - Waiting for QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11247 to exit thread
2018-06-28 17:41:53,096 [myid:] - INFO  [main:QuorumUtil@227] - Shutting down quorum peer QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11249
2018-06-28 17:41:53,097 [myid:] - INFO  [main:QuorumUtil@231] - Shutting down leader election QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11249
2018-06-28 17:41:53,097 [myid:] - INFO  [main:QuorumUtil@236] - Waiting for QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11249 to exit thread
2018-06-28 17:41:53,097 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11245
2018-06-28 17:41:53,097 [myid:] - INFO  [main:QuorumUtil@220] - 127.0.0.1:11245 is no longer accepting client connections
2018-06-28 17:41:53,097 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11247
2018-06-28 17:41:53,098 [myid:] - INFO  [main:QuorumUtil@220] - 127.0.0.1:11247 is no longer accepting client connections
2018-06-28 17:41:53,098 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11249
2018-06-28 17:41:53,098 [myid:] - INFO  [main:QuorumUtil@220] - 127.0.0.1:11249 is no longer accepting client connections
2018-06-28 17:41:53,098 [myid:] - INFO  [main:QuorumUtil@186] - Creating QuorumPeer 1; public port 11245
2018-06-28 17:41:53,098 [myid:] - INFO  [main:ServerCnxnFactory@117] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2018-06-28 17:41:53,099 [myid:] - INFO  [main:NIOServerCnxnFactory@89] - binding to port 0.0.0.0/0.0.0.0:11245
2018-06-28 17:41:53,100 [myid:] - INFO  [main:FileSnap@86] - Reading snapshot /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test4714800816684036148.junit.dir/version-2/snapshot.500000005
2018-06-28 17:41:53,102 [myid:] - INFO  [ListenerThread:QuorumCnxManager$Listener@736] - My election bind port: /127.0.0.1:12246
2018-06-28 17:41:53,102 [myid:] - INFO  [main:QuorumUtil@132] - Started QuorumPeer 1
2018-06-28 17:41:53,102 [myid:] - INFO  [main:QuorumUtil@186] - Creating QuorumPeer 2; public port 11247
2018-06-28 17:41:53,103 [myid:] - INFO  [main:ServerCnxnFactory@117] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2018-06-28 17:41:53,103 [myid:] - INFO  [main:NIOServerCnxnFactory@89] - binding to port 0.0.0.0/0.0.0.0:11247
2018-06-28 17:41:53,103 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11245:QuorumPeer@909] - LOOKING
2018-06-28 17:41:53,103 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11245:FastLeaderElection@813] - New election. My id =  1, proposed zxid=0x50000000a
2018-06-28 17:41:53,103 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x50000000a (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x5 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:53,103 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@584] - Cannot open channel to 2 at election address /127.0.0.1:12248
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:558)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:534)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:454)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:435)
	at java.lang.Thread.run(Thread.java:748)
2018-06-28 17:41:53,104 [myid:] - INFO  [WorkerSender[myid=1]:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:41:53,104 [myid:] - INFO  [main:FileSnap@86] - Reading snapshot /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test5462526835103515188.junit.dir/version-2/snapshot.500000005
2018-06-28 17:41:53,104 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@584] - Cannot open channel to 3 at election address /127.0.0.1:12250
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:558)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:534)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:454)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:435)
	at java.lang.Thread.run(Thread.java:748)
2018-06-28 17:41:53,104 [myid:] - INFO  [WorkerSender[myid=1]:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:41:53,106 [myid:] - INFO  [ListenerThread:QuorumCnxManager$Listener@736] - My election bind port: /127.0.0.1:12248
2018-06-28 17:41:53,106 [myid:] - INFO  [main:QuorumUtil@132] - Started QuorumPeer 2
2018-06-28 17:41:53,106 [myid:] - INFO  [main:QuorumUtil@186] - Creating QuorumPeer 3; public port 11249
2018-06-28 17:41:53,106 [myid:] - INFO  [main:ServerCnxnFactory@117] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2018-06-28 17:41:53,106 [myid:] - INFO  [main:NIOServerCnxnFactory@89] - binding to port 0.0.0.0/0.0.0.0:11249
2018-06-28 17:41:53,106 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11247:QuorumPeer@909] - LOOKING
2018-06-28 17:41:53,107 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11247:FastLeaderElection@813] - New election. My id =  2, proposed zxid=0x50000000a
2018-06-28 17:41:53,107 [myid:] - INFO  [/127.0.0.1:12246:QuorumCnxManager$Listener@743] - Received connection request /127.0.0.1:51129
2018-06-28 17:41:53,107 [myid:] - INFO  [main:FileSnap@86] - Reading snapshot /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test5690536941932137879.junit.dir/version-2/snapshot.500000005
2018-06-28 17:41:53,108 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x50000000a (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x5 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:53,108 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x50000000a (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x5 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:53,108 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x50000000a (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x5 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:53,108 [myid:] - WARN  [WorkerSender[myid=2]:QuorumCnxManager@584] - Cannot open channel to 3 at election address /127.0.0.1:12250
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:558)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:534)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:454)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:435)
	at java.lang.Thread.run(Thread.java:748)
2018-06-28 17:41:53,108 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x50000000a (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x5 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:53,108 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x50000000a (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x5 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:53,108 [myid:] - INFO  [WorkerSender[myid=2]:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:41:53,108 [myid:] - WARN  [WorkerSender[myid=1]:QuorumCnxManager@584] - Cannot open channel to 3 at election address /127.0.0.1:12250
java.net.ConnectException: Connection refused (Connection refused)
	at java.net.PlainSocketImpl.socketConnect(Native Method)
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.net.Socket.connect(Socket.java:589)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.connectOne(QuorumCnxManager.java:558)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.toSend(QuorumCnxManager.java:534)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.process(FastLeaderElection.java:454)
	at org.apache.zookeeper.server.quorum.FastLeaderElection$Messenger$WorkerSender.run(FastLeaderElection.java:435)
	at java.lang.Thread.run(Thread.java:748)
2018-06-28 17:41:53,109 [myid:] - INFO  [WorkerSender[myid=1]:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:41:53,110 [myid:] - INFO  [ListenerThread:QuorumCnxManager$Listener@736] - My election bind port: /127.0.0.1:12250
2018-06-28 17:41:53,110 [myid:] - INFO  [main:QuorumUtil@132] - Started QuorumPeer 3
2018-06-28 17:41:53,110 [myid:] - INFO  [main:QuorumUtil@135] - Checking ports 127.0.0.1:11245,127.0.0.1:11247,127.0.0.1:11249
2018-06-28 17:41:53,110 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11245
2018-06-28 17:41:53,110 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11249:QuorumPeer@909] - LOOKING
2018-06-28 17:41:53,111 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11249:FastLeaderElection@813] - New election. My id =  3, proposed zxid=0x50000000a
2018-06-28 17:41:53,111 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11245:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:51132
2018-06-28 17:41:53,111 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11245:NIOServerCnxn@908] - Processing stat command from /127.0.0.1:51132
2018-06-28 17:41:53,111 [myid:] - INFO  [/127.0.0.1:12246:QuorumCnxManager$Listener@743] - Received connection request /127.0.0.1:51133
2018-06-28 17:41:53,111 [myid:] - INFO  [Thread-108:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:51132 (no session established for client)
2018-06-28 17:41:53,112 [myid:] - INFO  [/127.0.0.1:12248:QuorumCnxManager$Listener@743] - Received connection request /127.0.0.1:51134
2018-06-28 17:41:53,112 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x50000000a (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x5 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:53,112 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x50000000a (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x5 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:53,112 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x50000000a (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x5 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:53,112 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x50000000a (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x5 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:53,112 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x50000000a (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x5 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:53,113 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x50000000a (n.zxid), 0x1 (n.round), LOOKING (n.state), 3 (n.sid), 0x5 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:53,113 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x50000000a (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x5 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:53,113 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x50000000a (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x5 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:53,113 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x50000000a (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x5 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:53,113 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x50000000a (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x5 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:53,113 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection@595] - Notification: 1 (message format version), 3 (n.leader), 0x50000000a (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x5 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:41:53,318 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11247:QuorumPeer@979] - FOLLOWING
2018-06-28 17:41:53,318 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11247:ZooKeeperServer@174] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test5462526835103515188.junit.dir/version-2 snapdir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test5462526835103515188.junit.dir/version-2
2018-06-28 17:41:53,318 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11249:QuorumPeer@991] - LEADING
2018-06-28 17:41:53,319 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11249:ZooKeeperServer@174] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test5690536941932137879.junit.dir/version-2 snapdir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test5690536941932137879.junit.dir/version-2
2018-06-28 17:41:53,318 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11245:QuorumPeer@979] - FOLLOWING
2018-06-28 17:41:53,319 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11245:ZooKeeperServer@174] - Created server with tickTime 2000 minSessionTimeout 4000 maxSessionTimeout 40000 datadir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test4714800816684036148.junit.dir/version-2 snapdir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test4714800816684036148.junit.dir/version-2
2018-06-28 17:41:53,319 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11247:Follower@65] - FOLLOWING - LEADER ELECTION TOOK - 212
2018-06-28 17:41:53,319 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11245:Follower@65] - FOLLOWING - LEADER ELECTION TOOK - 216
2018-06-28 17:41:53,319 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11249:Leader@380] - LEADING - LEADER ELECTION TOOK - 209
2018-06-28 17:41:53,319 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11247:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:41:53,319 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11245:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:41:53,321 [myid:] - INFO  [LearnerHandler-/127.0.0.1:51136:LearnerHandler@346] - Follower sid: 1 : info : org.apache.zookeeper.server.quorum.QuorumPeer$QuorumServer@175b628a
2018-06-28 17:41:53,321 [myid:] - INFO  [LearnerHandler-/127.0.0.1:51135:LearnerHandler@346] - Follower sid: 2 : info : org.apache.zookeeper.server.quorum.QuorumPeer$QuorumServer@7bb001fa
2018-06-28 17:41:53,323 [myid:] - INFO  [LearnerHandler-/127.0.0.1:51136:LearnerHandler@401] - Synchronizing with Follower sid: 1 maxCommittedLog=0x50000000a minCommittedLog=0x500000006 peerLastZxid=0x50000000a
2018-06-28 17:41:53,323 [myid:] - INFO  [LearnerHandler-/127.0.0.1:51136:LearnerHandler@410] - leader and follower are in sync, zxid=0x50000000a
2018-06-28 17:41:53,323 [myid:] - INFO  [LearnerHandler-/127.0.0.1:51136:LearnerHandler@475] - Sending DIFF
2018-06-28 17:41:53,323 [myid:] - INFO  [LearnerHandler-/127.0.0.1:51135:LearnerHandler@401] - Synchronizing with Follower sid: 2 maxCommittedLog=0x50000000a minCommittedLog=0x500000006 peerLastZxid=0x50000000a
2018-06-28 17:41:53,323 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11245:Learner@332] - Getting a diff from the leader 0x50000000a
2018-06-28 17:41:53,323 [myid:] - INFO  [LearnerHandler-/127.0.0.1:51135:LearnerHandler@410] - leader and follower are in sync, zxid=0x50000000a
2018-06-28 17:41:53,323 [myid:] - INFO  [LearnerHandler-/127.0.0.1:51135:LearnerHandler@475] - Sending DIFF
2018-06-28 17:41:53,324 [myid:] - INFO  [main-SendThread(localhost:11245):ClientCnxn$SendThread@1029] - Opening socket connection to server localhost/127.0.0.1:11245. Will not attempt to authenticate using SASL (unknown error)
2018-06-28 17:41:53,324 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11247:Learner@332] - Getting a diff from the leader 0x50000000a
2018-06-28 17:41:53,324 [myid:] - INFO  [main-SendThread(localhost:11245):ClientCnxn$SendThread@879] - Socket connection established to localhost/127.0.0.1:11245, initiating session
2018-06-28 17:41:53,324 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11245:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:51137
2018-06-28 17:41:53,324 [myid:] - WARN  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11245:NIOServerCnxn@383] - Exception causing close of session 0x0: ZooKeeperServer not running
2018-06-28 17:41:53,324 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11245:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:51137 (no session established for client)
2018-06-28 17:41:53,325 [myid:] - INFO  [main-SendThread(localhost:11245):ClientCnxn$SendThread@1162] - Unable to read additional data from server sessionid 0x100065505490000, likely server has closed socket, closing socket connection and attempting reconnect
2018-06-28 17:41:53,325 [myid:] - INFO  [LearnerHandler-/127.0.0.1:51136:LearnerHandler@535] - Received NEWLEADER-ACK message from 1
2018-06-28 17:41:53,325 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11249:Leader@964] - Have quorum of supporters, sids: [ 1,3 ]; starting up and setting last processed zxid: 0x600000000
2018-06-28 17:41:53,327 [myid:] - INFO  [LearnerHandler-/127.0.0.1:51135:LearnerHandler@535] - Received NEWLEADER-ACK message from 2
2018-06-28 17:41:53,362 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11245
2018-06-28 17:41:53,363 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11245:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:51138
2018-06-28 17:41:53,363 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11245:NIOServerCnxn@908] - Processing stat command from /127.0.0.1:51138
2018-06-28 17:41:53,364 [myid:] - INFO  [Thread-111:NIOServerCnxn$StatCommand@687] - Stat command output
2018-06-28 17:41:53,364 [myid:] - INFO  [Thread-111:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:51138 (no session established for client)
2018-06-28 17:41:53,364 [myid:] - INFO  [main:QuorumUtil@139] - 127.0.0.1:11245 is accepting client connections
2018-06-28 17:41:53,364 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11247
2018-06-28 17:41:53,365 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11247:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:51139
2018-06-28 17:41:53,365 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11247:NIOServerCnxn@908] - Processing stat command from /127.0.0.1:51139
2018-06-28 17:41:53,365 [myid:] - INFO  [Thread-112:NIOServerCnxn$StatCommand@687] - Stat command output
2018-06-28 17:41:53,366 [myid:] - INFO  [Thread-112:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:51139 (no session established for client)
2018-06-28 17:41:53,366 [myid:] - INFO  [main:QuorumUtil@139] - 127.0.0.1:11247 is accepting client connections
2018-06-28 17:41:53,366 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11249
2018-06-28 17:41:53,366 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11249:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:51140
2018-06-28 17:41:53,366 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11249:NIOServerCnxn@908] - Processing stat command from /127.0.0.1:51140
2018-06-28 17:41:53,367 [myid:] - INFO  [Thread-113:NIOServerCnxn$StatCommand@687] - Stat command output
2018-06-28 17:41:53,367 [myid:] - INFO  [Thread-113:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:51140 (no session established for client)
2018-06-28 17:41:53,367 [myid:] - INFO  [main:QuorumUtil@139] - 127.0.0.1:11249 is accepting client connections
2018-06-28 17:41:53,367 [myid:] - INFO  [main:JMXEnv@199] - JMXEnv.dump() follows
2018-06-28 17:41:53,369 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.2
2018-06-28 17:41:53,369 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1
2018-06-28 17:41:53,369 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree
2018-06-28 17:41:53,369 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.3
2018-06-28 17:41:53,369 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.3
2018-06-28 17:41:53,369 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1
2018-06-28 17:41:53,369 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2
2018-06-28 17:41:53,369 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2
2018-06-28 17:41:53,369 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.1
2018-06-28 17:41:53,370 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3
2018-06-28 17:41:53,370 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower,name3=InMemoryDataTree
2018-06-28 17:41:53,370 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader
2018-06-28 17:41:53,370 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.2
2018-06-28 17:41:53,370 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.1
2018-06-28 17:41:53,370 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3
2018-06-28 17:41:53,370 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader,name3=InMemoryDataTree
2018-06-28 17:41:53,370 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower
2018-06-28 17:41:53,370 [myid:] - INFO  [main:JMXEnv@208] - bean:org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower
2018-06-28 17:41:53,371 [myid:] - INFO  [main:JMXEnv@118] - expect:InMemoryDataTree
2018-06-28 17:41:53,371 [myid:] - INFO  [main:JMXEnv@121] - found:InMemoryDataTree org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower,name3=InMemoryDataTree
2018-06-28 17:41:53,371 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id1,name1=replica.1,name2=
2018-06-28 17:41:53,371 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id1,name1=replica.1,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1,name2=Follower
2018-06-28 17:41:53,372 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id2,name1=replica.2,name2=
2018-06-28 17:41:53,372 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id2,name1=replica.2,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2,name2=Follower,name3=InMemoryDataTree
2018-06-28 17:41:53,372 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id3,name1=replica.3,name2=
2018-06-28 17:41:53,372 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id3,name1=replica.3,name2= org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3,name2=Leader
2018-06-28 17:41:53,372 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id1,name1=replica.1
2018-06-28 17:41:53,372 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id1,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.1
2018-06-28 17:41:53,372 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id1,name1=replica.2
2018-06-28 17:41:53,372 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id1,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.2
2018-06-28 17:41:53,372 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id1,name1=replica.3
2018-06-28 17:41:53,372 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id1,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id1,name1=replica.3
2018-06-28 17:41:53,372 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id2,name1=replica.1
2018-06-28 17:41:53,372 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id2,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.1
2018-06-28 17:41:53,372 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id2,name1=replica.2
2018-06-28 17:41:53,372 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id2,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.2
2018-06-28 17:41:53,372 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id2,name1=replica.3
2018-06-28 17:41:53,372 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id2,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id2,name1=replica.3
2018-06-28 17:41:53,372 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id3,name1=replica.1
2018-06-28 17:41:53,373 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id3,name1=replica.1 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.1
2018-06-28 17:41:53,373 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id3,name1=replica.2
2018-06-28 17:41:53,373 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id3,name1=replica.2 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.2
2018-06-28 17:41:53,373 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id3,name1=replica.3
2018-06-28 17:41:53,373 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id3,name1=replica.3 org.apache.ZooKeeperService:name0=ReplicatedServer_id3,name1=replica.3
2018-06-28 17:41:53,373 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id1
2018-06-28 17:41:53,373 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id1 org.apache.ZooKeeperService:name0=ReplicatedServer_id1
2018-06-28 17:41:53,373 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id2
2018-06-28 17:41:53,373 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id2 org.apache.ZooKeeperService:name0=ReplicatedServer_id2
2018-06-28 17:41:53,373 [myid:] - INFO  [main:JMXEnv@118] - expect:name0=ReplicatedServer_id3
2018-06-28 17:41:53,373 [myid:] - INFO  [main:JMXEnv@121] - found:name0=ReplicatedServer_id3 org.apache.ZooKeeperService:name0=ReplicatedServer_id3
2018-06-28 17:41:53,430 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11245
2018-06-28 17:41:53,430 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11245:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:51141
2018-06-28 17:41:53,431 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11245:NIOServerCnxn@908] - Processing stat command from /127.0.0.1:51141
2018-06-28 17:41:53,431 [myid:] - INFO  [Thread-114:NIOServerCnxn$StatCommand@687] - Stat command output
2018-06-28 17:41:53,431 [myid:] - INFO  [Thread-114:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:51141 (no session established for client)
2018-06-28 17:41:53,860 [myid:] - INFO  [main-SendThread(localhost:11247):ClientCnxn$SendThread@1029] - Opening socket connection to server localhost/127.0.0.1:11247. Will not attempt to authenticate using SASL (unknown error)
2018-06-28 17:41:53,861 [myid:] - INFO  [main-SendThread(localhost:11247):ClientCnxn$SendThread@879] - Socket connection established to localhost/127.0.0.1:11247, initiating session
2018-06-28 17:41:53,861 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11247:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:51142
2018-06-28 17:41:53,861 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11247:ZooKeeperServer@942] - Client attempting to renew session 0x200065505490000 at /127.0.0.1:51142
2018-06-28 17:41:53,861 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11247:Learner@108] - Revalidating client: 0x200065505490000
2018-06-28 17:41:53,862 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11247:ZooKeeperServer@694] - Established session 0x200065505490000 with negotiated timeout 30000 for client /127.0.0.1:51142
2018-06-28 17:41:53,862 [myid:] - INFO  [main-SendThread(localhost:11247):ClientCnxn$SendThread@1303] - Session establishment complete on server localhost/127.0.0.1:11247, sessionid = 0x200065505490000, negotiated timeout = 30000
2018-06-28 17:41:54,252 [myid:] - INFO  [WorkerSender[myid=3]:FastLeaderElection$Messenger$WorkerSender@440] - WorkerSender is down
2018-06-28 17:41:54,252 [myid:] - INFO  [WorkerReceiver[myid=3]:FastLeaderElection$Messenger$WorkerReceiver@409] - WorkerReceiver is down
2018-06-28 17:41:54,290 [myid:] - INFO  [main-SendThread(localhost:11249):ClientCnxn$SendThread@1029] - Opening socket connection to server localhost/127.0.0.1:11249. Will not attempt to authenticate using SASL (unknown error)
2018-06-28 17:41:54,291 [myid:] - INFO  [main-SendThread(localhost:11249):ClientCnxn$SendThread@879] - Socket connection established to localhost/127.0.0.1:11249, initiating session
2018-06-28 17:41:54,291 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11249:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:51143
2018-06-28 17:41:54,291 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11249:ZooKeeperServer@942] - Client attempting to renew session 0x3000655054b0000 at /127.0.0.1:51143
2018-06-28 17:41:54,291 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11249:ZooKeeperServer@694] - Established session 0x3000655054b0000 with negotiated timeout 30000 for client /127.0.0.1:51143
2018-06-28 17:41:54,291 [myid:] - INFO  [main-SendThread(localhost:11249):ClientCnxn$SendThread@1303] - Session establishment complete on server localhost/127.0.0.1:11249, sessionid = 0x3000655054b0000, negotiated timeout = 30000
2018-06-28 17:41:55,261 [myid:] - INFO  [main-SendThread(localhost:11245):ClientCnxn$SendThread@1029] - Opening socket connection to server localhost/127.0.0.1:11245. Will not attempt to authenticate using SASL (unknown error)
2018-06-28 17:41:55,262 [myid:] - INFO  [main-SendThread(localhost:11245):ClientCnxn$SendThread@879] - Socket connection established to localhost/127.0.0.1:11245, initiating session
2018-06-28 17:41:55,262 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11245:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:51144
2018-06-28 17:41:55,262 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11245:ZooKeeperServer@942] - Client attempting to renew session 0x100065505490000 at /127.0.0.1:51144
2018-06-28 17:41:55,262 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11245:Learner@108] - Revalidating client: 0x100065505490000
2018-06-28 17:41:55,263 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11245:ZooKeeperServer@694] - Established session 0x100065505490000 with negotiated timeout 30000 for client /127.0.0.1:51144
2018-06-28 17:41:55,263 [myid:] - INFO  [main-SendThread(localhost:11245):ClientCnxn$SendThread@1303] - Session establishment complete on server localhost/127.0.0.1:11245, sessionid = 0x100065505490000, negotiated timeout = 30000
2018-06-28 17:41:55,264 [myid:] - INFO  [main:ZxidRolloverTest@244] - Validating nodes 0 thru 34
2018-06-28 17:41:55,265 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000004
2018-06-28 17:41:55,266 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000005
2018-06-28 17:41:55,266 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000006
2018-06-28 17:41:55,267 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000007
2018-06-28 17:41:55,268 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000008
2018-06-28 17:41:55,268 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:100000009
2018-06-28 17:41:55,269 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000a
2018-06-28 17:41:55,269 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000b
2018-06-28 17:41:55,270 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000c
2018-06-28 17:41:55,270 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:10000000d
2018-06-28 17:41:55,271 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:1fffffffd
2018-06-28 17:41:55,271 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:1fffffffe
2018-06-28 17:41:55,272 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:300000001
2018-06-28 17:41:55,272 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:300000002
2018-06-28 17:41:55,272 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:300000003
2018-06-28 17:41:55,273 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:300000004
2018-06-28 17:41:55,273 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:300000005
2018-06-28 17:41:55,274 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:300000006
2018-06-28 17:41:55,274 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:300000007
2018-06-28 17:41:55,275 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:300000008
2018-06-28 17:41:55,275 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:300000009
2018-06-28 17:41:55,276 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:30000000a
2018-06-28 17:41:55,276 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:3fffffffd
2018-06-28 17:41:55,277 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:3fffffffe
2018-06-28 17:41:55,277 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:500000001
2018-06-28 17:41:55,278 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:500000002
2018-06-28 17:41:55,278 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:500000003
2018-06-28 17:41:55,279 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:500000004
2018-06-28 17:41:55,280 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:500000005
2018-06-28 17:41:55,280 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:500000006
2018-06-28 17:41:55,281 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:500000007
2018-06-28 17:41:55,281 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:500000008
2018-06-28 17:41:55,282 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:500000009
2018-06-28 17:41:55,282 [myid:] - ERROR [main:ZxidRolloverTest@247] - Exists zxid:50000000a
2018-06-28 17:41:55,283 [myid:] - INFO  [main:ZxidRolloverTest@225] - Creating nodes 34 thru 44
2018-06-28 17:41:55,283 [myid:] - INFO  [SyncThread:3:FileTxnLog@213] - Creating new log file: log.600000001
2018-06-28 17:41:55,283 [myid:] - WARN  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11247:Follower@119] - Got zxid 0x600000001 expected 0x1
2018-06-28 17:41:55,283 [myid:] - WARN  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11245:Follower@119] - Got zxid 0x600000001 expected 0x1
2018-06-28 17:41:55,283 [myid:] - INFO  [SyncThread:2:FileTxnLog@213] - Creating new log file: log.600000001
2018-06-28 17:41:55,284 [myid:] - INFO  [SyncThread:1:FileTxnLog@213] - Creating new log file: log.600000001
2018-06-28 17:41:55,296 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@301] - Snapshotting: 0x600000005 to /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test5690536941932137879.junit.dir/version-2/snapshot.600000005
2018-06-28 17:41:55,296 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@301] - Snapshotting: 0x600000005 to /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test4714800816684036148.junit.dir/version-2/snapshot.600000005
2018-06-28 17:41:55,296 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@301] - Snapshotting: 0x600000005 to /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test5462526835103515188.junit.dir/version-2/snapshot.600000005
2018-06-28 17:41:55,297 [myid:] - INFO  [SyncThread:3:FileTxnLog@213] - Creating new log file: log.600000007
2018-06-28 17:41:55,297 [myid:] - INFO  [SyncThread:2:FileTxnLog@213] - Creating new log file: log.600000007
2018-06-28 17:41:55,297 [myid:] - INFO  [SyncThread:1:FileTxnLog@213] - Creating new log file: log.600000007
2018-06-28 17:41:55,301 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@301] - Snapshotting: 0x600000009 to /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test5690536941932137879.junit.dir/version-2/snapshot.600000009
2018-06-28 17:41:55,301 [myid:] - INFO  [main:ZxidRolloverTest@213] - tearDown starting
2018-06-28 17:41:55,302 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::PrepRequestProcessor@487] - Processed session termination for sessionid: 0x100065505490000
2018-06-28 17:41:55,302 [myid:] - INFO  [SyncThread:3:FileTxnLog@213] - Creating new log file: log.60000000b
2018-06-28 17:41:55,302 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@301] - Snapshotting: 0x60000000a to /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test5462526835103515188.junit.dir/version-2/snapshot.60000000a
2018-06-28 17:41:55,302 [myid:] - INFO  [Snapshot Thread:FileTxnSnapLog@301] - Snapshotting: 0x60000000a to /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test4714800816684036148.junit.dir/version-2/snapshot.60000000a
2018-06-28 17:41:55,304 [myid:] - INFO  [main:ZooKeeper@693] - Session: 0x100065505490000 closed
2018-06-28 17:41:55,304 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@522] - EventThread shut down for session: 0x100065505490000
2018-06-28 17:41:55,304 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11245:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:51144 which had sessionid 0x100065505490000
2018-06-28 17:41:55,305 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::PrepRequestProcessor@487] - Processed session termination for sessionid: 0x200065505490000
2018-06-28 17:41:55,305 [myid:] - INFO  [SyncThread:2:FileTxnLog@213] - Creating new log file: log.60000000c
2018-06-28 17:41:55,305 [myid:] - INFO  [SyncThread:1:FileTxnLog@213] - Creating new log file: log.60000000c
2018-06-28 17:41:55,306 [myid:] - INFO  [main:ZooKeeper@693] - Session: 0x200065505490000 closed
2018-06-28 17:41:55,306 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11247:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:51142 which had sessionid 0x200065505490000
2018-06-28 17:41:55,306 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@522] - EventThread shut down for session: 0x200065505490000
2018-06-28 17:41:55,307 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::PrepRequestProcessor@487] - Processed session termination for sessionid: 0x3000655054b0000
2018-06-28 17:41:55,308 [myid:] - INFO  [main:ZooKeeper@693] - Session: 0x3000655054b0000 closed
2018-06-28 17:41:55,308 [myid:] - INFO  [main-EventThread:ClientCnxn$EventThread@522] - EventThread shut down for session: 0x3000655054b0000
2018-06-28 17:41:55,308 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11249:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:51143 which had sessionid 0x3000655054b0000
2018-06-28 17:41:55,308 [myid:] - INFO  [main:QuorumUtil@227] - Shutting down quorum peer QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11245
2018-06-28 17:41:55,308 [myid:] - INFO  [main:Follower@169] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:169)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1026)
	at org.apache.zookeeper.test.QuorumUtil.shutdown(QuorumUtil.java:228)
	at org.apache.zookeeper.test.QuorumUtil.shutdownAll(QuorumUtil.java:215)
	at org.apache.zookeeper.server.ZxidRolloverTest.tearDown(ZxidRolloverTest.java:217)
	at junit.framework.TestCase.runBare(TestCase.java:146)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:536)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1205)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1048)
2018-06-28 17:41:55,308 [myid:] - INFO  [main:FollowerZooKeeperServer@140] - Shutting down
2018-06-28 17:41:55,308 [myid:] - INFO  [main:ZooKeeperServer@502] - shutting down
2018-06-28 17:41:55,308 [myid:] - INFO  [main:FollowerRequestProcessor@107] - Shutting down
2018-06-28 17:41:55,308 [myid:] - INFO  [main:CommitProcessor@184] - Shutting down
2018-06-28 17:41:55,309 [myid:] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@97] - FollowerRequestProcessor exited loop!
2018-06-28 17:41:55,309 [myid:] - INFO  [CommitProcessor:1:CommitProcessor@153] - CommitProcessor exited loop!
2018-06-28 17:41:55,309 [myid:] - INFO  [main:FinalRequestProcessor@403] - shutdown of request processor complete
2018-06-28 17:41:55,309 [myid:] - INFO  [main:SyncRequestProcessor@208] - Shutting down
2018-06-28 17:41:55,309 [myid:] - INFO  [SyncThread:1:SyncRequestProcessor@186] - SyncRequestProcessor exited!
2018-06-28 17:41:55,310 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11245:NIOServerCnxnFactory@242] - NIOServerCnxn factory exited run method
2018-06-28 17:41:55,310 [myid:] - ERROR [/127.0.0.1:12246:QuorumCnxManager$Listener@760] - Exception while listening
java.net.SocketException: Socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:409)
	at java.net.ServerSocket.implAccept(ServerSocket.java:545)
	at java.net.ServerSocket.accept(ServerSocket.java:513)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$Listener.run(QuorumCnxManager.java:741)
2018-06-28 17:41:55,310 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1025] - Connection broken for id 1, my id = 2, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1010)
2018-06-28 17:41:55,310 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1025] - Connection broken for id 3, my id = 1, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1010)
2018-06-28 17:41:55,311 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1028] - Interrupting SendWorker
2018-06-28 17:41:55,310 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1025] - Connection broken for id 2, my id = 1, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1010)
2018-06-28 17:41:55,311 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1028] - Interrupting SendWorker
2018-06-28 17:41:55,310 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1025] - Connection broken for id 1, my id = 3, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1010)
2018-06-28 17:41:55,311 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1028] - Interrupting SendWorker
2018-06-28 17:41:55,310 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@941] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:418)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1094)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$700(QuorumCnxManager.java:74)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:929)
2018-06-28 17:41:55,311 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@951] - Send worker leaving thread
2018-06-28 17:41:55,310 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@941] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:418)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1094)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$700(QuorumCnxManager.java:74)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:929)
2018-06-28 17:41:55,311 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@941] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:418)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1094)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$700(QuorumCnxManager.java:74)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:929)
2018-06-28 17:41:55,311 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@951] - Send worker leaving thread
2018-06-28 17:41:55,311 [myid:] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1028] - Interrupting SendWorker
2018-06-28 17:41:55,310 [myid:] - INFO  [main:QuorumUtil@231] - Shutting down leader election QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11245
2018-06-28 17:41:55,311 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@941] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:418)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1094)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$700(QuorumCnxManager.java:74)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:929)
2018-06-28 17:41:55,311 [myid:] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@951] - Send worker leaving thread
2018-06-28 17:41:55,311 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@951] - Send worker leaving thread
2018-06-28 17:41:55,311 [myid:] - INFO  [main:QuorumUtil@236] - Waiting for QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11245 to exit thread
2018-06-28 17:41:55,328 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11245:Follower@169] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:169)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:985)
2018-06-28 17:41:55,328 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11245:FollowerZooKeeperServer@140] - Shutting down
2018-06-28 17:41:55,328 [myid:] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11245:SyncRequestProcessor@208] - Shutting down
2018-06-28 17:41:55,328 [myid:] - WARN  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11245:QuorumPeer@1009] - QuorumPeer main thread exited
2018-06-28 17:41:55,328 [myid:] - INFO  [main:QuorumUtil@227] - Shutting down quorum peer QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11247
2018-06-28 17:41:55,328 [myid:] - INFO  [main:Follower@169] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:169)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1026)
	at org.apache.zookeeper.test.QuorumUtil.shutdown(QuorumUtil.java:228)
	at org.apache.zookeeper.test.QuorumUtil.shutdownAll(QuorumUtil.java:215)
	at org.apache.zookeeper.server.ZxidRolloverTest.tearDown(ZxidRolloverTest.java:217)
	at junit.framework.TestCase.runBare(TestCase.java:146)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:536)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1205)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1048)
2018-06-28 17:41:55,329 [myid:] - INFO  [main:FollowerZooKeeperServer@140] - Shutting down
2018-06-28 17:41:55,329 [myid:] - INFO  [main:ZooKeeperServer@502] - shutting down
2018-06-28 17:41:55,329 [myid:] - INFO  [main:FollowerRequestProcessor@107] - Shutting down
2018-06-28 17:41:55,329 [myid:] - INFO  [main:CommitProcessor@184] - Shutting down
2018-06-28 17:41:55,329 [myid:] - INFO  [FollowerRequestProcessor:2:FollowerRequestProcessor@97] - FollowerRequestProcessor exited loop!
2018-06-28 17:41:55,329 [myid:] - INFO  [CommitProcessor:2:CommitProcessor@153] - CommitProcessor exited loop!
2018-06-28 17:41:55,329 [myid:] - INFO  [main:FinalRequestProcessor@403] - shutdown of request processor complete
2018-06-28 17:41:55,334 [myid:] - INFO  [main:SyncRequestProcessor@208] - Shutting down
2018-06-28 17:41:55,335 [myid:] - INFO  [SyncThread:2:SyncRequestProcessor@186] - SyncRequestProcessor exited!
2018-06-28 17:41:55,335 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11247:NIOServerCnxnFactory@242] - NIOServerCnxn factory exited run method
2018-06-28 17:41:55,335 [myid:] - ERROR [/127.0.0.1:12248:QuorumCnxManager$Listener@760] - Exception while listening
java.net.SocketException: Socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:409)
	at java.net.ServerSocket.implAccept(ServerSocket.java:545)
	at java.net.ServerSocket.accept(ServerSocket.java:513)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$Listener.run(QuorumCnxManager.java:741)
2018-06-28 17:41:55,336 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1025] - Connection broken for id 3, my id = 2, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1010)
2018-06-28 17:41:55,336 [myid:] - WARN  [RecvWorker:3:QuorumCnxManager$RecvWorker@1028] - Interrupting SendWorker
2018-06-28 17:41:55,336 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1025] - Connection broken for id 2, my id = 3, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1010)
2018-06-28 17:41:55,336 [myid:] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1028] - Interrupting SendWorker
2018-06-28 17:41:55,336 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@941] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:418)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1094)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$700(QuorumCnxManager.java:74)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:929)
2018-06-28 17:41:55,336 [myid:] - WARN  [SendWorker:3:QuorumCnxManager$SendWorker@951] - Send worker leaving thread
2018-06-28 17:41:55,336 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@941] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:418)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1094)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$700(QuorumCnxManager.java:74)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:929)
2018-06-28 17:41:55,337 [myid:] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@951] - Send worker leaving thread
2018-06-28 17:41:55,336 [myid:] - INFO  [main:QuorumUtil@231] - Shutting down leader election QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11247
2018-06-28 17:41:55,337 [myid:] - INFO  [main:QuorumUtil@236] - Waiting for QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11247 to exit thread
2018-06-28 17:41:56,117 [myid:] - INFO  [WorkerSender[myid=1]:FastLeaderElection$Messenger$WorkerSender@440] - WorkerSender is down
2018-06-28 17:41:56,117 [myid:] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@409] - WorkerReceiver is down
2018-06-28 17:41:56,117 [myid:] - INFO  [WorkerSender[myid=2]:FastLeaderElection$Messenger$WorkerSender@440] - WorkerSender is down
2018-06-28 17:41:56,117 [myid:] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection$Messenger$WorkerReceiver@409] - WorkerReceiver is down
2018-06-28 17:41:56,313 [myid:] - INFO  [/127.0.0.1:12246:QuorumCnxManager$Listener@773] - Leaving listener
2018-06-28 17:41:56,331 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11247:Follower@169] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:169)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:985)
2018-06-28 17:41:56,331 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11247:FollowerZooKeeperServer@140] - Shutting down
2018-06-28 17:41:56,331 [myid:] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11247:SyncRequestProcessor@208] - Shutting down
2018-06-28 17:41:56,331 [myid:] - WARN  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11247:QuorumPeer@1009] - QuorumPeer main thread exited
2018-06-28 17:41:56,331 [myid:] - INFO  [main:QuorumUtil@227] - Shutting down quorum peer QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11249
2018-06-28 17:41:56,331 [myid:] - INFO  [main:Leader@520] - Shutting down
2018-06-28 17:41:56,331 [myid:] - INFO  [main:Leader@526] - Shutdown called
java.lang.Exception: shutdown Leader! reason: quorum Peer shutdown
	at org.apache.zookeeper.server.quorum.Leader.shutdown(Leader.java:526)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1023)
	at org.apache.zookeeper.test.QuorumUtil.shutdown(QuorumUtil.java:228)
	at org.apache.zookeeper.test.QuorumUtil.shutdownAll(QuorumUtil.java:215)
	at org.apache.zookeeper.server.ZxidRolloverTest.tearDown(ZxidRolloverTest.java:217)
	at junit.framework.TestCase.runBare(TestCase.java:146)
	at junit.framework.TestResult$1.protect(TestResult.java:122)
	at junit.framework.TestResult.runProtected(TestResult.java:142)
	at junit.framework.TestResult.run(TestResult.java:125)
	at junit.framework.TestCase.run(TestCase.java:129)
	at junit.framework.TestSuite.runTest(TestSuite.java:252)
	at junit.framework.TestSuite.run(TestSuite.java:247)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:536)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1205)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1048)
2018-06-28 17:41:56,331 [myid:] - INFO  [main:ZooKeeperServer@502] - shutting down
2018-06-28 17:41:56,331 [myid:] - INFO  [LearnerCnxAcceptor-/127.0.0.1:12249:Leader$LearnerCnxAcceptor@340] - exception while shutting down acceptor: java.net.SocketException: Socket closed
2018-06-28 17:41:56,331 [myid:] - INFO  [main:SessionTrackerImpl@226] - Shutting down
2018-06-28 17:41:56,332 [myid:] - INFO  [main:PrepRequestProcessor@769] - Shutting down
2018-06-28 17:41:56,332 [myid:] - INFO  [main:ProposalRequestProcessor@88] - Shutting down
2018-06-28 17:41:56,332 [myid:] - INFO  [main:CommitProcessor@184] - Shutting down
2018-06-28 17:41:56,332 [myid:] - INFO  [ProcessThread(sid:3 cport:-1)::PrepRequestProcessor@144] - PrepRequestProcessor exited loop!
2018-06-28 17:41:56,332 [myid:] - INFO  [CommitProcessor:3:CommitProcessor@153] - CommitProcessor exited loop!
2018-06-28 17:41:56,332 [myid:] - INFO  [main:Leader$ToBeAppliedRequestProcessor@685] - Shutting down
2018-06-28 17:41:56,332 [myid:] - INFO  [main:FinalRequestProcessor@403] - shutdown of request processor complete
2018-06-28 17:41:56,332 [myid:] - INFO  [main:SyncRequestProcessor@208] - Shutting down
2018-06-28 17:41:56,333 [myid:] - INFO  [SyncThread:3:SyncRequestProcessor@186] - SyncRequestProcessor exited!
2018-06-28 17:41:56,333 [myid:] - WARN  [LearnerHandler-/127.0.0.1:51135:LearnerHandler@661] - ******* GOODBYE /127.0.0.1:51135 ********
2018-06-28 17:41:56,333 [myid:] - WARN  [LearnerHandler-/127.0.0.1:51136:LearnerHandler@661] - ******* GOODBYE /127.0.0.1:51136 ********
2018-06-28 17:41:56,333 [myid:] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11249:NIOServerCnxnFactory@242] - NIOServerCnxn factory exited run method
2018-06-28 17:41:56,333 [myid:] - WARN  [LearnerHandler-/127.0.0.1:51136:LearnerHandler@673] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1220)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:335)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:339)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:671)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:664)
2018-06-28 17:41:56,334 [myid:] - WARN  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11249:QuorumPeer@997] - Unexpected exception
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at org.apache.zookeeper.server.quorum.Leader.lead(Leader.java:474)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:994)
2018-06-28 17:41:56,334 [myid:] - ERROR [/127.0.0.1:12250:QuorumCnxManager$Listener@760] - Exception while listening
java.net.SocketException: Socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:409)
	at java.net.ServerSocket.implAccept(ServerSocket.java:545)
	at java.net.ServerSocket.accept(ServerSocket.java:513)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$Listener.run(QuorumCnxManager.java:741)
2018-06-28 17:41:56,333 [myid:] - WARN  [LearnerHandler-/127.0.0.1:51135:LearnerHandler@673] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1220)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:335)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:339)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:671)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:664)
2018-06-28 17:41:56,334 [myid:] - INFO  [main:QuorumUtil@231] - Shutting down leader election QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11249
2018-06-28 17:41:56,334 [myid:] - INFO  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11249:Leader@520] - Shutting down
2018-06-28 17:41:56,335 [myid:] - WARN  [QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11249:QuorumPeer@1009] - QuorumPeer main thread exited
2018-06-28 17:41:56,335 [myid:] - INFO  [main:QuorumUtil@236] - Waiting for QuorumPeer[myid=3]/0:0:0:0:0:0:0:0:11249 to exit thread
2018-06-28 17:41:56,335 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11245
2018-06-28 17:41:56,335 [myid:] - INFO  [main:QuorumUtil@220] - 127.0.0.1:11245 is no longer accepting client connections
2018-06-28 17:41:56,335 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11247
2018-06-28 17:41:56,336 [myid:] - INFO  [main:QuorumUtil@220] - 127.0.0.1:11247 is no longer accepting client connections
2018-06-28 17:41:56,336 [myid:] - INFO  [main:FourLetterWordMain@65] - connecting to 127.0.0.1 11249
2018-06-28 17:41:56,336 [myid:] - INFO  [/127.0.0.1:12248:QuorumCnxManager$Listener@773] - Leaving listener
2018-06-28 17:41:56,336 [myid:] - INFO  [main:QuorumUtil@220] - 127.0.0.1:11249 is no longer accepting client connections
------------- ---------------- ---------------

Testcase: testSimpleRolloverFollower took 3.153 sec
Testcase: testRolloverThenLeaderRestart took 9.49 sec
Testcase: testRolloverThenFollowerRestart took 14.819 sec
Testcase: testMultipleRollover took 12.634 sec
Testcase: testRolloverThenRestart took 20.709 sec
