Testsuite: org.apache.zookeeper.server.quorum.EphemeralNodeDeletionTest
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 4.6 sec
------------- Standard Output ---------------
2018-06-28 17:42:31,007 [myid:] - INFO  [main:ZKTestCase$1@59] - STARTING testEphemeralNodeDeletion
2018-06-28 17:42:31,015 [myid:] - INFO  [Time-limited test:JUnit4ZKTestRunner$LoggedInvokeMethod@53] - RUNNING TEST METHOD testEphemeralNodeDeletion
2018-06-28 17:42:31,017 [myid:] - INFO  [Time-limited test:PortAssignment@32] - assigning port 11221
2018-06-28 17:42:31,017 [myid:] - INFO  [Time-limited test:PortAssignment@32] - assigning port 11222
2018-06-28 17:42:31,017 [myid:] - INFO  [Time-limited test:PortAssignment@32] - assigning port 11223
2018-06-28 17:42:31,017 [myid:] - INFO  [Time-limited test:PortAssignment@32] - assigning port 11224
2018-06-28 17:42:31,017 [myid:] - INFO  [Time-limited test:PortAssignment@32] - assigning port 11225
2018-06-28 17:42:31,018 [myid:] - INFO  [Time-limited test:PortAssignment@32] - assigning port 11226
2018-06-28 17:42:31,018 [myid:] - INFO  [Time-limited test:PortAssignment@32] - assigning port 11227
2018-06-28 17:42:31,018 [myid:] - INFO  [Time-limited test:PortAssignment@32] - assigning port 11228
2018-06-28 17:42:31,018 [myid:] - INFO  [Time-limited test:PortAssignment@32] - assigning port 11229
server.0=127.0.0.1:11222:11223
server.1=127.0.0.1:11225:11226
server.2=127.0.0.1:11228:11229

2018-06-28 17:42:31,035 [myid:] - INFO  [Time-limited test:QuorumPeerTestBase$MainThread@92] - id = 0 tmpDir = /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test7798155782212547818.junit.dir clientPort = 11221
2018-06-28 17:42:31,039 [myid:] - INFO  [Time-limited test:QuorumPeerTestBase$MainThread@92] - id = 1 tmpDir = /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test1335594131461083375.junit.dir clientPort = 11224
2018-06-28 17:42:31,041 [myid:] - INFO  [Time-limited test:QuorumPeerTestBase$MainThread@92] - id = 2 tmpDir = /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test3774918052725327395.junit.dir clientPort = 11227
2018-06-28 17:42:31,041 [myid:] - INFO  [Thread-1:QuorumPeerConfig@136] - Reading configuration from: /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test1335594131461083375.junit.dir/zoo.cfg
2018-06-28 17:42:31,041 [myid:] - INFO  [Thread-0:QuorumPeerConfig@136] - Reading configuration from: /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test7798155782212547818.junit.dir/zoo.cfg
2018-06-28 17:42:31,043 [myid:] - INFO  [Thread-2:QuorumPeerConfig@136] - Reading configuration from: /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test3774918052725327395.junit.dir/zoo.cfg
2018-06-28 17:42:31,045 [myid:] - INFO  [Time-limited test:FourLetterWordMain@65] - connecting to 127.0.0.1 11221
2018-06-28 17:42:31,054 [myid:] - INFO  [Thread-0:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:42:31,054 [myid:] - INFO  [Thread-2:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:42:31,054 [myid:] - INFO  [Thread-0:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:42:31,054 [myid:] - INFO  [Thread-1:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:42:31,054 [myid:] - INFO  [Thread-0:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:42:31,055 [myid:] - INFO  [Thread-1:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:42:31,054 [myid:] - INFO  [Thread-2:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:42:31,055 [myid:] - INFO  [Thread-1:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:42:31,055 [myid:] - INFO  [Thread-2:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:42:31,055 [myid:] - INFO  [Thread-0:QuorumPeerConfig@398] - Defaulting to majority quorums
2018-06-28 17:42:31,055 [myid:] - INFO  [Thread-2:QuorumPeerConfig@398] - Defaulting to majority quorums
2018-06-28 17:42:31,055 [myid:] - INFO  [Thread-1:QuorumPeerConfig@398] - Defaulting to majority quorums
2018-06-28 17:42:31,063 [myid:] - INFO  [Time-limited test:ClientBase@290] - server 127.0.0.1:11221 not up java.net.ConnectException: Connection refused (Connection refused)
2018-06-28 17:42:31,064 [myid:0] - INFO  [Thread-0:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
2018-06-28 17:42:31,064 [myid:2] - INFO  [Thread-2:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
2018-06-28 17:42:31,064 [myid:2] - INFO  [Thread-2:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
2018-06-28 17:42:31,064 [myid:1] - INFO  [Thread-1:DatadirCleanupManager@78] - autopurge.snapRetainCount set to 3
2018-06-28 17:42:31,065 [myid:1] - INFO  [Thread-1:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
2018-06-28 17:42:31,065 [myid:2] - INFO  [Thread-2:DatadirCleanupManager@101] - Purge task is not scheduled.
2018-06-28 17:42:31,064 [myid:0] - INFO  [Thread-0:DatadirCleanupManager@79] - autopurge.purgeInterval set to 0
2018-06-28 17:42:31,065 [myid:0] - INFO  [Thread-0:DatadirCleanupManager@101] - Purge task is not scheduled.
2018-06-28 17:42:31,065 [myid:1] - INFO  [Thread-1:DatadirCleanupManager@101] - Purge task is not scheduled.
2018-06-28 17:42:31,150 [myid:2] - ERROR [Thread-2:LoggerDynamicMBean@270] - Could not add appenderMBean for [CONSOLE].
javax.management.InstanceAlreadyExistsException: log4j:appender=CONSOLE
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.log4j.jmx.AbstractDynamicMBean.registerMBean(AbstractDynamicMBean.java:160)
	at org.apache.log4j.jmx.LoggerDynamicMBean.registerAppenderMBean(LoggerDynamicMBean.java:264)
	at org.apache.log4j.jmx.LoggerDynamicMBean.appenderMBeanRegistration(LoggerDynamicMBean.java:252)
	at org.apache.log4j.jmx.LoggerDynamicMBean.postRegister(LoggerDynamicMBean.java:280)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.postRegister(DefaultMBeanServerInterceptor.java:1024)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:974)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.log4j.jmx.AbstractDynamicMBean.registerMBean(AbstractDynamicMBean.java:160)
	at org.apache.log4j.jmx.HierarchyDynamicMBean.addLoggerMBean(HierarchyDynamicMBean.java:125)
	at org.apache.log4j.jmx.HierarchyDynamicMBean.postRegister(HierarchyDynamicMBean.java:263)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.postRegister(DefaultMBeanServerInterceptor.java:1024)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:974)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:54)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:125)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:114)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:157)
	at java.lang.Thread.run(Thread.java:748)
2018-06-28 17:42:31,150 [myid:0] - WARN  [Thread-0:QuorumPeerMain@127] - Unable to register log4j JMX control
javax.management.InstanceAlreadyExistsException: log4j:hiearchy=default
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:54)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:125)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:114)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:157)
	at java.lang.Thread.run(Thread.java:748)
2018-06-28 17:42:31,153 [myid:0] - INFO  [Thread-0:QuorumPeerMain@130] - Starting quorum peer
2018-06-28 17:42:31,150 [myid:1] - ERROR [Thread-1:LoggerDynamicMBean@270] - Could not add appenderMBean for [CONSOLE].
javax.management.InstanceAlreadyExistsException: log4j:appender=CONSOLE
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.log4j.jmx.AbstractDynamicMBean.registerMBean(AbstractDynamicMBean.java:160)
	at org.apache.log4j.jmx.LoggerDynamicMBean.registerAppenderMBean(LoggerDynamicMBean.java:264)
	at org.apache.log4j.jmx.LoggerDynamicMBean.appenderMBeanRegistration(LoggerDynamicMBean.java:252)
	at org.apache.log4j.jmx.LoggerDynamicMBean.postRegister(LoggerDynamicMBean.java:280)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.postRegister(DefaultMBeanServerInterceptor.java:1024)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:974)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.log4j.jmx.AbstractDynamicMBean.registerMBean(AbstractDynamicMBean.java:160)
	at org.apache.log4j.jmx.HierarchyDynamicMBean.addLoggerMBean(HierarchyDynamicMBean.java:125)
	at org.apache.log4j.jmx.HierarchyDynamicMBean.postRegister(HierarchyDynamicMBean.java:263)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.postRegister(DefaultMBeanServerInterceptor.java:1024)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:974)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:54)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:125)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:114)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:157)
	at java.lang.Thread.run(Thread.java:748)
2018-06-28 17:42:31,153 [myid:2] - ERROR [Thread-2:HierarchyDynamicMBean@138] - Could not add loggerMBean for [root].
javax.management.InstanceAlreadyExistsException: log4j:logger=root
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.log4j.jmx.AbstractDynamicMBean.registerMBean(AbstractDynamicMBean.java:160)
	at org.apache.log4j.jmx.HierarchyDynamicMBean.addLoggerMBean(HierarchyDynamicMBean.java:125)
	at org.apache.log4j.jmx.HierarchyDynamicMBean.postRegister(HierarchyDynamicMBean.java:263)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.postRegister(DefaultMBeanServerInterceptor.java:1024)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:974)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:54)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:125)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:114)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:157)
	at java.lang.Thread.run(Thread.java:748)
2018-06-28 17:42:31,154 [myid:1] - ERROR [Thread-1:HierarchyDynamicMBean@138] - Could not add loggerMBean for [root].
javax.management.InstanceAlreadyExistsException: log4j:logger=root
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.log4j.jmx.AbstractDynamicMBean.registerMBean(AbstractDynamicMBean.java:160)
	at org.apache.log4j.jmx.HierarchyDynamicMBean.addLoggerMBean(HierarchyDynamicMBean.java:125)
	at org.apache.log4j.jmx.HierarchyDynamicMBean.postRegister(HierarchyDynamicMBean.java:263)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.postRegister(DefaultMBeanServerInterceptor.java:1024)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:974)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:54)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:125)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:114)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:157)
	at java.lang.Thread.run(Thread.java:748)
2018-06-28 17:42:31,155 [myid:1] - WARN  [Thread-1:QuorumPeerMain@127] - Unable to register log4j JMX control
javax.management.InstanceAlreadyExistsException: log4j:hiearchy=default
	at com.sun.jmx.mbeanserver.Repository.addMBean(Repository.java:437)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerWithRepository(DefaultMBeanServerInterceptor.java:1898)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerDynamicMBean(DefaultMBeanServerInterceptor.java:966)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerObject(DefaultMBeanServerInterceptor.java:900)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:324)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)
	at org.apache.zookeeper.jmx.ManagedUtil.registerLog4jMBeans(ManagedUtil.java:54)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:125)
	at org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:114)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.run(QuorumPeerTestBase.java:157)
	at java.lang.Thread.run(Thread.java:748)
2018-06-28 17:42:31,156 [myid:1] - INFO  [Thread-1:QuorumPeerMain@130] - Starting quorum peer
2018-06-28 17:42:31,157 [myid:2] - INFO  [Thread-2:QuorumPeerMain@130] - Starting quorum peer
2018-06-28 17:42:31,163 [myid:0] - INFO  [Thread-0:ServerCnxnFactory@117] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2018-06-28 17:42:31,163 [myid:1] - INFO  [Thread-1:ServerCnxnFactory@117] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2018-06-28 17:42:31,163 [myid:2] - INFO  [Thread-2:ServerCnxnFactory@117] - Using org.apache.zookeeper.server.NIOServerCnxnFactory as server connection factory
2018-06-28 17:42:31,176 [myid:0] - INFO  [Thread-0:NIOServerCnxnFactory@89] - binding to port 0.0.0.0/0.0.0.0:11221
2018-06-28 17:42:31,176 [myid:1] - INFO  [Thread-1:NIOServerCnxnFactory@89] - binding to port 0.0.0.0/0.0.0.0:11224
2018-06-28 17:42:31,176 [myid:2] - INFO  [Thread-2:NIOServerCnxnFactory@89] - binding to port 0.0.0.0/0.0.0.0:11227
2018-06-28 17:42:31,195 [myid:0] - INFO  [Thread-0:QuorumPeer@1158] - tickTime set to 4000
2018-06-28 17:42:31,195 [myid:2] - INFO  [Thread-2:QuorumPeer@1158] - tickTime set to 4000
2018-06-28 17:42:31,195 [myid:1] - INFO  [Thread-1:QuorumPeer@1158] - tickTime set to 4000
2018-06-28 17:42:31,196 [myid:2] - INFO  [Thread-2:QuorumPeer@1204] - initLimit set to 10
2018-06-28 17:42:31,196 [myid:0] - INFO  [Thread-0:QuorumPeer@1204] - initLimit set to 10
2018-06-28 17:42:31,196 [myid:2] - INFO  [Thread-2:QuorumPeer@1178] - minSessionTimeout set to -1
2018-06-28 17:42:31,196 [myid:1] - INFO  [Thread-1:QuorumPeer@1204] - initLimit set to 10
2018-06-28 17:42:31,196 [myid:2] - INFO  [Thread-2:QuorumPeer@1189] - maxSessionTimeout set to -1
2018-06-28 17:42:31,196 [myid:0] - INFO  [Thread-0:QuorumPeer@1178] - minSessionTimeout set to -1
2018-06-28 17:42:31,196 [myid:0] - INFO  [Thread-0:QuorumPeer@1189] - maxSessionTimeout set to -1
2018-06-28 17:42:31,196 [myid:1] - INFO  [Thread-1:QuorumPeer@1178] - minSessionTimeout set to -1
2018-06-28 17:42:31,196 [myid:1] - INFO  [Thread-1:QuorumPeer@1189] - maxSessionTimeout set to -1
2018-06-28 17:42:31,208 [myid:0] - INFO  [Thread-0:QuorumPeer@1467] - QuorumPeer communication is not secured!
2018-06-28 17:42:31,208 [myid:1] - INFO  [Thread-1:QuorumPeer@1467] - QuorumPeer communication is not secured!
2018-06-28 17:42:31,208 [myid:2] - INFO  [Thread-2:QuorumPeer@1467] - QuorumPeer communication is not secured!
2018-06-28 17:42:31,208 [myid:1] - INFO  [Thread-1:QuorumPeer@1496] - quorum.cnxn.threads.size set to 20
2018-06-28 17:42:31,208 [myid:0] - INFO  [Thread-0:QuorumPeer@1496] - quorum.cnxn.threads.size set to 20
2018-06-28 17:42:31,208 [myid:2] - INFO  [Thread-2:QuorumPeer@1496] - quorum.cnxn.threads.size set to 20
2018-06-28 17:42:31,212 [myid:1] - INFO  [Thread-1:QuorumPeer@668] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2018-06-28 17:42:31,212 [myid:2] - INFO  [Thread-2:QuorumPeer@668] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2018-06-28 17:42:31,212 [myid:0] - INFO  [Thread-0:QuorumPeer@668] - currentEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2018-06-28 17:42:31,214 [myid:0] - INFO  [Thread-0:QuorumPeer@683] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2018-06-28 17:42:31,214 [myid:2] - INFO  [Thread-2:QuorumPeer@683] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2018-06-28 17:42:31,215 [myid:1] - INFO  [Thread-1:QuorumPeer@683] - acceptedEpoch not found! Creating with a reasonable default of 0. This should only happen when you are upgrading your installation
2018-06-28 17:42:31,221 [myid:1] - INFO  [ListenerThread:QuorumCnxManager$Listener@736] - My election bind port: /127.0.0.1:11226
2018-06-28 17:42:31,221 [myid:2] - INFO  [ListenerThread:QuorumCnxManager$Listener@736] - My election bind port: /127.0.0.1:11229
2018-06-28 17:42:31,221 [myid:0] - INFO  [ListenerThread:QuorumCnxManager$Listener@736] - My election bind port: /127.0.0.1:11223
2018-06-28 17:42:31,242 [myid:2] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11227:QuorumPeer@909] - LOOKING
2018-06-28 17:42:31,242 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:QuorumPeer@909] - LOOKING
2018-06-28 17:42:31,242 [myid:0] - INFO  [QuorumPeer[myid=0]/0:0:0:0:0:0:0:0:11221:QuorumPeer@909] - LOOKING
2018-06-28 17:42:31,243 [myid:2] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11227:FastLeaderElection@813] - New election. My id =  2, proposed zxid=0x0
2018-06-28 17:42:31,243 [myid:0] - INFO  [QuorumPeer[myid=0]/0:0:0:0:0:0:0:0:11221:FastLeaderElection@813] - New election. My id =  0, proposed zxid=0x0
2018-06-28 17:42:31,243 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:FastLeaderElection@813] - New election. My id =  1, proposed zxid=0x0
2018-06-28 17:42:31,245 [myid:0] - INFO  [/127.0.0.1:11223:QuorumCnxManager$Listener@743] - Received connection request /127.0.0.1:51259
2018-06-28 17:42:31,246 [myid:1] - INFO  [/127.0.0.1:11226:QuorumCnxManager$Listener@743] - Received connection request /127.0.0.1:51260
2018-06-28 17:42:31,246 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@595] - Notification: 1 (message format version), 0 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:42:31,249 [myid:0] - INFO  [WorkerSender[myid=0]:QuorumCnxManager@347] - Have smaller server identifier, so dropping the connection: (1, 0)
2018-06-28 17:42:31,249 [myid:2] - INFO  [/127.0.0.1:11229:QuorumCnxManager$Listener@743] - Received connection request /127.0.0.1:51261
2018-06-28 17:42:31,249 [myid:0] - INFO  [WorkerSender[myid=0]:QuorumCnxManager@347] - Have smaller server identifier, so dropping the connection: (2, 0)
2018-06-28 17:42:31,251 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:42:31,251 [myid:0] - INFO  [/127.0.0.1:11223:QuorumCnxManager$Listener@743] - Received connection request /127.0.0.1:51258
2018-06-28 17:42:31,251 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:42:31,251 [myid:1] - INFO  [WorkerSender[myid=1]:QuorumCnxManager@347] - Have smaller server identifier, so dropping the connection: (2, 1)
2018-06-28 17:42:31,251 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 0 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:42:31,252 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:42:31,251 [myid:2] - INFO  [/127.0.0.1:11229:QuorumCnxManager$Listener@743] - Received connection request /127.0.0.1:51263
2018-06-28 17:42:31,251 [myid:1] - INFO  [/127.0.0.1:11226:QuorumCnxManager$Listener@743] - Received connection request /127.0.0.1:51262
2018-06-28 17:42:31,252 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 0 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:42:31,252 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:42:31,252 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:42:31,252 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1025] - Connection broken for id 1, my id = 2, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1010)
2018-06-28 17:42:31,253 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1025] - Connection broken for id 2, my id = 1, error = 
java.net.SocketException: Connection reset
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1010)
2018-06-28 17:42:31,253 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1028] - Interrupting SendWorker
2018-06-28 17:42:31,253 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1028] - Interrupting SendWorker
2018-06-28 17:42:31,253 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:42:31,253 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@946] - Exception when using channel: for id 2 my id = 1 error = java.net.SocketException: Broken pipe (Write failed)
2018-06-28 17:42:31,253 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:42:31,253 [myid:1] - INFO  [/127.0.0.1:11226:QuorumCnxManager$Listener@743] - Received connection request /127.0.0.1:51264
2018-06-28 17:42:31,252 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:42:31,252 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@941] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:418)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1094)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$700(QuorumCnxManager.java:74)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:929)
2018-06-28 17:42:31,254 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:42:31,254 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@951] - Send worker leaving thread
2018-06-28 17:42:31,254 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:42:31,254 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:42:31,254 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@951] - Send worker leaving thread
2018-06-28 17:42:31,255 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:42:31,255 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 0 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:42:31,255 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 2 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:42:31,255 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LOOKING (n.state), 1 (n.sid), 0x0 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:42:31,313 [myid:] - INFO  [Time-limited test:FourLetterWordMain@65] - connecting to 127.0.0.1 11221
2018-06-28 17:42:31,316 [myid:0] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11221:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:51265
2018-06-28 17:42:31,324 [myid:0] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11221:ServerCnxn@324] - The list of known four letter word commands is : [{1936881266=srvr, 1937006964=stat, 2003003491=wchc, 1685417328=dump, 1668445044=crst, 1936880500=srst, 1701738089=envi, 1668247142=conf, 2003003507=wchs, 2003003504=wchp, 1668247155=cons, 1835955314=mntr, 1769173615=isro, 1920298859=ruok, 1735683435=gtmk, 1937010027=stmk}]
2018-06-28 17:42:31,324 [myid:0] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11221:ServerCnxn@325] - The list of enabled four letter word commands is : [[wchs, stat, wchp, stmk, conf, ruok, mntr, srvr, wchc, envi, srst, isro, dump, gtmk, crst, cons]]
2018-06-28 17:42:31,324 [myid:0] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11221:NIOServerCnxn@908] - Processing stat command from /127.0.0.1:51265
2018-06-28 17:42:31,326 [myid:0] - INFO  [Thread-4:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:51265 (no session established for client)
2018-06-28 17:42:31,457 [myid:0] - INFO  [QuorumPeer[myid=0]/0:0:0:0:0:0:0:0:11221:QuorumPeer@979] - FOLLOWING
2018-06-28 17:42:31,457 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:QuorumPeer@979] - FOLLOWING
2018-06-28 17:42:31,459 [myid:2] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11227:QuorumPeer@991] - LEADING
2018-06-28 17:42:31,462 [myid:2] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11227:Leader@64] - TCP NoDelay set to: true
2018-06-28 17:42:31,462 [myid:0] - INFO  [QuorumPeer[myid=0]/0:0:0:0:0:0:0:0:11221:Learner@86] - TCP NoDelay set to: true
2018-06-28 17:42:31,531 [myid:0] - INFO  [QuorumPeer[myid=0]/0:0:0:0:0:0:0:0:11221:Environment@100] - Server environment:zookeeper.version=3.4.13-2d71af4dbe22557fda74f9a9b4309b15a7487f03, built on 06/29/2018 00:39 GMT
2018-06-28 17:42:31,531 [myid:0] - INFO  [QuorumPeer[myid=0]/0:0:0:0:0:0:0:0:11221:Environment@100] - Server environment:host.name=10.0.0.10
2018-06-28 17:42:31,531 [myid:0] - INFO  [QuorumPeer[myid=0]/0:0:0:0:0:0:0:0:11221:Environment@100] - Server environment:java.version=1.8.0_172
2018-06-28 17:42:31,531 [myid:0] - INFO  [QuorumPeer[myid=0]/0:0:0:0:0:0:0:0:11221:Environment@100] - Server environment:java.vendor=Oracle Corporation
2018-06-28 17:42:31,531 [myid:0] - INFO  [QuorumPeer[myid=0]/0:0:0:0:0:0:0:0:11221:Environment@100] - Server environment:java.home=/Library/Java/JavaVirtualMachines/jdk1.8.0_172.jdk/Contents/Home/jre
2018-06-28 17:42:31,531 [myid:0] - INFO  [QuorumPeer[myid=0]/0:0:0:0:0:0:0:0:11221:Environment@100] - Server environment:java.class.path=/Users/hanm/Desktop/projects/git/apache/zookeeper/build/classes:/Users/hanm/Desktop/projects/git/apache/zookeeper/src/java/lib/ant-eclipse-1.0-jvm1.2.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/src/java/lib/ivy-2.4.0.jar:/usr/local/Cellar/ant/1.10.3/libexec/lib/ant.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/classes:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/antlr-2.7.7.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/antlr4-annotations-4.3.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/antlr4-runtime-4.3.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-core-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-core-api-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-core-avl-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-core-constants-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-core-shared-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-i18n-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptor-kerberos-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-admin-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-authn-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-authz-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-changelog-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-collective-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-event-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-exception-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-journal-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-normalization-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-operational-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-referral-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-schema-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-subtree-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-trigger-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-jdbm-partition-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-jdbm1-2.0.0-M2.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-kerberos-codec-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-ldif-partition-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-mavibot-partition-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-protocol-kerberos-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-protocol-ldap-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-protocol-shared-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-xdbm-partition-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-all-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-asn1-api-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-asn1-ber-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-i18n-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-ldap-client-api-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-ldap-codec-core-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-ldap-extras-aci-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-ldap-extras-codec-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-ldap-extras-codec-api-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-ldap-extras-sp-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-ldap-extras-trigger-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-ldap-extras-util-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-ldap-model-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-util-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/audience-annotations-0.5.0.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/bcprov-jdk15-140.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/checkstyle-6.1.1.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/commons-beanutils-core-1.8.3.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/commons-cli-1.2.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/commons-collections-3.2.2.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/commons-io-2.4.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/commons-lang-2.6.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/commons-logging-1.1.1.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/commons-pool-1.6.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/ehcache-core-2.4.4.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/guava-18.0.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/hamcrest-all-1.3.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/hamcrest-core-1.3.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/jline-0.9.94.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/junit-4.12.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/log4j-1.2.17.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/mavibot-1.0.0-M1.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/mina-core-2.0.7.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/mockito-all-1.8.5.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/netty-3.10.6.Final.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/org.abego.treelayout.core-1.0.1.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/slf4j-api-1.7.25.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/slf4j-log4j12-1.7.25.jar:/usr/local/Cellar/ant/1.10.3/libexec/lib/ant-launcher.jar:/usr/local/Cellar/ant/1.10.3/libexec/lib/ant-junit.jar:/usr/local/Cellar/ant/1.10.3/libexec/lib/ant-junit4.jar
2018-06-28 17:42:31,531 [myid:0] - INFO  [QuorumPeer[myid=0]/0:0:0:0:0:0:0:0:11221:Environment@100] - Server environment:java.library.path=/Users/hanm/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.
2018-06-28 17:42:31,532 [myid:0] - INFO  [QuorumPeer[myid=0]/0:0:0:0:0:0:0:0:11221:Environment@100] - Server environment:java.io.tmpdir=/var/folders/wv/j6wmf1nj5h7c36qz9b81kmfw0000gn/T/
2018-06-28 17:42:31,532 [myid:0] - INFO  [QuorumPeer[myid=0]/0:0:0:0:0:0:0:0:11221:Environment@100] - Server environment:java.compiler=<NA>
2018-06-28 17:42:31,532 [myid:0] - INFO  [QuorumPeer[myid=0]/0:0:0:0:0:0:0:0:11221:Environment@100] - Server environment:os.name=Mac OS X
2018-06-28 17:42:31,532 [myid:0] - INFO  [QuorumPeer[myid=0]/0:0:0:0:0:0:0:0:11221:Environment@100] - Server environment:os.arch=x86_64
2018-06-28 17:42:31,532 [myid:0] - INFO  [QuorumPeer[myid=0]/0:0:0:0:0:0:0:0:11221:Environment@100] - Server environment:os.version=10.13.5
2018-06-28 17:42:31,532 [myid:0] - INFO  [QuorumPeer[myid=0]/0:0:0:0:0:0:0:0:11221:Environment@100] - Server environment:user.name=hanm
2018-06-28 17:42:31,532 [myid:0] - INFO  [QuorumPeer[myid=0]/0:0:0:0:0:0:0:0:11221:Environment@100] - Server environment:user.home=/Users/hanm
2018-06-28 17:42:31,532 [myid:0] - INFO  [QuorumPeer[myid=0]/0:0:0:0:0:0:0:0:11221:Environment@100] - Server environment:user.dir=/Users/hanm/Desktop/projects/git/apache/zookeeper
2018-06-28 17:42:31,534 [myid:2] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11227:ZooKeeperServer@174] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test3774918052725327395.junit.dir/data/version-2 snapdir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test3774918052725327395.junit.dir/data/version-2
2018-06-28 17:42:31,534 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:ZooKeeperServer@174] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test1335594131461083375.junit.dir/data/version-2 snapdir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test1335594131461083375.junit.dir/data/version-2
2018-06-28 17:42:31,534 [myid:0] - INFO  [QuorumPeer[myid=0]/0:0:0:0:0:0:0:0:11221:ZooKeeperServer@174] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test7798155782212547818.junit.dir/data/version-2 snapdir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test7798155782212547818.junit.dir/data/version-2
2018-06-28 17:42:31,535 [myid:0] - INFO  [QuorumPeer[myid=0]/0:0:0:0:0:0:0:0:11221:Follower@65] - FOLLOWING - LEADER ELECTION TOOK - 292
2018-06-28 17:42:31,535 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Follower@65] - FOLLOWING - LEADER ELECTION TOOK - 292
2018-06-28 17:42:31,535 [myid:2] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11227:Leader@380] - LEADING - LEADER ELECTION TOOK - 292
2018-06-28 17:42:31,536 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:42:31,537 [myid:0] - INFO  [QuorumPeer[myid=0]/0:0:0:0:0:0:0:0:11221:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:42:31,546 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:51267:LearnerHandler@346] - Follower sid: 1 : info : org.apache.zookeeper.server.quorum.QuorumPeer$QuorumServer@71a7d530
2018-06-28 17:42:31,546 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:51268:LearnerHandler@346] - Follower sid: 0 : info : org.apache.zookeeper.server.quorum.QuorumPeer$QuorumServer@f5e22ec
2018-06-28 17:42:31,548 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:51268:LearnerHandler@401] - Synchronizing with Follower sid: 0 maxCommittedLog=0x0 minCommittedLog=0x0 peerLastZxid=0x0
2018-06-28 17:42:31,548 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:51267:LearnerHandler@401] - Synchronizing with Follower sid: 1 maxCommittedLog=0x0 minCommittedLog=0x0 peerLastZxid=0x0
2018-06-28 17:42:31,548 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:51268:LearnerHandler@410] - leader and follower are in sync, zxid=0x0
2018-06-28 17:42:31,549 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:51267:LearnerHandler@410] - leader and follower are in sync, zxid=0x0
2018-06-28 17:42:31,549 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:51268:LearnerHandler@475] - Sending DIFF
2018-06-28 17:42:31,549 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:51267:LearnerHandler@475] - Sending DIFF
2018-06-28 17:42:31,549 [myid:0] - INFO  [QuorumPeer[myid=0]/0:0:0:0:0:0:0:0:11221:Learner@332] - Getting a diff from the leader 0x0
2018-06-28 17:42:31,549 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Learner@332] - Getting a diff from the leader 0x0
2018-06-28 17:42:31,555 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:51267:LearnerHandler@535] - Received NEWLEADER-ACK message from 1
2018-06-28 17:42:31,555 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:51268:LearnerHandler@535] - Received NEWLEADER-ACK message from 0
2018-06-28 17:42:31,555 [myid:2] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11227:Leader@964] - Have quorum of supporters, sids: [ 1,2 ]; starting up and setting last processed zxid: 0x100000000
2018-06-28 17:42:31,579 [myid:] - INFO  [Time-limited test:FourLetterWordMain@65] - connecting to 127.0.0.1 11221
2018-06-28 17:42:31,580 [myid:0] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11221:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:51269
2018-06-28 17:42:31,580 [myid:0] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11221:NIOServerCnxn@908] - Processing stat command from /127.0.0.1:51269
2018-06-28 17:42:31,581 [myid:0] - INFO  [Thread-7:NIOServerCnxn$StatCommand@687] - Stat command output
2018-06-28 17:42:31,582 [myid:0] - INFO  [Thread-7:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:51269 (no session established for client)
2018-06-28 17:42:31,582 [myid:] - INFO  [Time-limited test:FourLetterWordMain@65] - connecting to 127.0.0.1 11224
2018-06-28 17:42:31,582 [myid:1] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11224:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:51270
2018-06-28 17:42:31,583 [myid:1] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11224:NIOServerCnxn@908] - Processing stat command from /127.0.0.1:51270
2018-06-28 17:42:31,583 [myid:1] - INFO  [Thread-8:NIOServerCnxn$StatCommand@687] - Stat command output
2018-06-28 17:42:31,583 [myid:1] - INFO  [Thread-8:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:51270 (no session established for client)
2018-06-28 17:42:31,583 [myid:] - INFO  [Time-limited test:FourLetterWordMain@65] - connecting to 127.0.0.1 11227
2018-06-28 17:42:31,584 [myid:2] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11227:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:51271
2018-06-28 17:42:31,584 [myid:2] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11227:NIOServerCnxn@908] - Processing stat command from /127.0.0.1:51271
2018-06-28 17:42:31,584 [myid:2] - INFO  [Thread-9:NIOServerCnxn$StatCommand@687] - Stat command output
2018-06-28 17:42:31,585 [myid:2] - INFO  [Thread-9:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:51271 (no session established for client)
2018-06-28 17:42:31,591 [myid:] - INFO  [Time-limited test:Environment@100] - Client environment:zookeeper.version=3.4.13-2d71af4dbe22557fda74f9a9b4309b15a7487f03, built on 06/29/2018 00:39 GMT
2018-06-28 17:42:31,591 [myid:] - INFO  [Time-limited test:Environment@100] - Client environment:host.name=10.0.0.10
2018-06-28 17:42:31,591 [myid:] - INFO  [Time-limited test:Environment@100] - Client environment:java.version=1.8.0_172
2018-06-28 17:42:31,591 [myid:] - INFO  [Time-limited test:Environment@100] - Client environment:java.vendor=Oracle Corporation
2018-06-28 17:42:31,591 [myid:] - INFO  [Time-limited test:Environment@100] - Client environment:java.home=/Library/Java/JavaVirtualMachines/jdk1.8.0_172.jdk/Contents/Home/jre
2018-06-28 17:42:31,591 [myid:] - INFO  [Time-limited test:Environment@100] - Client environment:java.class.path=/Users/hanm/Desktop/projects/git/apache/zookeeper/build/classes:/Users/hanm/Desktop/projects/git/apache/zookeeper/src/java/lib/ant-eclipse-1.0-jvm1.2.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/src/java/lib/ivy-2.4.0.jar:/usr/local/Cellar/ant/1.10.3/libexec/lib/ant.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/classes:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/antlr-2.7.7.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/antlr4-annotations-4.3.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/antlr4-runtime-4.3.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-core-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-core-api-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-core-avl-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-core-constants-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-core-shared-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-i18n-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptor-kerberos-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-admin-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-authn-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-authz-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-changelog-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-collective-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-event-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-exception-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-journal-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-normalization-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-operational-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-referral-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-schema-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-subtree-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-interceptors-trigger-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-jdbm-partition-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-jdbm1-2.0.0-M2.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-kerberos-codec-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-ldif-partition-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-mavibot-partition-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-protocol-kerberos-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-protocol-ldap-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-protocol-shared-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/apacheds-xdbm-partition-2.0.0-M15.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-all-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-asn1-api-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-asn1-ber-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-i18n-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-ldap-client-api-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-ldap-codec-core-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-ldap-extras-aci-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-ldap-extras-codec-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-ldap-extras-codec-api-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-ldap-extras-sp-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-ldap-extras-trigger-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-ldap-extras-util-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-ldap-model-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/api-util-1.0.0-M20.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/audience-annotations-0.5.0.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/bcprov-jdk15-140.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/checkstyle-6.1.1.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/commons-beanutils-core-1.8.3.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/commons-cli-1.2.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/commons-collections-3.2.2.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/commons-io-2.4.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/commons-lang-2.6.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/commons-logging-1.1.1.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/commons-pool-1.6.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/ehcache-core-2.4.4.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/guava-18.0.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/hamcrest-all-1.3.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/hamcrest-core-1.3.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/jline-0.9.94.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/junit-4.12.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/log4j-1.2.17.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/mavibot-1.0.0-M1.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/mina-core-2.0.7.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/mockito-all-1.8.5.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/netty-3.10.6.Final.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/org.abego.treelayout.core-1.0.1.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/slf4j-api-1.7.25.jar:/Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/lib/slf4j-log4j12-1.7.25.jar:/usr/local/Cellar/ant/1.10.3/libexec/lib/ant-launcher.jar:/usr/local/Cellar/ant/1.10.3/libexec/lib/ant-junit.jar:/usr/local/Cellar/ant/1.10.3/libexec/lib/ant-junit4.jar
2018-06-28 17:42:31,591 [myid:] - INFO  [Time-limited test:Environment@100] - Client environment:java.library.path=/Users/hanm/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.
2018-06-28 17:42:31,592 [myid:] - INFO  [Time-limited test:Environment@100] - Client environment:java.io.tmpdir=/var/folders/wv/j6wmf1nj5h7c36qz9b81kmfw0000gn/T/
2018-06-28 17:42:31,592 [myid:] - INFO  [Time-limited test:Environment@100] - Client environment:java.compiler=<NA>
2018-06-28 17:42:31,592 [myid:] - INFO  [Time-limited test:Environment@100] - Client environment:os.name=Mac OS X
2018-06-28 17:42:31,592 [myid:] - INFO  [Time-limited test:Environment@100] - Client environment:os.arch=x86_64
2018-06-28 17:42:31,592 [myid:] - INFO  [Time-limited test:Environment@100] - Client environment:os.version=10.13.5
2018-06-28 17:42:31,592 [myid:] - INFO  [Time-limited test:Environment@100] - Client environment:user.name=hanm
2018-06-28 17:42:31,592 [myid:] - INFO  [Time-limited test:Environment@100] - Client environment:user.home=/Users/hanm
2018-06-28 17:42:31,592 [myid:] - INFO  [Time-limited test:Environment@100] - Client environment:user.dir=/Users/hanm/Desktop/projects/git/apache/zookeeper
2018-06-28 17:42:31,594 [myid:] - INFO  [Time-limited test:ZooKeeper@442] - Initiating client connection, connectString=127.0.0.1:11224 sessionTimeout=30000 watcher=org.apache.zookeeper.test.ClientBase$CountdownWatcher@6218d594
2018-06-28 17:42:31,616 [myid:] - INFO  [Time-limited test-SendThread(localhost:11224):ClientCnxn$SendThread@1029] - Opening socket connection to server localhost/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2018-06-28 17:42:31,617 [myid:1] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11224:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:51272
2018-06-28 17:42:31,617 [myid:] - INFO  [Time-limited test-SendThread(localhost:11224):ClientCnxn$SendThread@879] - Socket connection established to localhost/127.0.0.1:11224, initiating session
2018-06-28 17:42:31,620 [myid:1] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11224:ZooKeeperServer@949] - Client attempting to establish new session at /127.0.0.1:51272
2018-06-28 17:42:31,624 [myid:2] - INFO  [SyncThread:2:FileTxnLog@213] - Creating new log file: log.100000001
2018-06-28 17:42:31,624 [myid:0] - WARN  [QuorumPeer[myid=0]/0:0:0:0:0:0:0:0:11221:Follower@119] - Got zxid 0x100000001 expected 0x1
2018-06-28 17:42:31,624 [myid:1] - WARN  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Follower@119] - Got zxid 0x100000001 expected 0x1
2018-06-28 17:42:31,624 [myid:0] - INFO  [SyncThread:0:FileTxnLog@213] - Creating new log file: log.100000001
2018-06-28 17:42:31,624 [myid:1] - INFO  [SyncThread:1:FileTxnLog@213] - Creating new log file: log.100000001
2018-06-28 17:42:31,639 [myid:1] - INFO  [CommitProcessor:1:ZooKeeperServer@694] - Established session 0x1000655decb0000 with negotiated timeout 30000 for client /127.0.0.1:51272
2018-06-28 17:42:31,639 [myid:] - INFO  [Time-limited test-SendThread(localhost:11224):ClientCnxn$SendThread@1303] - Session establishment complete on server localhost/127.0.0.1:11224, sessionid = 0x1000655decb0000, negotiated timeout = 30000
2018-06-28 17:42:31,662 [myid:2] - INFO  [ProcessThread(sid:2 cport:-1)::PrepRequestProcessor@487] - Processed session termination for sessionid: 0x1000655decb0000
2018-06-28 17:42:31,662 [myid:1] - WARN  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Follower@90] - Exception when following the leader
java.net.SocketTimeoutException: Socket timeout while reading the packet for operation PROPOSAL 100000003 null
	at org.apache.zookeeper.server.quorum.EphemeralNodeDeletionTest$CustomQuorumPeer$1.readPacket(EphemeralNodeDeletionTest.java:198)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:86)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:981)
2018-06-28 17:42:31,663 [myid:2] - ERROR [LearnerHandler-/127.0.0.1:51267:LearnerHandler@648] - Unexpected exception causing shutdown while sock still open
java.net.SocketException: Connection reset
	at java.net.SocketInputStream.read(SocketInputStream.java:210)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:63)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:99)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:559)
2018-06-28 17:42:31,663 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Follower@169] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:169)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:985)
2018-06-28 17:42:31,663 [myid:2] - WARN  [LearnerHandler-/127.0.0.1:51267:LearnerHandler@661] - ******* GOODBYE /127.0.0.1:51267 ********
2018-06-28 17:42:31,663 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:51272 which had sessionid 0x1000655decb0000
2018-06-28 17:42:31,664 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:FollowerZooKeeperServer@140] - Shutting down
2018-06-28 17:42:31,664 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:ZooKeeperServer@502] - shutting down
2018-06-28 17:42:31,664 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:FollowerRequestProcessor@107] - Shutting down
2018-06-28 17:42:31,664 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:CommitProcessor@184] - Shutting down
2018-06-28 17:42:31,664 [myid:1] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@97] - FollowerRequestProcessor exited loop!
2018-06-28 17:42:31,664 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:FinalRequestProcessor@403] - shutdown of request processor complete
2018-06-28 17:42:31,664 [myid:1] - INFO  [CommitProcessor:1:CommitProcessor@153] - CommitProcessor exited loop!
2018-06-28 17:42:31,665 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:SyncRequestProcessor@208] - Shutting down
2018-06-28 17:42:31,665 [myid:1] - INFO  [SyncThread:1:SyncRequestProcessor@186] - SyncRequestProcessor exited!
2018-06-28 17:42:31,665 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:QuorumPeer@909] - LOOKING
2018-06-28 17:42:31,666 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:FastLeaderElection@813] - New election. My id =  1, proposed zxid=0x100000002
2018-06-28 17:42:31,666 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x100000002 (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:42:31,666 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x100000002 (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) LEADING (my state)
2018-06-28 17:42:31,666 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x100000002 (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) FOLLOWING (my state)
2018-06-28 17:42:31,667 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LEADING (n.state), 2 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:42:31,667 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), FOLLOWING (n.state), 0 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:42:31,667 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:QuorumPeer@979] - FOLLOWING
2018-06-28 17:42:31,668 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:ZooKeeperServer@174] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test1335594131461083375.junit.dir/data/version-2 snapdir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test1335594131461083375.junit.dir/data/version-2
2018-06-28 17:42:31,668 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Follower@65] - FOLLOWING - LEADER ELECTION TOOK - 2
2018-06-28 17:42:31,668 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:42:31,669 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:51273:LearnerHandler@346] - Follower sid: 1 : info : org.apache.zookeeper.server.quorum.QuorumPeer$QuorumServer@71a7d530
2018-06-28 17:42:31,669 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:51273:LearnerHandler@401] - Synchronizing with Follower sid: 1 maxCommittedLog=0x100000003 minCommittedLog=0x100000001 peerLastZxid=0x100000002
2018-06-28 17:42:31,669 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:51273:LearnerHandler@475] - Sending DIFF
2018-06-28 17:42:31,670 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Learner@332] - Getting a diff from the leader 0x100000003
2018-06-28 17:42:31,670 [myid:1] - WARN  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Follower@90] - Exception when following the leader
java.net.SocketTimeoutException: Socket timeout while reading the packet for operation PROPOSAL 100000003 null
	at org.apache.zookeeper.server.quorum.EphemeralNodeDeletionTest$CustomQuorumPeer$1.readPacket(EphemeralNodeDeletionTest.java:198)
	at org.apache.zookeeper.server.quorum.Learner.syncWithLeader(Learner.java:380)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:83)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:981)
2018-06-28 17:42:31,671 [myid:2] - ERROR [LearnerHandler-/127.0.0.1:51273:LearnerHandler@648] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:63)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:99)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:530)
2018-06-28 17:42:31,671 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Follower@169] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:169)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:985)
2018-06-28 17:42:31,671 [myid:2] - WARN  [LearnerHandler-/127.0.0.1:51273:LearnerHandler@661] - ******* GOODBYE /127.0.0.1:51273 ********
2018-06-28 17:42:31,671 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:FollowerZooKeeperServer@140] - Shutting down
2018-06-28 17:42:31,672 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:QuorumPeer@909] - LOOKING
2018-06-28 17:42:31,672 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:FastLeaderElection@813] - New election. My id =  1, proposed zxid=0x100000002
2018-06-28 17:42:31,672 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x100000002 (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:42:31,673 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x100000002 (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) FOLLOWING (my state)
2018-06-28 17:42:31,673 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x100000002 (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) LEADING (my state)
2018-06-28 17:42:31,673 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), FOLLOWING (n.state), 0 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:42:31,673 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LEADING (n.state), 2 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:42:31,673 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:QuorumPeer@979] - FOLLOWING
2018-06-28 17:42:31,674 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:ZooKeeperServer@174] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test1335594131461083375.junit.dir/data/version-2 snapdir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test1335594131461083375.junit.dir/data/version-2
2018-06-28 17:42:31,674 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Follower@65] - FOLLOWING - LEADER ELECTION TOOK - 2
2018-06-28 17:42:31,674 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:42:31,675 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:51274:LearnerHandler@346] - Follower sid: 1 : info : org.apache.zookeeper.server.quorum.QuorumPeer$QuorumServer@71a7d530
2018-06-28 17:42:31,675 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:51274:LearnerHandler@401] - Synchronizing with Follower sid: 1 maxCommittedLog=0x100000003 minCommittedLog=0x100000001 peerLastZxid=0x100000002
2018-06-28 17:42:31,675 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:51274:LearnerHandler@475] - Sending DIFF
2018-06-28 17:42:31,675 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Learner@332] - Getting a diff from the leader 0x100000003
2018-06-28 17:42:31,676 [myid:1] - WARN  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Follower@90] - Exception when following the leader
java.net.SocketTimeoutException: Socket timeout while reading the packet for operation PROPOSAL 100000003 null
	at org.apache.zookeeper.server.quorum.EphemeralNodeDeletionTest$CustomQuorumPeer$1.readPacket(EphemeralNodeDeletionTest.java:198)
	at org.apache.zookeeper.server.quorum.Learner.syncWithLeader(Learner.java:380)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:83)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:981)
2018-06-28 17:42:31,676 [myid:2] - ERROR [LearnerHandler-/127.0.0.1:51274:LearnerHandler@648] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:63)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:99)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:530)
2018-06-28 17:42:31,676 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Follower@169] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:169)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:985)
2018-06-28 17:42:31,676 [myid:2] - WARN  [LearnerHandler-/127.0.0.1:51274:LearnerHandler@661] - ******* GOODBYE /127.0.0.1:51274 ********
2018-06-28 17:42:31,676 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:FollowerZooKeeperServer@140] - Shutting down
2018-06-28 17:42:31,677 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:QuorumPeer@909] - LOOKING
2018-06-28 17:42:31,677 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:FastLeaderElection@813] - New election. My id =  1, proposed zxid=0x100000002
2018-06-28 17:42:31,677 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x100000002 (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:42:31,677 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x100000002 (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) FOLLOWING (my state)
2018-06-28 17:42:31,677 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x100000002 (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) LEADING (my state)
2018-06-28 17:42:31,678 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), FOLLOWING (n.state), 0 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:42:31,678 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LEADING (n.state), 2 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:42:31,678 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:QuorumPeer@979] - FOLLOWING
2018-06-28 17:42:31,678 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:ZooKeeperServer@174] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test1335594131461083375.junit.dir/data/version-2 snapdir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test1335594131461083375.junit.dir/data/version-2
2018-06-28 17:42:31,678 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Follower@65] - FOLLOWING - LEADER ELECTION TOOK - 1
2018-06-28 17:42:31,679 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:42:31,679 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:51275:LearnerHandler@346] - Follower sid: 1 : info : org.apache.zookeeper.server.quorum.QuorumPeer$QuorumServer@71a7d530
2018-06-28 17:42:31,680 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:51275:LearnerHandler@401] - Synchronizing with Follower sid: 1 maxCommittedLog=0x100000003 minCommittedLog=0x100000001 peerLastZxid=0x100000002
2018-06-28 17:42:31,680 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:51275:LearnerHandler@475] - Sending DIFF
2018-06-28 17:42:31,680 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Learner@332] - Getting a diff from the leader 0x100000003
2018-06-28 17:42:31,680 [myid:1] - WARN  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Follower@90] - Exception when following the leader
java.net.SocketTimeoutException: Socket timeout while reading the packet for operation PROPOSAL 100000003 null
	at org.apache.zookeeper.server.quorum.EphemeralNodeDeletionTest$CustomQuorumPeer$1.readPacket(EphemeralNodeDeletionTest.java:198)
	at org.apache.zookeeper.server.quorum.Learner.syncWithLeader(Learner.java:380)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:83)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:981)
2018-06-28 17:42:31,680 [myid:2] - ERROR [LearnerHandler-/127.0.0.1:51275:LearnerHandler@648] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:63)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:99)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:530)
2018-06-28 17:42:31,680 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Follower@169] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:169)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:985)
2018-06-28 17:42:31,681 [myid:2] - WARN  [LearnerHandler-/127.0.0.1:51275:LearnerHandler@661] - ******* GOODBYE /127.0.0.1:51275 ********
2018-06-28 17:42:31,681 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:FollowerZooKeeperServer@140] - Shutting down
2018-06-28 17:42:31,681 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:QuorumPeer@909] - LOOKING
2018-06-28 17:42:31,681 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:FastLeaderElection@813] - New election. My id =  1, proposed zxid=0x100000002
2018-06-28 17:42:31,681 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x100000002 (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:42:31,682 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x100000002 (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) LEADING (my state)
2018-06-28 17:42:31,682 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x100000002 (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) FOLLOWING (my state)
2018-06-28 17:42:31,682 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LEADING (n.state), 2 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:42:31,682 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), FOLLOWING (n.state), 0 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:42:31,682 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:QuorumPeer@979] - FOLLOWING
2018-06-28 17:42:31,682 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:ZooKeeperServer@174] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test1335594131461083375.junit.dir/data/version-2 snapdir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test1335594131461083375.junit.dir/data/version-2
2018-06-28 17:42:31,683 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Follower@65] - FOLLOWING - LEADER ELECTION TOOK - 2
2018-06-28 17:42:31,683 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:42:31,684 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:51276:LearnerHandler@346] - Follower sid: 1 : info : org.apache.zookeeper.server.quorum.QuorumPeer$QuorumServer@71a7d530
2018-06-28 17:42:31,684 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:51276:LearnerHandler@401] - Synchronizing with Follower sid: 1 maxCommittedLog=0x100000003 minCommittedLog=0x100000001 peerLastZxid=0x100000002
2018-06-28 17:42:31,684 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:51276:LearnerHandler@475] - Sending DIFF
2018-06-28 17:42:31,684 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Learner@332] - Getting a diff from the leader 0x100000003
2018-06-28 17:42:31,684 [myid:1] - WARN  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Follower@90] - Exception when following the leader
java.net.SocketTimeoutException: Socket timeout while reading the packet for operation PROPOSAL 100000003 null
	at org.apache.zookeeper.server.quorum.EphemeralNodeDeletionTest$CustomQuorumPeer$1.readPacket(EphemeralNodeDeletionTest.java:198)
	at org.apache.zookeeper.server.quorum.Learner.syncWithLeader(Learner.java:380)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:83)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:981)
2018-06-28 17:42:31,685 [myid:2] - ERROR [LearnerHandler-/127.0.0.1:51276:LearnerHandler@648] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:63)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:99)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:530)
2018-06-28 17:42:31,685 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Follower@169] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:169)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:985)
2018-06-28 17:42:31,685 [myid:2] - WARN  [LearnerHandler-/127.0.0.1:51276:LearnerHandler@661] - ******* GOODBYE /127.0.0.1:51276 ********
2018-06-28 17:42:31,685 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:FollowerZooKeeperServer@140] - Shutting down
2018-06-28 17:42:31,685 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:QuorumPeer@909] - LOOKING
2018-06-28 17:42:31,686 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:FastLeaderElection@813] - New election. My id =  1, proposed zxid=0x100000002
2018-06-28 17:42:31,686 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x100000002 (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:42:31,686 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x100000002 (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) FOLLOWING (my state)
2018-06-28 17:42:31,686 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x100000002 (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) LEADING (my state)
2018-06-28 17:42:31,686 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), FOLLOWING (n.state), 0 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:42:31,686 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LEADING (n.state), 2 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:42:31,687 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:QuorumPeer@979] - FOLLOWING
2018-06-28 17:42:31,687 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:ZooKeeperServer@174] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test1335594131461083375.junit.dir/data/version-2 snapdir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test1335594131461083375.junit.dir/data/version-2
2018-06-28 17:42:31,687 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Follower@65] - FOLLOWING - LEADER ELECTION TOOK - 1
2018-06-28 17:42:31,687 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:42:31,688 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:51277:LearnerHandler@346] - Follower sid: 1 : info : org.apache.zookeeper.server.quorum.QuorumPeer$QuorumServer@71a7d530
2018-06-28 17:42:31,688 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:51277:LearnerHandler@401] - Synchronizing with Follower sid: 1 maxCommittedLog=0x100000003 minCommittedLog=0x100000001 peerLastZxid=0x100000002
2018-06-28 17:42:31,688 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:51277:LearnerHandler@475] - Sending DIFF
2018-06-28 17:42:31,688 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Learner@332] - Getting a diff from the leader 0x100000003
2018-06-28 17:42:31,688 [myid:1] - WARN  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Follower@90] - Exception when following the leader
java.net.SocketTimeoutException: Socket timeout while reading the packet for operation PROPOSAL 100000003 null
	at org.apache.zookeeper.server.quorum.EphemeralNodeDeletionTest$CustomQuorumPeer$1.readPacket(EphemeralNodeDeletionTest.java:198)
	at org.apache.zookeeper.server.quorum.Learner.syncWithLeader(Learner.java:380)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:83)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:981)
2018-06-28 17:42:31,689 [myid:2] - ERROR [LearnerHandler-/127.0.0.1:51277:LearnerHandler@648] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:63)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:99)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:530)
2018-06-28 17:42:31,689 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Follower@169] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:169)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:985)
2018-06-28 17:42:31,689 [myid:2] - WARN  [LearnerHandler-/127.0.0.1:51277:LearnerHandler@661] - ******* GOODBYE /127.0.0.1:51277 ********
2018-06-28 17:42:31,689 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:FollowerZooKeeperServer@140] - Shutting down
2018-06-28 17:42:31,689 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:QuorumPeer@909] - LOOKING
2018-06-28 17:42:31,689 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:FastLeaderElection@813] - New election. My id =  1, proposed zxid=0x100000002
2018-06-28 17:42:31,690 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x100000002 (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:42:31,690 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x100000002 (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) FOLLOWING (my state)
2018-06-28 17:42:31,690 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x100000002 (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) LEADING (my state)
2018-06-28 17:42:31,690 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), FOLLOWING (n.state), 0 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:42:31,690 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LEADING (n.state), 2 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:42:31,690 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:QuorumPeer@979] - FOLLOWING
2018-06-28 17:42:31,690 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:ZooKeeperServer@174] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test1335594131461083375.junit.dir/data/version-2 snapdir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test1335594131461083375.junit.dir/data/version-2
2018-06-28 17:42:31,690 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Follower@65] - FOLLOWING - LEADER ELECTION TOOK - 1
2018-06-28 17:42:31,691 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:42:31,691 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:51278:LearnerHandler@346] - Follower sid: 1 : info : org.apache.zookeeper.server.quorum.QuorumPeer$QuorumServer@71a7d530
2018-06-28 17:42:31,692 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:51278:LearnerHandler@401] - Synchronizing with Follower sid: 1 maxCommittedLog=0x100000003 minCommittedLog=0x100000001 peerLastZxid=0x100000002
2018-06-28 17:42:31,692 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:51278:LearnerHandler@475] - Sending DIFF
2018-06-28 17:42:31,692 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Learner@332] - Getting a diff from the leader 0x100000003
2018-06-28 17:42:31,692 [myid:1] - WARN  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Follower@90] - Exception when following the leader
java.net.SocketTimeoutException: Socket timeout while reading the packet for operation PROPOSAL 100000003 null
	at org.apache.zookeeper.server.quorum.EphemeralNodeDeletionTest$CustomQuorumPeer$1.readPacket(EphemeralNodeDeletionTest.java:198)
	at org.apache.zookeeper.server.quorum.Learner.syncWithLeader(Learner.java:380)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:83)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:981)
2018-06-28 17:42:31,692 [myid:2] - ERROR [LearnerHandler-/127.0.0.1:51278:LearnerHandler@648] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:63)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:99)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:530)
2018-06-28 17:42:31,692 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Follower@169] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:169)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:985)
2018-06-28 17:42:31,692 [myid:2] - WARN  [LearnerHandler-/127.0.0.1:51278:LearnerHandler@661] - ******* GOODBYE /127.0.0.1:51278 ********
2018-06-28 17:42:31,693 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:FollowerZooKeeperServer@140] - Shutting down
2018-06-28 17:42:31,693 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:QuorumPeer@909] - LOOKING
2018-06-28 17:42:31,693 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:FastLeaderElection@813] - New election. My id =  1, proposed zxid=0x100000002
2018-06-28 17:42:31,693 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x100000002 (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:42:31,693 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x100000002 (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) FOLLOWING (my state)
2018-06-28 17:42:31,693 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x100000002 (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) LEADING (my state)
2018-06-28 17:42:31,694 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), FOLLOWING (n.state), 0 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:42:31,694 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LEADING (n.state), 2 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:42:31,694 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:QuorumPeer@979] - FOLLOWING
2018-06-28 17:42:31,694 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:ZooKeeperServer@174] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test1335594131461083375.junit.dir/data/version-2 snapdir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test1335594131461083375.junit.dir/data/version-2
2018-06-28 17:42:31,694 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Follower@65] - FOLLOWING - LEADER ELECTION TOOK - 1
2018-06-28 17:42:31,695 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:42:31,695 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:51279:LearnerHandler@346] - Follower sid: 1 : info : org.apache.zookeeper.server.quorum.QuorumPeer$QuorumServer@71a7d530
2018-06-28 17:42:31,696 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:51279:LearnerHandler@401] - Synchronizing with Follower sid: 1 maxCommittedLog=0x100000003 minCommittedLog=0x100000001 peerLastZxid=0x100000002
2018-06-28 17:42:31,696 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:51279:LearnerHandler@475] - Sending DIFF
2018-06-28 17:42:31,696 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Learner@332] - Getting a diff from the leader 0x100000003
2018-06-28 17:42:31,696 [myid:1] - WARN  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Follower@90] - Exception when following the leader
java.net.SocketTimeoutException: Socket timeout while reading the packet for operation PROPOSAL 100000003 null
	at org.apache.zookeeper.server.quorum.EphemeralNodeDeletionTest$CustomQuorumPeer$1.readPacket(EphemeralNodeDeletionTest.java:198)
	at org.apache.zookeeper.server.quorum.Learner.syncWithLeader(Learner.java:380)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:83)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:981)
2018-06-28 17:42:31,696 [myid:2] - ERROR [LearnerHandler-/127.0.0.1:51279:LearnerHandler@648] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:63)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:99)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:530)
2018-06-28 17:42:31,697 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Follower@169] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:169)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:985)
2018-06-28 17:42:31,697 [myid:2] - WARN  [LearnerHandler-/127.0.0.1:51279:LearnerHandler@661] - ******* GOODBYE /127.0.0.1:51279 ********
2018-06-28 17:42:31,697 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:FollowerZooKeeperServer@140] - Shutting down
2018-06-28 17:42:31,697 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:QuorumPeer@909] - LOOKING
2018-06-28 17:42:31,697 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:FastLeaderElection@813] - New election. My id =  1, proposed zxid=0x100000002
2018-06-28 17:42:31,698 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x100000002 (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:42:31,698 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x100000002 (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) LEADING (my state)
2018-06-28 17:42:31,698 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x100000002 (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) FOLLOWING (my state)
2018-06-28 17:42:31,698 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LEADING (n.state), 2 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:42:31,698 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), FOLLOWING (n.state), 0 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:42:31,698 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:QuorumPeer@979] - FOLLOWING
2018-06-28 17:42:31,699 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:ZooKeeperServer@174] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test1335594131461083375.junit.dir/data/version-2 snapdir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test1335594131461083375.junit.dir/data/version-2
2018-06-28 17:42:31,699 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Follower@65] - FOLLOWING - LEADER ELECTION TOOK - 2
2018-06-28 17:42:31,699 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:42:31,700 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:51280:LearnerHandler@346] - Follower sid: 1 : info : org.apache.zookeeper.server.quorum.QuorumPeer$QuorumServer@71a7d530
2018-06-28 17:42:31,700 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:51280:LearnerHandler@401] - Synchronizing with Follower sid: 1 maxCommittedLog=0x100000003 minCommittedLog=0x100000001 peerLastZxid=0x100000002
2018-06-28 17:42:31,700 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:51280:LearnerHandler@475] - Sending DIFF
2018-06-28 17:42:31,700 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Learner@332] - Getting a diff from the leader 0x100000003
2018-06-28 17:42:31,701 [myid:1] - WARN  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Follower@90] - Exception when following the leader
java.net.SocketTimeoutException: Socket timeout while reading the packet for operation PROPOSAL 100000003 null
	at org.apache.zookeeper.server.quorum.EphemeralNodeDeletionTest$CustomQuorumPeer$1.readPacket(EphemeralNodeDeletionTest.java:198)
	at org.apache.zookeeper.server.quorum.Learner.syncWithLeader(Learner.java:380)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:83)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:981)
2018-06-28 17:42:31,701 [myid:2] - ERROR [LearnerHandler-/127.0.0.1:51280:LearnerHandler@648] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:63)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:99)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:530)
2018-06-28 17:42:31,701 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Follower@169] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:169)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:985)
2018-06-28 17:42:31,701 [myid:2] - WARN  [LearnerHandler-/127.0.0.1:51280:LearnerHandler@661] - ******* GOODBYE /127.0.0.1:51280 ********
2018-06-28 17:42:31,701 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:FollowerZooKeeperServer@140] - Shutting down
2018-06-28 17:42:31,702 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:QuorumPeer@909] - LOOKING
2018-06-28 17:42:31,702 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:FastLeaderElection@813] - New election. My id =  1, proposed zxid=0x100000002
2018-06-28 17:42:31,702 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x100000002 (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:42:31,702 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x100000002 (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) FOLLOWING (my state)
2018-06-28 17:42:31,702 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x100000002 (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) LEADING (my state)
2018-06-28 17:42:31,703 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), FOLLOWING (n.state), 0 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:42:31,703 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LEADING (n.state), 2 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:42:31,703 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:QuorumPeer@979] - FOLLOWING
2018-06-28 17:42:31,703 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:ZooKeeperServer@174] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test1335594131461083375.junit.dir/data/version-2 snapdir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test1335594131461083375.junit.dir/data/version-2
2018-06-28 17:42:31,703 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Follower@65] - FOLLOWING - LEADER ELECTION TOOK - 1
2018-06-28 17:42:31,704 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:42:31,705 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:51281:LearnerHandler@346] - Follower sid: 1 : info : org.apache.zookeeper.server.quorum.QuorumPeer$QuorumServer@71a7d530
2018-06-28 17:42:31,705 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:51281:LearnerHandler@401] - Synchronizing with Follower sid: 1 maxCommittedLog=0x100000003 minCommittedLog=0x100000001 peerLastZxid=0x100000002
2018-06-28 17:42:31,705 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:51281:LearnerHandler@475] - Sending DIFF
2018-06-28 17:42:31,706 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Learner@332] - Getting a diff from the leader 0x100000003
2018-06-28 17:42:31,706 [myid:1] - WARN  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Follower@90] - Exception when following the leader
java.net.SocketTimeoutException: Socket timeout while reading the packet for operation PROPOSAL 100000003 null
	at org.apache.zookeeper.server.quorum.EphemeralNodeDeletionTest$CustomQuorumPeer$1.readPacket(EphemeralNodeDeletionTest.java:198)
	at org.apache.zookeeper.server.quorum.Learner.syncWithLeader(Learner.java:380)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:83)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:981)
2018-06-28 17:42:31,706 [myid:2] - ERROR [LearnerHandler-/127.0.0.1:51281:LearnerHandler@648] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:63)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:99)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:530)
2018-06-28 17:42:31,706 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Follower@169] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:169)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:985)
2018-06-28 17:42:31,707 [myid:2] - WARN  [LearnerHandler-/127.0.0.1:51281:LearnerHandler@661] - ******* GOODBYE /127.0.0.1:51281 ********
2018-06-28 17:42:31,707 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:FollowerZooKeeperServer@140] - Shutting down
2018-06-28 17:42:31,707 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:QuorumPeer@909] - LOOKING
2018-06-28 17:42:31,707 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:FastLeaderElection@813] - New election. My id =  1, proposed zxid=0x100000002
2018-06-28 17:42:31,708 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x100000002 (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:42:31,708 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x100000002 (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) FOLLOWING (my state)
2018-06-28 17:42:31,708 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x100000002 (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) LEADING (my state)
2018-06-28 17:42:31,708 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), FOLLOWING (n.state), 0 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:42:31,708 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LEADING (n.state), 2 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:42:31,709 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:QuorumPeer@979] - FOLLOWING
2018-06-28 17:42:31,709 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:ZooKeeperServer@174] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test1335594131461083375.junit.dir/data/version-2 snapdir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test1335594131461083375.junit.dir/data/version-2
2018-06-28 17:42:31,709 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Follower@65] - FOLLOWING - LEADER ELECTION TOOK - 2
2018-06-28 17:42:31,709 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:42:31,710 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:51282:LearnerHandler@346] - Follower sid: 1 : info : org.apache.zookeeper.server.quorum.QuorumPeer$QuorumServer@71a7d530
2018-06-28 17:42:31,710 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:51282:LearnerHandler@401] - Synchronizing with Follower sid: 1 maxCommittedLog=0x100000003 minCommittedLog=0x100000001 peerLastZxid=0x100000002
2018-06-28 17:42:31,710 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:51282:LearnerHandler@475] - Sending DIFF
2018-06-28 17:42:31,711 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Learner@332] - Getting a diff from the leader 0x100000003
2018-06-28 17:42:31,711 [myid:1] - WARN  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Follower@90] - Exception when following the leader
java.net.SocketTimeoutException: Socket timeout while reading the packet for operation PROPOSAL 100000003 null
	at org.apache.zookeeper.server.quorum.EphemeralNodeDeletionTest$CustomQuorumPeer$1.readPacket(EphemeralNodeDeletionTest.java:198)
	at org.apache.zookeeper.server.quorum.Learner.syncWithLeader(Learner.java:380)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:83)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:981)
2018-06-28 17:42:31,711 [myid:2] - ERROR [LearnerHandler-/127.0.0.1:51282:LearnerHandler@648] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:63)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:99)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:530)
2018-06-28 17:42:31,711 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Follower@169] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:169)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:985)
2018-06-28 17:42:31,711 [myid:2] - WARN  [LearnerHandler-/127.0.0.1:51282:LearnerHandler@661] - ******* GOODBYE /127.0.0.1:51282 ********
2018-06-28 17:42:31,711 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:FollowerZooKeeperServer@140] - Shutting down
2018-06-28 17:42:31,712 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:QuorumPeer@909] - LOOKING
2018-06-28 17:42:31,712 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:FastLeaderElection@813] - New election. My id =  1, proposed zxid=0x100000002
2018-06-28 17:42:31,712 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x100000002 (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:42:31,712 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x100000002 (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) FOLLOWING (my state)
2018-06-28 17:42:31,712 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x100000002 (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) LEADING (my state)
2018-06-28 17:42:31,712 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), FOLLOWING (n.state), 0 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:42:31,713 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LEADING (n.state), 2 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:42:31,713 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:QuorumPeer@979] - FOLLOWING
2018-06-28 17:42:31,713 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:ZooKeeperServer@174] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test1335594131461083375.junit.dir/data/version-2 snapdir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test1335594131461083375.junit.dir/data/version-2
2018-06-28 17:42:31,713 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Follower@65] - FOLLOWING - LEADER ELECTION TOOK - 1
2018-06-28 17:42:31,713 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:42:31,714 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:51283:LearnerHandler@346] - Follower sid: 1 : info : org.apache.zookeeper.server.quorum.QuorumPeer$QuorumServer@71a7d530
2018-06-28 17:42:31,714 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:51283:LearnerHandler@401] - Synchronizing with Follower sid: 1 maxCommittedLog=0x100000003 minCommittedLog=0x100000001 peerLastZxid=0x100000002
2018-06-28 17:42:31,714 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:51283:LearnerHandler@475] - Sending DIFF
2018-06-28 17:42:31,715 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Learner@332] - Getting a diff from the leader 0x100000003
2018-06-28 17:42:31,715 [myid:1] - WARN  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Follower@90] - Exception when following the leader
java.net.SocketTimeoutException: Socket timeout while reading the packet for operation PROPOSAL 100000003 null
	at org.apache.zookeeper.server.quorum.EphemeralNodeDeletionTest$CustomQuorumPeer$1.readPacket(EphemeralNodeDeletionTest.java:198)
	at org.apache.zookeeper.server.quorum.Learner.syncWithLeader(Learner.java:380)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:83)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:981)
2018-06-28 17:42:31,715 [myid:2] - ERROR [LearnerHandler-/127.0.0.1:51283:LearnerHandler@648] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:63)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:99)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:530)
2018-06-28 17:42:31,715 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Follower@169] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:169)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:985)
2018-06-28 17:42:31,715 [myid:2] - WARN  [LearnerHandler-/127.0.0.1:51283:LearnerHandler@661] - ******* GOODBYE /127.0.0.1:51283 ********
2018-06-28 17:42:31,715 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:FollowerZooKeeperServer@140] - Shutting down
2018-06-28 17:42:31,716 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:QuorumPeer@909] - LOOKING
2018-06-28 17:42:31,716 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:FastLeaderElection@813] - New election. My id =  1, proposed zxid=0x100000002
2018-06-28 17:42:31,716 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x100000002 (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:42:31,716 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x100000002 (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) FOLLOWING (my state)
2018-06-28 17:42:31,716 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x100000002 (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) LEADING (my state)
2018-06-28 17:42:31,716 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), FOLLOWING (n.state), 0 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:42:31,717 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LEADING (n.state), 2 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:42:31,717 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:QuorumPeer@979] - FOLLOWING
2018-06-28 17:42:31,717 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:ZooKeeperServer@174] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test1335594131461083375.junit.dir/data/version-2 snapdir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test1335594131461083375.junit.dir/data/version-2
2018-06-28 17:42:31,717 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Follower@65] - FOLLOWING - LEADER ELECTION TOOK - 1
2018-06-28 17:42:31,717 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:42:31,718 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:51284:LearnerHandler@346] - Follower sid: 1 : info : org.apache.zookeeper.server.quorum.QuorumPeer$QuorumServer@71a7d530
2018-06-28 17:42:31,718 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:51284:LearnerHandler@401] - Synchronizing with Follower sid: 1 maxCommittedLog=0x100000003 minCommittedLog=0x100000001 peerLastZxid=0x100000002
2018-06-28 17:42:31,718 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:51284:LearnerHandler@475] - Sending DIFF
2018-06-28 17:42:31,718 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Learner@332] - Getting a diff from the leader 0x100000003
2018-06-28 17:42:31,718 [myid:1] - WARN  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Follower@90] - Exception when following the leader
java.net.SocketTimeoutException: Socket timeout while reading the packet for operation PROPOSAL 100000003 null
	at org.apache.zookeeper.server.quorum.EphemeralNodeDeletionTest$CustomQuorumPeer$1.readPacket(EphemeralNodeDeletionTest.java:198)
	at org.apache.zookeeper.server.quorum.Learner.syncWithLeader(Learner.java:380)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:83)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:981)
2018-06-28 17:42:31,719 [myid:2] - ERROR [LearnerHandler-/127.0.0.1:51284:LearnerHandler@648] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:63)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:99)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:530)
2018-06-28 17:42:31,719 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Follower@169] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:169)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:985)
2018-06-28 17:42:31,719 [myid:2] - WARN  [LearnerHandler-/127.0.0.1:51284:LearnerHandler@661] - ******* GOODBYE /127.0.0.1:51284 ********
2018-06-28 17:42:31,719 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:FollowerZooKeeperServer@140] - Shutting down
2018-06-28 17:42:31,719 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:QuorumPeer@909] - LOOKING
2018-06-28 17:42:31,719 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:FastLeaderElection@813] - New election. My id =  1, proposed zxid=0x100000002
2018-06-28 17:42:31,719 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x100000002 (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:42:31,720 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x100000002 (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) FOLLOWING (my state)
2018-06-28 17:42:31,720 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x100000002 (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) LEADING (my state)
2018-06-28 17:42:31,720 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), FOLLOWING (n.state), 0 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:42:31,720 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LEADING (n.state), 2 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:42:31,720 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:QuorumPeer@979] - FOLLOWING
2018-06-28 17:42:31,720 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:ZooKeeperServer@174] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test1335594131461083375.junit.dir/data/version-2 snapdir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test1335594131461083375.junit.dir/data/version-2
2018-06-28 17:42:31,720 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Follower@65] - FOLLOWING - LEADER ELECTION TOOK - 1
2018-06-28 17:42:31,720 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:42:31,721 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:51285:LearnerHandler@346] - Follower sid: 1 : info : org.apache.zookeeper.server.quorum.QuorumPeer$QuorumServer@71a7d530
2018-06-28 17:42:31,721 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:51285:LearnerHandler@401] - Synchronizing with Follower sid: 1 maxCommittedLog=0x100000003 minCommittedLog=0x100000001 peerLastZxid=0x100000002
2018-06-28 17:42:31,721 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:51285:LearnerHandler@475] - Sending DIFF
2018-06-28 17:42:31,721 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Learner@332] - Getting a diff from the leader 0x100000003
2018-06-28 17:42:31,722 [myid:1] - WARN  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Follower@90] - Exception when following the leader
java.net.SocketTimeoutException: Socket timeout while reading the packet for operation PROPOSAL 100000003 null
	at org.apache.zookeeper.server.quorum.EphemeralNodeDeletionTest$CustomQuorumPeer$1.readPacket(EphemeralNodeDeletionTest.java:198)
	at org.apache.zookeeper.server.quorum.Learner.syncWithLeader(Learner.java:380)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:83)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:981)
2018-06-28 17:42:31,722 [myid:2] - ERROR [LearnerHandler-/127.0.0.1:51285:LearnerHandler@648] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:63)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:99)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:530)
2018-06-28 17:42:31,722 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Follower@169] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:169)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:985)
2018-06-28 17:42:31,722 [myid:2] - WARN  [LearnerHandler-/127.0.0.1:51285:LearnerHandler@661] - ******* GOODBYE /127.0.0.1:51285 ********
2018-06-28 17:42:31,722 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:FollowerZooKeeperServer@140] - Shutting down
2018-06-28 17:42:31,722 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:QuorumPeer@909] - LOOKING
2018-06-28 17:42:31,722 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:FastLeaderElection@813] - New election. My id =  1, proposed zxid=0x100000002
2018-06-28 17:42:31,722 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x100000002 (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:42:31,723 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x100000002 (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) FOLLOWING (my state)
2018-06-28 17:42:31,723 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x100000002 (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) LEADING (my state)
2018-06-28 17:42:31,723 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), FOLLOWING (n.state), 0 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:42:31,723 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LEADING (n.state), 2 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:42:31,723 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:QuorumPeer@979] - FOLLOWING
2018-06-28 17:42:31,723 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:ZooKeeperServer@174] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test1335594131461083375.junit.dir/data/version-2 snapdir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test1335594131461083375.junit.dir/data/version-2
2018-06-28 17:42:31,723 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Follower@65] - FOLLOWING - LEADER ELECTION TOOK - 1
2018-06-28 17:42:31,723 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:42:31,724 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:51286:LearnerHandler@346] - Follower sid: 1 : info : org.apache.zookeeper.server.quorum.QuorumPeer$QuorumServer@71a7d530
2018-06-28 17:42:31,724 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:51286:LearnerHandler@401] - Synchronizing with Follower sid: 1 maxCommittedLog=0x100000003 minCommittedLog=0x100000001 peerLastZxid=0x100000002
2018-06-28 17:42:31,724 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:51286:LearnerHandler@475] - Sending DIFF
2018-06-28 17:42:31,724 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Learner@332] - Getting a diff from the leader 0x100000003
2018-06-28 17:42:31,725 [myid:1] - WARN  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Follower@90] - Exception when following the leader
java.net.SocketTimeoutException: Socket timeout while reading the packet for operation PROPOSAL 100000003 null
	at org.apache.zookeeper.server.quorum.EphemeralNodeDeletionTest$CustomQuorumPeer$1.readPacket(EphemeralNodeDeletionTest.java:198)
	at org.apache.zookeeper.server.quorum.Learner.syncWithLeader(Learner.java:380)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:83)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:981)
2018-06-28 17:42:31,725 [myid:2] - ERROR [LearnerHandler-/127.0.0.1:51286:LearnerHandler@648] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:63)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:99)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:530)
2018-06-28 17:42:31,725 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Follower@169] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:169)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:985)
2018-06-28 17:42:31,725 [myid:2] - WARN  [LearnerHandler-/127.0.0.1:51286:LearnerHandler@661] - ******* GOODBYE /127.0.0.1:51286 ********
2018-06-28 17:42:31,725 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:FollowerZooKeeperServer@140] - Shutting down
2018-06-28 17:42:31,725 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:QuorumPeer@909] - LOOKING
2018-06-28 17:42:31,725 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:FastLeaderElection@813] - New election. My id =  1, proposed zxid=0x100000002
2018-06-28 17:42:31,725 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x100000002 (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:42:31,726 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x100000002 (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) FOLLOWING (my state)
2018-06-28 17:42:31,726 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x100000002 (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) LEADING (my state)
2018-06-28 17:42:31,726 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), FOLLOWING (n.state), 0 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:42:31,726 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LEADING (n.state), 2 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:42:31,726 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:QuorumPeer@979] - FOLLOWING
2018-06-28 17:42:31,726 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:ZooKeeperServer@174] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test1335594131461083375.junit.dir/data/version-2 snapdir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test1335594131461083375.junit.dir/data/version-2
2018-06-28 17:42:31,726 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Follower@65] - FOLLOWING - LEADER ELECTION TOOK - 1
2018-06-28 17:42:31,727 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:42:31,727 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:51287:LearnerHandler@346] - Follower sid: 1 : info : org.apache.zookeeper.server.quorum.QuorumPeer$QuorumServer@71a7d530
2018-06-28 17:42:31,727 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:51287:LearnerHandler@401] - Synchronizing with Follower sid: 1 maxCommittedLog=0x100000003 minCommittedLog=0x100000001 peerLastZxid=0x100000002
2018-06-28 17:42:31,727 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:51287:LearnerHandler@475] - Sending DIFF
2018-06-28 17:42:31,727 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Learner@332] - Getting a diff from the leader 0x100000003
2018-06-28 17:42:31,728 [myid:1] - WARN  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Follower@90] - Exception when following the leader
java.net.SocketTimeoutException: Socket timeout while reading the packet for operation PROPOSAL 100000003 null
	at org.apache.zookeeper.server.quorum.EphemeralNodeDeletionTest$CustomQuorumPeer$1.readPacket(EphemeralNodeDeletionTest.java:198)
	at org.apache.zookeeper.server.quorum.Learner.syncWithLeader(Learner.java:380)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:83)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:981)
2018-06-28 17:42:31,728 [myid:2] - ERROR [LearnerHandler-/127.0.0.1:51287:LearnerHandler@648] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:63)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:99)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:530)
2018-06-28 17:42:31,728 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Follower@169] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:169)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:985)
2018-06-28 17:42:31,728 [myid:2] - WARN  [LearnerHandler-/127.0.0.1:51287:LearnerHandler@661] - ******* GOODBYE /127.0.0.1:51287 ********
2018-06-28 17:42:31,728 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:FollowerZooKeeperServer@140] - Shutting down
2018-06-28 17:42:31,728 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:QuorumPeer@909] - LOOKING
2018-06-28 17:42:31,729 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:FastLeaderElection@813] - New election. My id =  1, proposed zxid=0x100000002
2018-06-28 17:42:31,729 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x100000002 (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:42:31,729 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x100000002 (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) FOLLOWING (my state)
2018-06-28 17:42:31,729 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x100000002 (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) LEADING (my state)
2018-06-28 17:42:31,729 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), FOLLOWING (n.state), 0 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:42:31,729 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LEADING (n.state), 2 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:42:31,729 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:QuorumPeer@979] - FOLLOWING
2018-06-28 17:42:31,729 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:ZooKeeperServer@174] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test1335594131461083375.junit.dir/data/version-2 snapdir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test1335594131461083375.junit.dir/data/version-2
2018-06-28 17:42:31,730 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Follower@65] - FOLLOWING - LEADER ELECTION TOOK - 1
2018-06-28 17:42:31,730 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:42:31,730 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:51288:LearnerHandler@346] - Follower sid: 1 : info : org.apache.zookeeper.server.quorum.QuorumPeer$QuorumServer@71a7d530
2018-06-28 17:42:31,731 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:51288:LearnerHandler@401] - Synchronizing with Follower sid: 1 maxCommittedLog=0x100000003 minCommittedLog=0x100000001 peerLastZxid=0x100000002
2018-06-28 17:42:31,731 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:51288:LearnerHandler@475] - Sending DIFF
2018-06-28 17:42:31,731 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Learner@332] - Getting a diff from the leader 0x100000003
2018-06-28 17:42:31,731 [myid:1] - WARN  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Follower@90] - Exception when following the leader
java.net.SocketTimeoutException: Socket timeout while reading the packet for operation PROPOSAL 100000003 null
	at org.apache.zookeeper.server.quorum.EphemeralNodeDeletionTest$CustomQuorumPeer$1.readPacket(EphemeralNodeDeletionTest.java:198)
	at org.apache.zookeeper.server.quorum.Learner.syncWithLeader(Learner.java:380)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:83)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:981)
2018-06-28 17:42:31,731 [myid:2] - ERROR [LearnerHandler-/127.0.0.1:51288:LearnerHandler@648] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:63)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:99)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:530)
2018-06-28 17:42:31,731 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Follower@169] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:169)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:985)
2018-06-28 17:42:31,731 [myid:2] - WARN  [LearnerHandler-/127.0.0.1:51288:LearnerHandler@661] - ******* GOODBYE /127.0.0.1:51288 ********
2018-06-28 17:42:31,732 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:FollowerZooKeeperServer@140] - Shutting down
2018-06-28 17:42:31,732 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:QuorumPeer@909] - LOOKING
2018-06-28 17:42:31,732 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:FastLeaderElection@813] - New election. My id =  1, proposed zxid=0x100000002
2018-06-28 17:42:31,732 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x100000002 (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:42:31,732 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x100000002 (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) FOLLOWING (my state)
2018-06-28 17:42:31,732 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x100000002 (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) LEADING (my state)
2018-06-28 17:42:31,732 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), FOLLOWING (n.state), 0 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:42:31,733 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LEADING (n.state), 2 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:42:31,733 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:QuorumPeer@979] - FOLLOWING
2018-06-28 17:42:31,733 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:ZooKeeperServer@174] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test1335594131461083375.junit.dir/data/version-2 snapdir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test1335594131461083375.junit.dir/data/version-2
2018-06-28 17:42:31,733 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Follower@65] - FOLLOWING - LEADER ELECTION TOOK - 1
2018-06-28 17:42:31,734 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:42:31,734 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:51289:LearnerHandler@346] - Follower sid: 1 : info : org.apache.zookeeper.server.quorum.QuorumPeer$QuorumServer@71a7d530
2018-06-28 17:42:31,734 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:51289:LearnerHandler@401] - Synchronizing with Follower sid: 1 maxCommittedLog=0x100000003 minCommittedLog=0x100000001 peerLastZxid=0x100000002
2018-06-28 17:42:31,735 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:51289:LearnerHandler@475] - Sending DIFF
2018-06-28 17:42:31,735 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Learner@332] - Getting a diff from the leader 0x100000003
2018-06-28 17:42:31,735 [myid:1] - WARN  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Follower@90] - Exception when following the leader
java.net.SocketTimeoutException: Socket timeout while reading the packet for operation PROPOSAL 100000003 null
	at org.apache.zookeeper.server.quorum.EphemeralNodeDeletionTest$CustomQuorumPeer$1.readPacket(EphemeralNodeDeletionTest.java:198)
	at org.apache.zookeeper.server.quorum.Learner.syncWithLeader(Learner.java:380)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:83)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:981)
2018-06-28 17:42:31,735 [myid:2] - ERROR [LearnerHandler-/127.0.0.1:51289:LearnerHandler@648] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:63)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:99)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:530)
2018-06-28 17:42:31,735 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Follower@169] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:169)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:985)
2018-06-28 17:42:31,735 [myid:2] - WARN  [LearnerHandler-/127.0.0.1:51289:LearnerHandler@661] - ******* GOODBYE /127.0.0.1:51289 ********
2018-06-28 17:42:31,735 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:FollowerZooKeeperServer@140] - Shutting down
2018-06-28 17:42:31,735 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:QuorumPeer@909] - LOOKING
2018-06-28 17:42:31,736 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:FastLeaderElection@813] - New election. My id =  1, proposed zxid=0x100000002
2018-06-28 17:42:31,736 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x100000002 (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:42:31,736 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x100000002 (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) FOLLOWING (my state)
2018-06-28 17:42:31,736 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x100000002 (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) LEADING (my state)
2018-06-28 17:42:31,736 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), FOLLOWING (n.state), 0 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:42:31,736 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LEADING (n.state), 2 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:42:31,736 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:QuorumPeer@979] - FOLLOWING
2018-06-28 17:42:31,736 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:ZooKeeperServer@174] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test1335594131461083375.junit.dir/data/version-2 snapdir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test1335594131461083375.junit.dir/data/version-2
2018-06-28 17:42:31,736 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Follower@65] - FOLLOWING - LEADER ELECTION TOOK - 1
2018-06-28 17:42:31,737 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:42:31,737 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:51290:LearnerHandler@346] - Follower sid: 1 : info : org.apache.zookeeper.server.quorum.QuorumPeer$QuorumServer@71a7d530
2018-06-28 17:42:31,737 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:51290:LearnerHandler@401] - Synchronizing with Follower sid: 1 maxCommittedLog=0x100000003 minCommittedLog=0x100000001 peerLastZxid=0x100000002
2018-06-28 17:42:31,737 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:51290:LearnerHandler@475] - Sending DIFF
2018-06-28 17:42:31,738 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Learner@332] - Getting a diff from the leader 0x100000003
2018-06-28 17:42:31,738 [myid:1] - WARN  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Follower@90] - Exception when following the leader
java.net.SocketTimeoutException: Socket timeout while reading the packet for operation PROPOSAL 100000003 null
	at org.apache.zookeeper.server.quorum.EphemeralNodeDeletionTest$CustomQuorumPeer$1.readPacket(EphemeralNodeDeletionTest.java:198)
	at org.apache.zookeeper.server.quorum.Learner.syncWithLeader(Learner.java:380)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:83)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:981)
2018-06-28 17:42:31,738 [myid:2] - ERROR [LearnerHandler-/127.0.0.1:51290:LearnerHandler@648] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:63)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:99)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:530)
2018-06-28 17:42:31,738 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Follower@169] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:169)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:985)
2018-06-28 17:42:31,738 [myid:2] - WARN  [LearnerHandler-/127.0.0.1:51290:LearnerHandler@661] - ******* GOODBYE /127.0.0.1:51290 ********
2018-06-28 17:42:31,738 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:FollowerZooKeeperServer@140] - Shutting down
2018-06-28 17:42:31,738 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:QuorumPeer@909] - LOOKING
2018-06-28 17:42:31,738 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:FastLeaderElection@813] - New election. My id =  1, proposed zxid=0x100000002
2018-06-28 17:42:31,739 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x100000002 (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:42:31,739 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x100000002 (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) FOLLOWING (my state)
2018-06-28 17:42:31,739 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x100000002 (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) LEADING (my state)
2018-06-28 17:42:31,739 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), FOLLOWING (n.state), 0 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:42:31,739 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LEADING (n.state), 2 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:42:31,739 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:QuorumPeer@979] - FOLLOWING
2018-06-28 17:42:31,739 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:ZooKeeperServer@174] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test1335594131461083375.junit.dir/data/version-2 snapdir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test1335594131461083375.junit.dir/data/version-2
2018-06-28 17:42:31,739 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Follower@65] - FOLLOWING - LEADER ELECTION TOOK - 1
2018-06-28 17:42:31,739 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:42:31,740 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:51291:LearnerHandler@346] - Follower sid: 1 : info : org.apache.zookeeper.server.quorum.QuorumPeer$QuorumServer@71a7d530
2018-06-28 17:42:31,740 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:51291:LearnerHandler@401] - Synchronizing with Follower sid: 1 maxCommittedLog=0x100000003 minCommittedLog=0x100000001 peerLastZxid=0x100000002
2018-06-28 17:42:31,740 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:51291:LearnerHandler@475] - Sending DIFF
2018-06-28 17:42:31,740 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Learner@332] - Getting a diff from the leader 0x100000003
2018-06-28 17:42:31,741 [myid:1] - WARN  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Follower@90] - Exception when following the leader
java.net.SocketTimeoutException: Socket timeout while reading the packet for operation PROPOSAL 100000003 null
	at org.apache.zookeeper.server.quorum.EphemeralNodeDeletionTest$CustomQuorumPeer$1.readPacket(EphemeralNodeDeletionTest.java:198)
	at org.apache.zookeeper.server.quorum.Learner.syncWithLeader(Learner.java:380)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:83)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:981)
2018-06-28 17:42:31,741 [myid:2] - ERROR [LearnerHandler-/127.0.0.1:51291:LearnerHandler@648] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:63)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:99)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:530)
2018-06-28 17:42:31,741 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Follower@169] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:169)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:985)
2018-06-28 17:42:31,741 [myid:2] - WARN  [LearnerHandler-/127.0.0.1:51291:LearnerHandler@661] - ******* GOODBYE /127.0.0.1:51291 ********
2018-06-28 17:42:31,741 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:FollowerZooKeeperServer@140] - Shutting down
2018-06-28 17:42:31,741 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:QuorumPeer@909] - LOOKING
2018-06-28 17:42:31,741 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:FastLeaderElection@813] - New election. My id =  1, proposed zxid=0x100000002
2018-06-28 17:42:31,741 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x100000002 (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:42:31,742 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x100000002 (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) FOLLOWING (my state)
2018-06-28 17:42:31,742 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x100000002 (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) LEADING (my state)
2018-06-28 17:42:31,742 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), FOLLOWING (n.state), 0 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:42:31,742 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LEADING (n.state), 2 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:42:31,742 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:QuorumPeer@979] - FOLLOWING
2018-06-28 17:42:31,742 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:ZooKeeperServer@174] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test1335594131461083375.junit.dir/data/version-2 snapdir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test1335594131461083375.junit.dir/data/version-2
2018-06-28 17:42:31,742 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Follower@65] - FOLLOWING - LEADER ELECTION TOOK - 1
2018-06-28 17:42:31,742 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:42:31,743 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:51292:LearnerHandler@346] - Follower sid: 1 : info : org.apache.zookeeper.server.quorum.QuorumPeer$QuorumServer@71a7d530
2018-06-28 17:42:31,743 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:51292:LearnerHandler@401] - Synchronizing with Follower sid: 1 maxCommittedLog=0x100000003 minCommittedLog=0x100000001 peerLastZxid=0x100000002
2018-06-28 17:42:31,743 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:51292:LearnerHandler@475] - Sending DIFF
2018-06-28 17:42:31,744 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Learner@332] - Getting a diff from the leader 0x100000003
2018-06-28 17:42:31,744 [myid:1] - WARN  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Follower@90] - Exception when following the leader
java.net.SocketTimeoutException: Socket timeout while reading the packet for operation PROPOSAL 100000003 null
	at org.apache.zookeeper.server.quorum.EphemeralNodeDeletionTest$CustomQuorumPeer$1.readPacket(EphemeralNodeDeletionTest.java:198)
	at org.apache.zookeeper.server.quorum.Learner.syncWithLeader(Learner.java:380)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:83)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:981)
2018-06-28 17:42:31,744 [myid:2] - ERROR [LearnerHandler-/127.0.0.1:51292:LearnerHandler@648] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:63)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:99)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:530)
2018-06-28 17:42:31,744 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Follower@169] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:169)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:985)
2018-06-28 17:42:31,744 [myid:2] - WARN  [LearnerHandler-/127.0.0.1:51292:LearnerHandler@661] - ******* GOODBYE /127.0.0.1:51292 ********
2018-06-28 17:42:31,744 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:FollowerZooKeeperServer@140] - Shutting down
2018-06-28 17:42:31,744 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:QuorumPeer@909] - LOOKING
2018-06-28 17:42:31,745 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:FastLeaderElection@813] - New election. My id =  1, proposed zxid=0x100000002
2018-06-28 17:42:31,745 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x100000002 (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:42:31,745 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x100000002 (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) FOLLOWING (my state)
2018-06-28 17:42:31,745 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x100000002 (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) LEADING (my state)
2018-06-28 17:42:31,745 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), FOLLOWING (n.state), 0 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:42:31,745 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LEADING (n.state), 2 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:42:31,746 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:QuorumPeer@979] - FOLLOWING
2018-06-28 17:42:31,746 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:ZooKeeperServer@174] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test1335594131461083375.junit.dir/data/version-2 snapdir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test1335594131461083375.junit.dir/data/version-2
2018-06-28 17:42:31,746 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Follower@65] - FOLLOWING - LEADER ELECTION TOOK - 1
2018-06-28 17:42:31,746 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:42:31,747 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:51293:LearnerHandler@346] - Follower sid: 1 : info : org.apache.zookeeper.server.quorum.QuorumPeer$QuorumServer@71a7d530
2018-06-28 17:42:31,747 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:51293:LearnerHandler@401] - Synchronizing with Follower sid: 1 maxCommittedLog=0x100000003 minCommittedLog=0x100000001 peerLastZxid=0x100000002
2018-06-28 17:42:31,747 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:51293:LearnerHandler@475] - Sending DIFF
2018-06-28 17:42:31,747 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Learner@332] - Getting a diff from the leader 0x100000003
2018-06-28 17:42:31,747 [myid:1] - WARN  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Follower@90] - Exception when following the leader
java.net.SocketTimeoutException: Socket timeout while reading the packet for operation PROPOSAL 100000003 null
	at org.apache.zookeeper.server.quorum.EphemeralNodeDeletionTest$CustomQuorumPeer$1.readPacket(EphemeralNodeDeletionTest.java:198)
	at org.apache.zookeeper.server.quorum.Learner.syncWithLeader(Learner.java:380)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:83)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:981)
2018-06-28 17:42:31,748 [myid:2] - ERROR [LearnerHandler-/127.0.0.1:51293:LearnerHandler@648] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:63)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:99)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:530)
2018-06-28 17:42:31,748 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Follower@169] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:169)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:985)
2018-06-28 17:42:31,748 [myid:2] - WARN  [LearnerHandler-/127.0.0.1:51293:LearnerHandler@661] - ******* GOODBYE /127.0.0.1:51293 ********
2018-06-28 17:42:31,748 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:FollowerZooKeeperServer@140] - Shutting down
2018-06-28 17:42:31,748 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:QuorumPeer@909] - LOOKING
2018-06-28 17:42:31,748 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:FastLeaderElection@813] - New election. My id =  1, proposed zxid=0x100000002
2018-06-28 17:42:31,748 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x100000002 (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:42:31,748 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x100000002 (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) FOLLOWING (my state)
2018-06-28 17:42:31,749 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x100000002 (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) LEADING (my state)
2018-06-28 17:42:31,749 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), FOLLOWING (n.state), 0 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:42:31,749 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LEADING (n.state), 2 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:42:31,749 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:QuorumPeer@979] - FOLLOWING
2018-06-28 17:42:31,749 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:ZooKeeperServer@174] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test1335594131461083375.junit.dir/data/version-2 snapdir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test1335594131461083375.junit.dir/data/version-2
2018-06-28 17:42:31,749 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Follower@65] - FOLLOWING - LEADER ELECTION TOOK - 1
2018-06-28 17:42:31,749 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:42:31,750 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:51294:LearnerHandler@346] - Follower sid: 1 : info : org.apache.zookeeper.server.quorum.QuorumPeer$QuorumServer@71a7d530
2018-06-28 17:42:31,750 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:51294:LearnerHandler@401] - Synchronizing with Follower sid: 1 maxCommittedLog=0x100000003 minCommittedLog=0x100000001 peerLastZxid=0x100000002
2018-06-28 17:42:31,750 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:51294:LearnerHandler@475] - Sending DIFF
2018-06-28 17:42:31,750 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Learner@332] - Getting a diff from the leader 0x100000003
2018-06-28 17:42:31,751 [myid:1] - WARN  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Follower@90] - Exception when following the leader
java.net.SocketTimeoutException: Socket timeout while reading the packet for operation PROPOSAL 100000003 null
	at org.apache.zookeeper.server.quorum.EphemeralNodeDeletionTest$CustomQuorumPeer$1.readPacket(EphemeralNodeDeletionTest.java:198)
	at org.apache.zookeeper.server.quorum.Learner.syncWithLeader(Learner.java:380)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:83)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:981)
2018-06-28 17:42:31,751 [myid:2] - ERROR [LearnerHandler-/127.0.0.1:51294:LearnerHandler@648] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:63)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:99)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:530)
2018-06-28 17:42:31,751 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Follower@169] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:169)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:985)
2018-06-28 17:42:31,751 [myid:2] - WARN  [LearnerHandler-/127.0.0.1:51294:LearnerHandler@661] - ******* GOODBYE /127.0.0.1:51294 ********
2018-06-28 17:42:31,751 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:FollowerZooKeeperServer@140] - Shutting down
2018-06-28 17:42:31,751 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:QuorumPeer@909] - LOOKING
2018-06-28 17:42:31,751 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:FastLeaderElection@813] - New election. My id =  1, proposed zxid=0x100000002
2018-06-28 17:42:31,752 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x100000002 (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:42:31,752 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x100000002 (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) FOLLOWING (my state)
2018-06-28 17:42:31,752 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x100000002 (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) LEADING (my state)
2018-06-28 17:42:31,752 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), FOLLOWING (n.state), 0 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:42:31,752 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LEADING (n.state), 2 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:42:31,752 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:QuorumPeer@979] - FOLLOWING
2018-06-28 17:42:31,752 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:ZooKeeperServer@174] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test1335594131461083375.junit.dir/data/version-2 snapdir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test1335594131461083375.junit.dir/data/version-2
2018-06-28 17:42:31,753 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Follower@65] - FOLLOWING - LEADER ELECTION TOOK - 1
2018-06-28 17:42:31,753 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:42:31,754 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:51295:LearnerHandler@346] - Follower sid: 1 : info : org.apache.zookeeper.server.quorum.QuorumPeer$QuorumServer@71a7d530
2018-06-28 17:42:31,754 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:51295:LearnerHandler@401] - Synchronizing with Follower sid: 1 maxCommittedLog=0x100000003 minCommittedLog=0x100000001 peerLastZxid=0x100000002
2018-06-28 17:42:31,754 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:51295:LearnerHandler@475] - Sending DIFF
2018-06-28 17:42:31,754 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Learner@332] - Getting a diff from the leader 0x100000003
2018-06-28 17:42:31,754 [myid:1] - WARN  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Follower@90] - Exception when following the leader
java.net.SocketTimeoutException: Socket timeout while reading the packet for operation PROPOSAL 100000003 null
	at org.apache.zookeeper.server.quorum.EphemeralNodeDeletionTest$CustomQuorumPeer$1.readPacket(EphemeralNodeDeletionTest.java:198)
	at org.apache.zookeeper.server.quorum.Learner.syncWithLeader(Learner.java:380)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:83)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:981)
2018-06-28 17:42:31,754 [myid:2] - ERROR [LearnerHandler-/127.0.0.1:51295:LearnerHandler@648] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:63)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:99)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:530)
2018-06-28 17:42:31,754 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Follower@169] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:169)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:985)
2018-06-28 17:42:31,755 [myid:2] - WARN  [LearnerHandler-/127.0.0.1:51295:LearnerHandler@661] - ******* GOODBYE /127.0.0.1:51295 ********
2018-06-28 17:42:31,755 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:FollowerZooKeeperServer@140] - Shutting down
2018-06-28 17:42:31,755 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:QuorumPeer@909] - LOOKING
2018-06-28 17:42:31,755 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:FastLeaderElection@813] - New election. My id =  1, proposed zxid=0x100000002
2018-06-28 17:42:31,755 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x100000002 (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:42:31,755 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x100000002 (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) FOLLOWING (my state)
2018-06-28 17:42:31,755 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x100000002 (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) LEADING (my state)
2018-06-28 17:42:31,756 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), FOLLOWING (n.state), 0 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:42:31,756 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LEADING (n.state), 2 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:42:31,756 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:QuorumPeer@979] - FOLLOWING
2018-06-28 17:42:31,756 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:ZooKeeperServer@174] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test1335594131461083375.junit.dir/data/version-2 snapdir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test1335594131461083375.junit.dir/data/version-2
2018-06-28 17:42:31,756 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Follower@65] - FOLLOWING - LEADER ELECTION TOOK - 1
2018-06-28 17:42:31,756 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:42:31,757 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:51296:LearnerHandler@346] - Follower sid: 1 : info : org.apache.zookeeper.server.quorum.QuorumPeer$QuorumServer@71a7d530
2018-06-28 17:42:31,757 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:51296:LearnerHandler@401] - Synchronizing with Follower sid: 1 maxCommittedLog=0x100000003 minCommittedLog=0x100000001 peerLastZxid=0x100000002
2018-06-28 17:42:31,757 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:51296:LearnerHandler@475] - Sending DIFF
2018-06-28 17:42:31,757 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Learner@332] - Getting a diff from the leader 0x100000003
2018-06-28 17:42:31,758 [myid:1] - WARN  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Follower@90] - Exception when following the leader
java.net.SocketTimeoutException: Socket timeout while reading the packet for operation PROPOSAL 100000003 null
	at org.apache.zookeeper.server.quorum.EphemeralNodeDeletionTest$CustomQuorumPeer$1.readPacket(EphemeralNodeDeletionTest.java:198)
	at org.apache.zookeeper.server.quorum.Learner.syncWithLeader(Learner.java:380)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:83)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:981)
2018-06-28 17:42:31,758 [myid:2] - ERROR [LearnerHandler-/127.0.0.1:51296:LearnerHandler@648] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:63)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:99)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:530)
2018-06-28 17:42:31,758 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Follower@169] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:169)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:985)
2018-06-28 17:42:31,758 [myid:2] - WARN  [LearnerHandler-/127.0.0.1:51296:LearnerHandler@661] - ******* GOODBYE /127.0.0.1:51296 ********
2018-06-28 17:42:31,758 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:FollowerZooKeeperServer@140] - Shutting down
2018-06-28 17:42:31,758 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:QuorumPeer@909] - LOOKING
2018-06-28 17:42:31,758 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:FastLeaderElection@813] - New election. My id =  1, proposed zxid=0x100000002
2018-06-28 17:42:31,759 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x100000002 (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:42:31,759 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x100000002 (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) LEADING (my state)
2018-06-28 17:42:31,759 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x100000002 (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) FOLLOWING (my state)
2018-06-28 17:42:31,759 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LEADING (n.state), 2 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:42:31,759 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), FOLLOWING (n.state), 0 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:42:31,759 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:QuorumPeer@979] - FOLLOWING
2018-06-28 17:42:31,759 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:ZooKeeperServer@174] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test1335594131461083375.junit.dir/data/version-2 snapdir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test1335594131461083375.junit.dir/data/version-2
2018-06-28 17:42:31,759 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Follower@65] - FOLLOWING - LEADER ELECTION TOOK - 1
2018-06-28 17:42:31,760 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:42:31,760 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:51297:LearnerHandler@346] - Follower sid: 1 : info : org.apache.zookeeper.server.quorum.QuorumPeer$QuorumServer@71a7d530
2018-06-28 17:42:31,761 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:51297:LearnerHandler@401] - Synchronizing with Follower sid: 1 maxCommittedLog=0x100000003 minCommittedLog=0x100000001 peerLastZxid=0x100000002
2018-06-28 17:42:31,761 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:51297:LearnerHandler@475] - Sending DIFF
2018-06-28 17:42:31,761 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Learner@332] - Getting a diff from the leader 0x100000003
2018-06-28 17:42:31,761 [myid:1] - WARN  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Follower@90] - Exception when following the leader
java.net.SocketTimeoutException: Socket timeout while reading the packet for operation PROPOSAL 100000003 null
	at org.apache.zookeeper.server.quorum.EphemeralNodeDeletionTest$CustomQuorumPeer$1.readPacket(EphemeralNodeDeletionTest.java:198)
	at org.apache.zookeeper.server.quorum.Learner.syncWithLeader(Learner.java:380)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:83)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:981)
2018-06-28 17:42:31,761 [myid:2] - ERROR [LearnerHandler-/127.0.0.1:51297:LearnerHandler@648] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:63)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:99)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:530)
2018-06-28 17:42:31,761 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Follower@169] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:169)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:985)
2018-06-28 17:42:31,762 [myid:2] - WARN  [LearnerHandler-/127.0.0.1:51297:LearnerHandler@661] - ******* GOODBYE /127.0.0.1:51297 ********
2018-06-28 17:42:31,762 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:FollowerZooKeeperServer@140] - Shutting down
2018-06-28 17:42:31,762 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:QuorumPeer@909] - LOOKING
2018-06-28 17:42:31,762 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:FastLeaderElection@813] - New election. My id =  1, proposed zxid=0x100000002
2018-06-28 17:42:31,762 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x100000002 (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:42:31,762 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x100000002 (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) FOLLOWING (my state)
2018-06-28 17:42:31,762 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x100000002 (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) LEADING (my state)
2018-06-28 17:42:31,763 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), FOLLOWING (n.state), 0 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:42:31,763 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LEADING (n.state), 2 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:42:31,763 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:QuorumPeer@979] - FOLLOWING
2018-06-28 17:42:31,763 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:ZooKeeperServer@174] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test1335594131461083375.junit.dir/data/version-2 snapdir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test1335594131461083375.junit.dir/data/version-2
2018-06-28 17:42:31,763 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Follower@65] - FOLLOWING - LEADER ELECTION TOOK - 1
2018-06-28 17:42:31,763 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:42:31,764 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:51298:LearnerHandler@346] - Follower sid: 1 : info : org.apache.zookeeper.server.quorum.QuorumPeer$QuorumServer@71a7d530
2018-06-28 17:42:31,764 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:51298:LearnerHandler@401] - Synchronizing with Follower sid: 1 maxCommittedLog=0x100000003 minCommittedLog=0x100000001 peerLastZxid=0x100000002
2018-06-28 17:42:31,765 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:51298:LearnerHandler@475] - Sending DIFF
2018-06-28 17:42:31,765 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Learner@332] - Getting a diff from the leader 0x100000003
2018-06-28 17:42:31,765 [myid:1] - WARN  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Follower@90] - Exception when following the leader
java.net.SocketTimeoutException: Socket timeout while reading the packet for operation PROPOSAL 100000003 null
	at org.apache.zookeeper.server.quorum.EphemeralNodeDeletionTest$CustomQuorumPeer$1.readPacket(EphemeralNodeDeletionTest.java:198)
	at org.apache.zookeeper.server.quorum.Learner.syncWithLeader(Learner.java:380)
	at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:83)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:981)
2018-06-28 17:42:31,765 [myid:2] - ERROR [LearnerHandler-/127.0.0.1:51298:LearnerHandler@648] - Unexpected exception causing shutdown while sock still open
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:63)
	at org.apache.zookeeper.server.quorum.QuorumPacket.deserialize(QuorumPacket.java:85)
	at org.apache.jute.BinaryInputArchive.readRecord(BinaryInputArchive.java:99)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:530)
2018-06-28 17:42:31,765 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Follower@169] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:169)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:985)
2018-06-28 17:42:31,766 [myid:2] - WARN  [LearnerHandler-/127.0.0.1:51298:LearnerHandler@661] - ******* GOODBYE /127.0.0.1:51298 ********
2018-06-28 17:42:31,766 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:FollowerZooKeeperServer@140] - Shutting down
2018-06-28 17:42:31,766 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:QuorumPeer@909] - LOOKING
2018-06-28 17:42:31,766 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:FastLeaderElection@813] - New election. My id =  1, proposed zxid=0x100000002
2018-06-28 17:42:31,766 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x100000002 (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:42:31,766 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x100000002 (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) FOLLOWING (my state)
2018-06-28 17:42:31,766 [myid:2] - INFO  [WorkerReceiver[myid=2]:FastLeaderElection@595] - Notification: 1 (message format version), 1 (n.leader), 0x100000002 (n.zxid), 0x2 (n.round), LOOKING (n.state), 1 (n.sid), 0x1 (n.peerEpoch) LEADING (my state)
2018-06-28 17:42:31,767 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), FOLLOWING (n.state), 0 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:42:31,767 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection@595] - Notification: 1 (message format version), 2 (n.leader), 0x0 (n.zxid), 0x1 (n.round), LEADING (n.state), 2 (n.sid), 0x1 (n.peerEpoch) LOOKING (my state)
2018-06-28 17:42:31,767 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:QuorumPeer@979] - FOLLOWING
2018-06-28 17:42:31,767 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:ZooKeeperServer@174] - Created server with tickTime 4000 minSessionTimeout 8000 maxSessionTimeout 80000 datadir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test1335594131461083375.junit.dir/data/version-2 snapdir /Users/hanm/Desktop/projects/git/apache/zookeeper/build/test/tmp/test1335594131461083375.junit.dir/data/version-2
2018-06-28 17:42:31,767 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Follower@65] - FOLLOWING - LEADER ELECTION TOOK - 1
2018-06-28 17:42:31,767 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:QuorumPeer$QuorumServer@184] - Resolved hostname: 127.0.0.1 to address: /127.0.0.1
2018-06-28 17:42:31,769 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:51299:LearnerHandler@346] - Follower sid: 1 : info : org.apache.zookeeper.server.quorum.QuorumPeer$QuorumServer@71a7d530
2018-06-28 17:42:31,770 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:51299:LearnerHandler@401] - Synchronizing with Follower sid: 1 maxCommittedLog=0x100000003 minCommittedLog=0x100000001 peerLastZxid=0x100000002
2018-06-28 17:42:31,771 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:51299:LearnerHandler@475] - Sending DIFF
2018-06-28 17:42:31,771 [myid:] - INFO  [Time-limited test:ZooKeeper@693] - Session: 0x1000655decb0000 closed
2018-06-28 17:42:31,771 [myid:] - INFO  [Time-limited test-EventThread:ClientCnxn$EventThread@522] - EventThread shut down for session: 0x1000655decb0000
2018-06-28 17:42:31,771 [myid:] - INFO  [Time-limited test:FourLetterWordMain@65] - connecting to 127.0.0.1 11224
2018-06-28 17:42:31,771 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Learner@332] - Getting a diff from the leader 0x100000003
2018-06-28 17:42:31,772 [myid:1] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11224:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:51300
2018-06-28 17:42:31,772 [myid:1] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11224:NIOServerCnxn@908] - Processing stat command from /127.0.0.1:51300
2018-06-28 17:42:31,772 [myid:1] - WARN  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Learner@387] - Got zxid 0x100000003 expected 0x1
2018-06-28 17:42:31,773 [myid:1] - INFO  [Thread-37:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:51300 (no session established for client)
2018-06-28 17:42:31,775 [myid:2] - INFO  [LearnerHandler-/127.0.0.1:51299:LearnerHandler@535] - Received NEWLEADER-ACK message from 1
2018-06-28 17:42:32,023 [myid:] - INFO  [Time-limited test:FourLetterWordMain@65] - connecting to 127.0.0.1 11224
2018-06-28 17:42:32,024 [myid:1] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11224:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:51301
2018-06-28 17:42:32,024 [myid:1] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11224:NIOServerCnxn@908] - Processing stat command from /127.0.0.1:51301
2018-06-28 17:42:32,025 [myid:1] - INFO  [Thread-38:NIOServerCnxn$StatCommand@687] - Stat command output
2018-06-28 17:42:32,025 [myid:1] - INFO  [Thread-38:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:51301 (no session established for client)
2018-06-28 17:42:32,025 [myid:] - INFO  [Time-limited test:FourLetterWordMain@65] - connecting to 127.0.0.1 11227
2018-06-28 17:42:32,026 [myid:2] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11227:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:51302
2018-06-28 17:42:32,026 [myid:2] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11227:NIOServerCnxn@908] - Processing stat command from /127.0.0.1:51302
2018-06-28 17:42:32,026 [myid:2] - INFO  [Thread-39:NIOServerCnxn$StatCommand@687] - Stat command output
2018-06-28 17:42:32,027 [myid:2] - INFO  [Thread-39:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:51302 (no session established for client)
2018-06-28 17:42:32,027 [myid:] - INFO  [Time-limited test:ZooKeeper@442] - Initiating client connection, connectString=127.0.0.1:11227 sessionTimeout=30000 watcher=org.apache.zookeeper.test.ClientBase$CountdownWatcher@5371547d
2018-06-28 17:42:32,028 [myid:] - INFO  [Time-limited test-SendThread(localhost:11227):ClientCnxn$SendThread@1029] - Opening socket connection to server localhost/127.0.0.1:11227. Will not attempt to authenticate using SASL (unknown error)
2018-06-28 17:42:32,029 [myid:] - INFO  [Time-limited test-SendThread(localhost:11227):ClientCnxn$SendThread@879] - Socket connection established to localhost/127.0.0.1:11227, initiating session
2018-06-28 17:42:32,029 [myid:2] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11227:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:51303
2018-06-28 17:42:32,029 [myid:2] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11227:ZooKeeperServer@949] - Client attempting to establish new session at /127.0.0.1:51303
2018-06-28 17:42:32,029 [myid:1] - WARN  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Follower@119] - Got zxid 0x100000004 expected 0x1
2018-06-28 17:42:32,030 [myid:2] - INFO  [CommitProcessor:2:ZooKeeperServer@694] - Established session 0x2000655dece0000 with negotiated timeout 30000 for client /127.0.0.1:51303
2018-06-28 17:42:32,030 [myid:] - INFO  [Time-limited test-SendThread(localhost:11227):ClientCnxn$SendThread@1303] - Session establishment complete on server localhost/127.0.0.1:11227, sessionid = 0x2000655dece0000, negotiated timeout = 30000
2018-06-28 17:42:32,035 [myid:] - INFO  [Time-limited test:ZooKeeper@442] - Initiating client connection, connectString=127.0.0.1:11224 sessionTimeout=30000 watcher=org.apache.zookeeper.test.ClientBase$CountdownWatcher@65dfe77e
2018-06-28 17:42:32,037 [myid:] - INFO  [Time-limited test-SendThread(localhost:11224):ClientCnxn$SendThread@1029] - Opening socket connection to server localhost/127.0.0.1:11224. Will not attempt to authenticate using SASL (unknown error)
2018-06-28 17:42:32,037 [myid:] - INFO  [Time-limited test-SendThread(localhost:11224):ClientCnxn$SendThread@879] - Socket connection established to localhost/127.0.0.1:11224, initiating session
2018-06-28 17:42:32,037 [myid:1] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11224:NIOServerCnxnFactory@215] - Accepted socket connection from /127.0.0.1:51304
2018-06-28 17:42:32,037 [myid:1] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11224:ZooKeeperServer@949] - Client attempting to establish new session at /127.0.0.1:51304
2018-06-28 17:42:32,039 [myid:1] - INFO  [CommitProcessor:1:ZooKeeperServer@694] - Established session 0x1000655dfa50000 with negotiated timeout 30000 for client /127.0.0.1:51304
2018-06-28 17:42:32,039 [myid:] - INFO  [Time-limited test-SendThread(localhost:11224):ClientCnxn$SendThread@1303] - Session establishment complete on server localhost/127.0.0.1:11224, sessionid = 0x1000655dfa50000, negotiated timeout = 30000
2018-06-28 17:42:32,041 [myid:2] - INFO  [ProcessThread(sid:2 cport:-1)::PrepRequestProcessor@487] - Processed session termination for sessionid: 0x2000655dece0000
2018-06-28 17:42:32,042 [myid:] - INFO  [Time-limited test:ZooKeeper@693] - Session: 0x2000655dece0000 closed
2018-06-28 17:42:32,042 [myid:] - INFO  [Time-limited test-EventThread:ClientCnxn$EventThread@522] - EventThread shut down for session: 0x2000655dece0000
2018-06-28 17:42:32,042 [myid:2] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11227:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:51303 which had sessionid 0x2000655dece0000
2018-06-28 17:42:32,043 [myid:2] - INFO  [ProcessThread(sid:2 cport:-1)::PrepRequestProcessor@487] - Processed session termination for sessionid: 0x1000655dfa50000
2018-06-28 17:42:32,044 [myid:] - INFO  [Time-limited test:ZooKeeper@693] - Session: 0x1000655dfa50000 closed
2018-06-28 17:42:32,044 [myid:1] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11224:NIOServerCnxn@1056] - Closed socket connection for client /127.0.0.1:51304 which had sessionid 0x1000655dfa50000
2018-06-28 17:42:32,044 [myid:] - INFO  [Time-limited test:JUnit4ZKTestRunner$LoggedInvokeMethod@58] - Memory used 26180
2018-06-28 17:42:32,044 [myid:] - INFO  [Time-limited test-EventThread:ClientCnxn$EventThread@522] - EventThread shut down for session: 0x1000655dfa50000
2018-06-28 17:42:32,044 [myid:] - INFO  [Time-limited test:JUnit4ZKTestRunner$LoggedInvokeMethod@63] - Number of threads 53
2018-06-28 17:42:32,044 [myid:] - INFO  [Time-limited test:JUnit4ZKTestRunner$LoggedInvokeMethod@78] - FINISHED TEST METHOD testEphemeralNodeDeletion
2018-06-28 17:42:32,046 [myid:] - INFO  [main:QuorumBase@306] - Shutting down quorum peer QuorumPeer[myid=0]/0:0:0:0:0:0:0:0:11221
2018-06-28 17:42:32,046 [myid:] - INFO  [main:Follower@169] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:169)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1026)
	at org.apache.zookeeper.test.QuorumBase.shutdown(QuorumBase.java:307)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$TestQPMain.shutdown(QuorumPeerTestBase.java:59)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.shutdown(QuorumPeerTestBase.java:171)
	at org.apache.zookeeper.server.quorum.EphemeralNodeDeletionTest.tearDown(EphemeralNodeDeletionTest.java:157)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:33)
	at org.junit.rules.TestWatchman$1.evaluate(TestWatchman.java:53)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:38)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:536)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1205)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1048)
2018-06-28 17:42:32,046 [myid:] - INFO  [main:FollowerZooKeeperServer@140] - Shutting down
2018-06-28 17:42:32,047 [myid:] - INFO  [main:ZooKeeperServer@502] - shutting down
2018-06-28 17:42:32,047 [myid:] - INFO  [main:FollowerRequestProcessor@107] - Shutting down
2018-06-28 17:42:32,047 [myid:] - INFO  [main:CommitProcessor@184] - Shutting down
2018-06-28 17:42:32,047 [myid:0] - INFO  [FollowerRequestProcessor:0:FollowerRequestProcessor@97] - FollowerRequestProcessor exited loop!
2018-06-28 17:42:32,047 [myid:0] - INFO  [CommitProcessor:0:CommitProcessor@153] - CommitProcessor exited loop!
2018-06-28 17:42:32,047 [myid:] - INFO  [main:FinalRequestProcessor@403] - shutdown of request processor complete
2018-06-28 17:42:32,048 [myid:] - INFO  [main:SyncRequestProcessor@208] - Shutting down
2018-06-28 17:42:32,048 [myid:0] - INFO  [SyncThread:0:SyncRequestProcessor@186] - SyncRequestProcessor exited!
2018-06-28 17:42:32,048 [myid:0] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11221:NIOServerCnxnFactory@242] - NIOServerCnxn factory exited run method
2018-06-28 17:42:32,048 [myid:0] - ERROR [/127.0.0.1:11223:QuorumCnxManager$Listener@760] - Exception while listening
java.net.SocketException: Socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:409)
	at java.net.ServerSocket.implAccept(ServerSocket.java:545)
	at java.net.ServerSocket.accept(ServerSocket.java:513)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$Listener.run(QuorumCnxManager.java:741)
2018-06-28 17:42:32,049 [myid:1] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@1025] - Connection broken for id 0, my id = 1, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1010)
2018-06-28 17:42:32,049 [myid:1] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@1028] - Interrupting SendWorker
2018-06-28 17:42:32,049 [myid:0] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@941] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:418)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1094)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$700(QuorumCnxManager.java:74)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:929)
2018-06-28 17:42:32,049 [myid:0] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@951] - Send worker leaving thread
2018-06-28 17:42:32,049 [myid:2] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@1025] - Connection broken for id 0, my id = 2, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1010)
2018-06-28 17:42:32,049 [myid:2] - WARN  [RecvWorker:0:QuorumCnxManager$RecvWorker@1028] - Interrupting SendWorker
2018-06-28 17:42:32,049 [myid:0] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1025] - Connection broken for id 1, my id = 0, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1010)
2018-06-28 17:42:32,049 [myid:0] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1028] - Interrupting SendWorker
2018-06-28 17:42:32,049 [myid:0] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@941] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:418)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1094)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$700(QuorumCnxManager.java:74)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:929)
2018-06-28 17:42:32,050 [myid:0] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@951] - Send worker leaving thread
2018-06-28 17:42:32,049 [myid:2] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@941] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:418)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1094)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$700(QuorumCnxManager.java:74)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:929)
2018-06-28 17:42:32,050 [myid:2] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@951] - Send worker leaving thread
2018-06-28 17:42:32,049 [myid:1] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@941] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:418)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1094)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$700(QuorumCnxManager.java:74)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:929)
2018-06-28 17:42:32,050 [myid:1] - WARN  [SendWorker:0:QuorumCnxManager$SendWorker@951] - Send worker leaving thread
2018-06-28 17:42:32,049 [myid:] - INFO  [main:QuorumBase@310] - Shutting down leader election QuorumPeer[myid=0]/0:0:0:0:0:0:0:0:11221
2018-06-28 17:42:32,049 [myid:0] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1025] - Connection broken for id 2, my id = 0, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1010)
2018-06-28 17:42:32,050 [myid:0] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1028] - Interrupting SendWorker
2018-06-28 17:42:32,050 [myid:] - INFO  [main:QuorumBase@315] - Waiting for QuorumPeer[myid=0]/0:0:0:0:0:0:0:0:11221 to exit thread
2018-06-28 17:42:33,050 [myid:0] - INFO  [/127.0.0.1:11223:QuorumCnxManager$Listener@773] - Leaving listener
2018-06-28 17:42:33,575 [myid:0] - INFO  [QuorumPeer[myid=0]/0:0:0:0:0:0:0:0:11221:Follower@169] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:169)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:985)
2018-06-28 17:42:33,576 [myid:0] - INFO  [QuorumPeer[myid=0]/0:0:0:0:0:0:0:0:11221:FollowerZooKeeperServer@140] - Shutting down
2018-06-28 17:42:33,576 [myid:0] - INFO  [QuorumPeer[myid=0]/0:0:0:0:0:0:0:0:11221:SyncRequestProcessor@208] - Shutting down
2018-06-28 17:42:33,576 [myid:0] - WARN  [QuorumPeer[myid=0]/0:0:0:0:0:0:0:0:11221:QuorumPeer@1009] - QuorumPeer main thread exited
2018-06-28 17:42:33,577 [myid:] - INFO  [main:QuorumBase@306] - Shutting down quorum peer QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224
2018-06-28 17:42:33,577 [myid:] - INFO  [main:Follower@169] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:169)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1026)
	at org.apache.zookeeper.test.QuorumBase.shutdown(QuorumBase.java:307)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$TestQPMain.shutdown(QuorumPeerTestBase.java:59)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.shutdown(QuorumPeerTestBase.java:171)
	at org.apache.zookeeper.server.quorum.EphemeralNodeDeletionTest.tearDown(EphemeralNodeDeletionTest.java:157)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:33)
	at org.junit.rules.TestWatchman$1.evaluate(TestWatchman.java:53)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:38)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:536)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1205)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1048)
2018-06-28 17:42:33,577 [myid:] - INFO  [main:FollowerZooKeeperServer@140] - Shutting down
2018-06-28 17:42:33,577 [myid:] - INFO  [main:ZooKeeperServer@502] - shutting down
2018-06-28 17:42:33,577 [myid:] - INFO  [main:FollowerRequestProcessor@107] - Shutting down
2018-06-28 17:42:33,577 [myid:] - INFO  [main:CommitProcessor@184] - Shutting down
2018-06-28 17:42:33,577 [myid:1] - INFO  [FollowerRequestProcessor:1:FollowerRequestProcessor@97] - FollowerRequestProcessor exited loop!
2018-06-28 17:42:33,578 [myid:1] - INFO  [CommitProcessor:1:CommitProcessor@153] - CommitProcessor exited loop!
2018-06-28 17:42:33,578 [myid:] - INFO  [main:FinalRequestProcessor@403] - shutdown of request processor complete
2018-06-28 17:42:33,578 [myid:] - INFO  [main:SyncRequestProcessor@208] - Shutting down
2018-06-28 17:42:33,578 [myid:1] - INFO  [SyncThread:1:SyncRequestProcessor@186] - SyncRequestProcessor exited!
2018-06-28 17:42:33,579 [myid:1] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11224:NIOServerCnxnFactory@242] - NIOServerCnxn factory exited run method
2018-06-28 17:42:33,579 [myid:1] - ERROR [/127.0.0.1:11226:QuorumCnxManager$Listener@760] - Exception while listening
java.net.SocketException: Socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:409)
	at java.net.ServerSocket.implAccept(ServerSocket.java:545)
	at java.net.ServerSocket.accept(ServerSocket.java:513)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$Listener.run(QuorumCnxManager.java:741)
2018-06-28 17:42:33,579 [myid:] - INFO  [main:QuorumBase@310] - Shutting down leader election QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224
2018-06-28 17:42:33,579 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1025] - Connection broken for id 1, my id = 2, error = 
java.io.EOFException
	at java.io.DataInputStream.readInt(DataInputStream.java:392)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1010)
2018-06-28 17:42:33,579 [myid:2] - WARN  [RecvWorker:1:QuorumCnxManager$RecvWorker@1028] - Interrupting SendWorker
2018-06-28 17:42:33,579 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@941] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:418)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1094)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$700(QuorumCnxManager.java:74)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:929)
2018-06-28 17:42:33,579 [myid:1] - WARN  [SendWorker:2:QuorumCnxManager$SendWorker@951] - Send worker leaving thread
2018-06-28 17:42:33,579 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@941] - Interrupted while waiting for message on queue
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.reportInterruptAfterWait(AbstractQueuedSynchronizer.java:2014)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:2088)
	at java.util.concurrent.ArrayBlockingQueue.poll(ArrayBlockingQueue.java:418)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1094)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$700(QuorumCnxManager.java:74)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:929)
2018-06-28 17:42:33,579 [myid:2] - WARN  [SendWorker:1:QuorumCnxManager$SendWorker@951] - Send worker leaving thread
2018-06-28 17:42:33,579 [myid:] - INFO  [main:QuorumBase@315] - Waiting for QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224 to exit thread
2018-06-28 17:42:33,579 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1025] - Connection broken for id 2, my id = 1, error = 
java.net.SocketException: Socket closed
	at java.net.SocketInputStream.socketRead0(Native Method)
	at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)
	at java.net.SocketInputStream.read(SocketInputStream.java:171)
	at java.net.SocketInputStream.read(SocketInputStream.java:141)
	at java.io.BufferedInputStream.fill(BufferedInputStream.java:246)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:265)
	at java.io.DataInputStream.readInt(DataInputStream.java:387)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$RecvWorker.run(QuorumCnxManager.java:1010)
2018-06-28 17:42:33,580 [myid:1] - WARN  [RecvWorker:2:QuorumCnxManager$RecvWorker@1028] - Interrupting SendWorker
2018-06-28 17:42:34,584 [myid:1] - INFO  [/127.0.0.1:11226:QuorumCnxManager$Listener@773] - Leaving listener
2018-06-28 17:42:34,770 [myid:0] - INFO  [WorkerReceiver[myid=0]:FastLeaderElection$Messenger$WorkerReceiver@409] - WorkerReceiver is down
2018-06-28 17:42:34,770 [myid:1] - INFO  [WorkerSender[myid=1]:FastLeaderElection$Messenger$WorkerSender@440] - WorkerSender is down
2018-06-28 17:42:34,770 [myid:1] - INFO  [WorkerReceiver[myid=1]:FastLeaderElection$Messenger$WorkerReceiver@409] - WorkerReceiver is down
2018-06-28 17:42:34,770 [myid:0] - INFO  [WorkerSender[myid=0]:FastLeaderElection$Messenger$WorkerSender@440] - WorkerSender is down
2018-06-28 17:42:35,579 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:Follower@169] - shutdown called
java.lang.Exception: shutdown Follower
	at org.apache.zookeeper.server.quorum.Follower.shutdown(Follower.java:169)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:985)
2018-06-28 17:42:35,579 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:FollowerZooKeeperServer@140] - Shutting down
2018-06-28 17:42:35,579 [myid:1] - INFO  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:SyncRequestProcessor@208] - Shutting down
2018-06-28 17:42:35,579 [myid:1] - WARN  [QuorumPeer[myid=1]/0:0:0:0:0:0:0:0:11224:QuorumPeer@1009] - QuorumPeer main thread exited
2018-06-28 17:42:35,579 [myid:] - INFO  [main:QuorumBase@306] - Shutting down quorum peer QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11227
2018-06-28 17:42:35,580 [myid:] - INFO  [main:Leader@520] - Shutting down
2018-06-28 17:42:35,580 [myid:] - INFO  [main:Leader@526] - Shutdown called
java.lang.Exception: shutdown Leader! reason: quorum Peer shutdown
	at org.apache.zookeeper.server.quorum.Leader.shutdown(Leader.java:526)
	at org.apache.zookeeper.server.quorum.QuorumPeer.shutdown(QuorumPeer.java:1023)
	at org.apache.zookeeper.test.QuorumBase.shutdown(QuorumBase.java:307)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$TestQPMain.shutdown(QuorumPeerTestBase.java:59)
	at org.apache.zookeeper.server.quorum.QuorumPeerTestBase$MainThread.shutdown(QuorumPeerTestBase.java:171)
	at org.apache.zookeeper.server.quorum.EphemeralNodeDeletionTest.tearDown(EphemeralNodeDeletionTest.java:157)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:33)
	at org.junit.rules.TestWatchman$1.evaluate(TestWatchman.java:53)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at junit.framework.JUnit4TestAdapter.run(JUnit4TestAdapter.java:38)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.run(JUnitTestRunner.java:536)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.launch(JUnitTestRunner.java:1205)
	at org.apache.tools.ant.taskdefs.optional.junit.JUnitTestRunner.main(JUnitTestRunner.java:1048)
2018-06-28 17:42:35,580 [myid:] - INFO  [main:ZooKeeperServer@502] - shutting down
2018-06-28 17:42:35,580 [myid:2] - INFO  [LearnerCnxAcceptor-/127.0.0.1:11228:Leader$LearnerCnxAcceptor@340] - exception while shutting down acceptor: java.net.SocketException: Socket closed
2018-06-28 17:42:35,580 [myid:] - INFO  [main:SessionTrackerImpl@226] - Shutting down
2018-06-28 17:42:35,581 [myid:] - INFO  [main:PrepRequestProcessor@769] - Shutting down
2018-06-28 17:42:35,581 [myid:] - INFO  [main:ProposalRequestProcessor@88] - Shutting down
2018-06-28 17:42:35,581 [myid:2] - INFO  [ProcessThread(sid:2 cport:-1)::PrepRequestProcessor@144] - PrepRequestProcessor exited loop!
2018-06-28 17:42:35,581 [myid:] - INFO  [main:CommitProcessor@184] - Shutting down
2018-06-28 17:42:35,581 [myid:2] - INFO  [CommitProcessor:2:CommitProcessor@153] - CommitProcessor exited loop!
2018-06-28 17:42:35,581 [myid:] - INFO  [main:Leader$ToBeAppliedRequestProcessor@685] - Shutting down
2018-06-28 17:42:35,581 [myid:] - INFO  [main:FinalRequestProcessor@403] - shutdown of request processor complete
2018-06-28 17:42:35,581 [myid:] - INFO  [main:SyncRequestProcessor@208] - Shutting down
2018-06-28 17:42:35,581 [myid:2] - INFO  [SyncThread:2:SyncRequestProcessor@186] - SyncRequestProcessor exited!
2018-06-28 17:42:35,583 [myid:2] - INFO  [NIOServerCxn.Factory:0.0.0.0/0.0.0.0:11227:NIOServerCnxnFactory@242] - NIOServerCnxn factory exited run method
2018-06-28 17:42:35,583 [myid:2] - WARN  [LearnerHandler-/127.0.0.1:51299:LearnerHandler@661] - ******* GOODBYE /127.0.0.1:51299 ********
2018-06-28 17:42:35,583 [myid:2] - WARN  [LearnerHandler-/127.0.0.1:51268:LearnerHandler@661] - ******* GOODBYE /127.0.0.1:51268 ********
2018-06-28 17:42:35,583 [myid:2] - WARN  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11227:QuorumPeer@997] - Unexpected exception
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at org.apache.zookeeper.server.quorum.Leader.lead(Leader.java:474)
	at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:994)
2018-06-28 17:42:35,583 [myid:] - INFO  [main:QuorumBase@310] - Shutting down leader election QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11227
2018-06-28 17:42:35,583 [myid:2] - ERROR [/127.0.0.1:11229:QuorumCnxManager$Listener@760] - Exception while listening
java.net.SocketException: Socket closed
	at java.net.PlainSocketImpl.socketAccept(Native Method)
	at java.net.AbstractPlainSocketImpl.accept(AbstractPlainSocketImpl.java:409)
	at java.net.ServerSocket.implAccept(ServerSocket.java:545)
	at java.net.ServerSocket.accept(ServerSocket.java:513)
	at org.apache.zookeeper.server.quorum.QuorumCnxManager$Listener.run(QuorumCnxManager.java:741)
2018-06-28 17:42:35,583 [myid:2] - WARN  [LearnerHandler-/127.0.0.1:51268:LearnerHandler@673] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1220)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:335)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:339)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:671)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:664)
2018-06-28 17:42:35,583 [myid:2] - WARN  [LearnerHandler-/127.0.0.1:51299:LearnerHandler@673] - Ignoring unexpected exception
java.lang.InterruptedException
	at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1220)
	at java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:335)
	at java.util.concurrent.LinkedBlockingQueue.put(LinkedBlockingQueue.java:339)
	at org.apache.zookeeper.server.quorum.LearnerHandler.shutdown(LearnerHandler.java:671)
	at org.apache.zookeeper.server.quorum.LearnerHandler.run(LearnerHandler.java:664)
2018-06-28 17:42:35,583 [myid:] - INFO  [main:QuorumBase@315] - Waiting for QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11227 to exit thread
2018-06-28 17:42:35,583 [myid:2] - INFO  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11227:Leader@520] - Shutting down
2018-06-28 17:42:35,584 [myid:2] - WARN  [QuorumPeer[myid=2]/0:0:0:0:0:0:0:0:11227:QuorumPeer@1009] - QuorumPeer main thread exited
2018-06-28 17:42:35,585 [myid:] - INFO  [main:ZKTestCase$1@69] - SUCCEEDED testEphemeralNodeDeletion
2018-06-28 17:42:35,585 [myid:] - INFO  [main:ZKTestCase$1@64] - FINISHED testEphemeralNodeDeletion
------------- ---------------- ---------------

Testcase: testEphemeralNodeDeletion took 4.58 sec
